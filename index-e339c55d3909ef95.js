window.__noodl_modules = [];
window.Noodl = {
    defineModule:function(m) {
        window.__noodl_modules.push(m);
    },
    deployed: true,
    Env: {}
}

window.projectData = {"settings":{"bodyScroll":true,"navigationPathType":"path","mqtt-module-broker-url":"wss://hiveclip:hR9sfDNFCIFum3Dz@hiveclip.cloud.shiftr.io"},"components":[{"name":"/App","nodes":[{"id":"246f9453-a119-ac78-171e-3806cf596ecc","type":"Group","parameters":{"backgroundColor":"#FFFFFF","minHeight":{"value":100,"unit":"vh"}},"ports":[],"children":[{"id":"53952126-61e8-792d-ab1e-8f7857bc64b6","type":"/Global visual components/Header","parameters":{},"ports":[],"children":[]},{"id":"a24a02ae-c1b8-1250-72c3-a1d48cbc9558","type":"Router","parameters":{"name":"Main","pages":{"routes":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/project","/#Pages/experiment","/#Pages/projects","/#Pages/compositions"],"startPage":"/#Pages/dashboard"}},"ports":[],"children":[]}]},{"id":"44f02f3e-9bc7-51d1-8116-6fe31df56b86","type":"/#Directus/Directus Prefab/Initial Set Up/Set up Directus - Option 1 (env)","parameters":{},"ports":[],"children":[]},{"id":"8fe11d25-b588-c266-4eeb-a4c9f28b4bc8","type":"/Global logical components/Preload queries","parameters":{},"ports":[],"children":[]},{"id":"6cba386e-8b51-f4f5-5853-212245b4c32e","type":"Model2","parameters":{"modelId":"Current User","properties":"authenticated"},"ports":[],"children":[]},{"id":"5123bee8-2079-220c-64b9-92cb450e44de","type":"Expression","parameters":{"expression":"!authenticated && appMounted"},"ports":[],"children":[]},{"id":"e71b24fd-633a-4219-8c0c-78e0b141e888","type":"RouterNavigate","parameters":{"router":"Main","target":"/#Pages/connect"},"ports":[],"children":[]},{"id":"13c84929-158b-76a0-c908-c8b8ea6a4b97","type":"Variable2","parameters":{"name":"Token Refresh Complete"},"ports":[],"children":[]}],"connections":[{"sourceId":"246f9453-a119-ac78-171e-3806cf596ecc","sourcePort":"didMount","targetId":"44f02f3e-9bc7-51d1-8116-6fe31df56b86","targetPort":"Do"},{"sourceId":"246f9453-a119-ac78-171e-3806cf596ecc","sourcePort":"didMount","targetId":"8fe11d25-b588-c266-4eeb-a4c9f28b4bc8","targetPort":"Do"},{"sourceId":"6cba386e-8b51-f4f5-5853-212245b4c32e","sourcePort":"prop-authenticated","targetId":"5123bee8-2079-220c-64b9-92cb450e44de","targetPort":"authenticated"},{"sourceId":"5123bee8-2079-220c-64b9-92cb450e44de","sourcePort":"isTrueEv","targetId":"e71b24fd-633a-4219-8c0c-78e0b141e888","targetPort":"navigate"},{"sourceId":"13c84929-158b-76a0-c908-c8b8ea6a4b97","sourcePort":"value","targetId":"5123bee8-2079-220c-64b9-92cb450e44de","targetPort":"appMounted"}],"ports":[],"roots":["246f9453-a119-ac78-171e-3806cf596ecc"],"metadata":{"canvasSize":{"width":"1039px","height":"751px"},"canvasPos":{"x":0,"y":0}}},{"name":"/Global visual components/Header","nodes":[{"id":"6f436b92-8f46-7f04-277b-e6bf6c8ef8b5","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"534b4418-d04f-ea97-e271-558b83eed55b","type":"Group","parameters":{"height":{"value":80,"unit":"px"},"flexDirection":"row","justifyContent":"space-between","backgroundColor":"Hive header grey","paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"boxShadowEnabled":true,"boxShadowColor":"Hive purple","boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowInset":false,"zIndex":1,"boxShadowBlurRadius":{"value":24,"unit":"px"},"boxShadowSpreadRadius":{"value":-5,"unit":"px"}},"ports":[],"children":[{"id":"be4e39fd-d4e9-64ad-00bd-744d1be5a838","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentSize","columnGap":{"value":5,"unit":"px"},"alignY":"center"},"ports":[],"children":[{"id":"35b1c1ee-4643-e453-dd71-1dfdec6acfd4","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"house","codeAsClass":false},"Label":"Dashboard"},"ports":[],"children":[]},{"id":"d01c3d41-fec0-8ae2-193f-0d43471a78f1","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"person","codeAsClass":false},"Label":"Account"},"ports":[],"children":[]},{"id":"f2d1f0ab-0769-84ca-fb2c-b8ec735d7302","type":"Group","parameters":{},"ports":[],"children":[{"id":"dc085f9e-beef-b142-2ec8-330b00bfc192","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"cloud_upload","codeAsClass":false},"Label":"Upload video"},"ports":[],"children":[]},{"id":"869c535c-28af-91d0-1d10-c913981bdda4","type":"Group","parameters":{"position":"absolute","width":{"value":300,"unit":"px"},"height":{"value":300,"unit":"px"},"marginTop":{"value":60,"unit":"px"},"backgroundColor":"Hive header grey","marginRight":{"value":0,"unit":"px"},"marginLeft":{"value":-70,"unit":"px"},"boxShadowEnabled":true,"boxShadowOffsetY":{"value":10,"unit":"px"},"boxShadowColor":"Hive purple","boxShadowBlurRadius":{"value":14,"unit":"px"},"boxShadowSpreadRadius":{"value":-5,"unit":"px"},"sizeMode":"contentHeight","paddingTop":{"value":40,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"}},"ports":[],"children":[{"id":"1ecb1bf6-dbe9-6385-340d-a6aa83e9f026","type":"/Global visual components/File picker","parameters":{"align y":"center","align x":"center"},"ports":[],"children":[]}]}]},{"id":"73ccc4db-f46a-e985-b40f-db1937f58bc7","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"logout","codeAsClass":false},"Label":"Log out"},"ports":[],"children":[]}]},{"id":"18339c22-24d0-269d-3fda-cf07e9f30828","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":80,"unit":"px"},"width":{"value":180,"unit":"px"}},"ports":[],"children":[{"id":"7351088c-ece7-07d0-3b9c-a89d8b9f6771","type":"Image","parameters":{"src":"media/visualHiveLogo.png","sizeMode":"explicit","objectFit":"contain"},"ports":[],"children":[]}]}]},{"id":"fc40c6f6-2741-2686-d210-1211cc75f66b","type":"RouterNavigate","parameters":{"router":"Main","target":"/#Pages/dashboard"},"ports":[],"children":[]},{"id":"9f8a4af0-ddec-7471-cdb3-32ff46d5215f","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Logout","parameters":{},"ports":[],"children":[]},{"id":"c72c3a27-90c0-b17b-1dae-3567a1ff3ebe","type":"JavaScriptFunction","parameters":{"functionScript":"// Refresh the current window\nwindow.location.reload();\n"},"ports":[],"children":[]},{"id":"82c1f83b-fb84-e881-aa54-e0f56d583a5c","type":"JavaScriptFunction","parameters":{"functionScript":"document.addEventListener('click', function(event) {\n  const filtersPopunder = Inputs.This.getDOMElement();\n  if (filtersPopunder && !filtersPopunder.contains(event.target)) {\n    Outputs.ClickedOutside = true;\n\n    // Reset Outputs.ClickedOutside to false after 500 milliseconds\n    setTimeout(function() {\n      Outputs.ClickedOutside = false;\n    }, 500);\n  }\n});"},"ports":[{"name":"in-This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ClickedOutside","displayName":"ClickedOutside","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"d0267b91-e6fa-25c0-aa8c-9b8024718370","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","parameters":{"collection":"Video","SDK Client to use":"User SDK Client"},"ports":[],"children":[]},{"id":"2fe612d6-012a-fc50-60fc-e897514474ca","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","parameters":{"collection":"Project","SDK Client to use":"User SDK Client"},"ports":[],"children":[]},{"id":"049e6cf4-91bc-c5da-29c6-478cb9f9b1dd","type":"JavaScriptFunction","parameters":{"functionScript":"// Define the inputs\nconst mainVideoId = Inputs.mainVideoId || null;\nconst introId = Inputs.introId || null;\nconst outroId = Inputs.outroId || null;\nconst projectTitle = Inputs.projectTitle || \"Default\";\nconst projectBrief = Inputs.projectBrief || \"Default\";\nconst projectDeadline = Inputs.deadline || null;\nconst projectClient = Inputs.projectClient || null;\n\n// Initialize an empty array\nlet clips = []\nlet videos = [];\n\n// Check if the inputs are valid and if they are, add them to the array\nif (mainVideoId) videos.push({ \"Video_id\": mainVideoId });\nif (introId) videos.push({ \"id\": introId });\nif (outroId) videos.push({ \"id\": outroId });\n\nconst projectData = {\n  title: projectTitle,\n  brief: projectBrief,\n  deadline: projectDeadline,\n  client: projectClient,\n  hasVideos: videos,\n  hasClips: clips,\n  sharedAccounts: [ { \"Account_id\": Inputs.accountId } ]\n}\n\nOutputs.projectData = projectData;\nOutputs.Success();\n"},"ports":[{"name":"in-mainVideoId","displayName":"mainVideoId","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-introId","displayName":"introId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-outroId","displayName":"outroId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-projectTitle","displayName":"projectTitle","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-projectBrief","displayName":"projectBrief","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-deadline","displayName":"deadline","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-projectClient","displayName":"projectClient","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-accountId","displayName":"accountId","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-projectData","displayName":"projectData","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"ef4cf083-179e-2265-3958-4431ccda8b44","type":"Expression","parameters":{"expression":"mainId != \"\""},"ports":[],"children":[]},{"id":"cc4a559c-eadd-6571-1d86-0006bd01a748","type":"RouterNavigate","parameters":{"router":"Main","target":"/#Pages/project"},"ports":[],"children":[]},{"id":"c10795c8-32cf-cdad-07c1-60d7b5d0a56f","type":"JavaScriptFunction","parameters":{"functionScript":"function getVideoDuration(videoBlob) {\n  return new Promise((resolve, reject) => {\n    const url = URL.createObjectURL(videoBlob);\n    const video = document.createElement('video');\n\n    video.src = url;\n    video.addEventListener('loadedmetadata', () => {\n      resolve(video.duration);\n      URL.revokeObjectURL(url);\n    });\n\n    video.onerror = () => {\n      reject('Failed to load video metadata.');\n    };\n  });\n}\n\nconst videoBlob = Inputs.videoBlob;\n\nif (!videoBlob) return;\n\ngetVideoDuration(videoBlob).then(duration => {\n  Outputs.duration = duration;\n  Outputs.Success();\n}).catch(console.error);\n"},"ports":[{"name":"in-videoBlob","displayName":"videoBlob","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-duration","displayName":"duration","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","type":"JavaScriptFunction","parameters":{"functionScript":"const videoObject = Inputs.videoObject;\n\nif (!videoObject) return;\n\nOutputs.videoObject = {\n    ...videoObject,\n    type: \"main\",\n    length: Math.floor(Inputs.length),\n//    sharedAccounts: [ { \"Account_id\": { \"id\": Inputs.accountId } } ]\n    sharedAccounts: [ { \"Account_id\": Inputs.accountId }\n    ]\n}\nOutputs.Success();"},"ports":[{"name":"in-videoObject","displayName":"videoObject","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-length","displayName":"length","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-accountId","displayName":"accountId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-videoObject","displayName":"videoObject","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"29d76958-6916-37ce-5dbd-964432a73cc1","type":"Model2","parameters":{"modelId":"Current User","properties":"account"},"ports":[],"children":[]},{"id":"538ea1a3-c79e-d465-6d03-438e42b30c6a","type":"Send Message","parameters":{},"ports":[],"children":[]},{"id":"273c2f7f-c008-b690-8059-b3484fcde54c","type":"JavaScriptFunction","parameters":{"functionScript":"const endpoint = Inputs.Endpoint || '';\nif (!endpoint) throw new Error('Invalid endpoint');\n\nconst apiKey = Inputs.ApiKey || '';\nif (!apiKey) throw new Error('Invalid API key');\n\nconst payload = {\n  data1: Inputs.Data1 || '',\n  data2: Inputs.Data2 || '',\n  data3: Inputs.Data3 || '',\n  // Add more data inputs as needed\n};\n\nconst url = `${endpoint}?apikey=${apiKey}`;\n\ntry {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(payload),\n  });\n\n  if (!response.ok) throw new Error('Response not OK');\n\n  const data = await response.json();\n  Outputs.Response = data;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-Endpoint","displayName":"Endpoint","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-ApiKey","displayName":"ApiKey","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Data1","displayName":"Data1","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Data2","displayName":"Data2","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Data3","displayName":"Data3","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-Response","displayName":"Response","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"44e1e201-93fd-ccec-741e-d878f0eb09b2","type":"States","parameters":{"states":"uploading,idle","values":"label","type-label":"string","value-idle-label":"Upload video"},"ports":[],"children":[]},{"id":"869de535-9673-3f1b-1654-285414a7298e","type":"String Format","parameters":{"format":"Uploading... {percent}%"},"ports":[],"children":[]},{"id":"a9ba221d-80ab-1bf2-f641-91a406de9426","type":"Expression","parameters":{"expression":"progress > 0"},"ports":[],"children":[]},{"id":"3b3eb7b1-8b77-11dc-da84-81bcf208bf30","type":"CollectionInsert","parameters":{"collectionId":"allVideos"},"ports":[],"children":[]},{"id":"2118bae5-0d48-1acb-258f-34b7fb5481cc","type":"Model2","parameters":{},"ports":[],"children":[]},{"id":"09a897ed-611d-61d1-083c-852ad4ae01a0","type":"Receive Message","parameters":{"payload":"transcript"},"ports":[],"children":[]},{"id":"7dafcb73-5168-806a-1163-2525d933b1e0","type":"SetModelProperties","parameters":{"properties":"transcript","type-transcript":"string"},"ports":[],"children":[]}],"connections":[{"sourceId":"6f436b92-8f46-7f04-277b-e6bf6c8ef8b5","sourcePort":"Show menu","targetId":"be4e39fd-d4e9-64ad-00bd-744d1be5a838","targetPort":"visible"},{"sourceId":"35b1c1ee-4643-e453-dd71-1dfdec6acfd4","sourcePort":"clicked","targetId":"fc40c6f6-2741-2686-d210-1211cc75f66b","targetPort":"navigate"},{"sourceId":"73ccc4db-f46a-e985-b40f-db1937f58bc7","sourcePort":"clicked","targetId":"9f8a4af0-ddec-7471-cdb3-32ff46d5215f","targetPort":"Do"},{"sourceId":"9f8a4af0-ddec-7471-cdb3-32ff46d5215f","sourcePort":"Success","targetId":"c72c3a27-90c0-b17b-1dae-3567a1ff3ebe","targetPort":"run"},{"sourceId":"869c535c-28af-91d0-1d10-c913981bdda4","sourcePort":"this","targetId":"82c1f83b-fb84-e881-aa54-e0f56d583a5c","targetPort":"in-This"},{"sourceId":"dc085f9e-beef-b142-2ec8-330b00bfc192","sourcePort":"clicked","targetId":"d0267b91-e6fa-25c0-aa8c-9b8024718370","targetPort":"flip"},{"sourceId":"d0267b91-e6fa-25c0-aa8c-9b8024718370","sourcePort":"state","targetId":"869c535c-28af-91d0-1d10-c913981bdda4","targetPort":"mounted"},{"sourceId":"82c1f83b-fb84-e881-aa54-e0f56d583a5c","sourcePort":"out-ClickedOutside","targetId":"d0267b91-e6fa-25c0-aa8c-9b8024718370","targetPort":"off"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"record ID","targetId":"049e6cf4-91bc-c5da-29c6-478cb9f9b1dd","targetPort":"in-mainVideoId"},{"sourceId":"049e6cf4-91bc-c5da-29c6-478cb9f9b1dd","sourcePort":"out-projectData","targetId":"2fe612d6-012a-fc50-60fc-e897514474ca","targetPort":"Data"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"record ID","targetId":"ef4cf083-179e-2265-3958-4431ccda8b44","targetPort":"mainId"},{"sourceId":"2fe612d6-012a-fc50-60fc-e897514474ca","sourcePort":"record ID","targetId":"cc4a559c-eadd-6571-1d86-0006bd01a748","targetPort":"pm-project"},{"sourceId":"2fe612d6-012a-fc50-60fc-e897514474ca","sourcePort":"Success","targetId":"cc4a559c-eadd-6571-1d86-0006bd01a748","targetPort":"navigate"},{"sourceId":"c10795c8-32cf-cdad-07c1-60d7b5d0a56f","sourcePort":"out-duration","targetId":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","targetPort":"in-length"},{"sourceId":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","sourcePort":"out-videoObject","targetId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","targetPort":"Data"},{"sourceId":"c10795c8-32cf-cdad-07c1-60d7b5d0a56f","sourcePort":"out-Success","targetId":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","targetPort":"run"},{"sourceId":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","sourcePort":"out-Success","targetId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","targetPort":"Do"},{"sourceId":"29d76958-6916-37ce-5dbd-964432a73cc1","sourcePort":"prop-account","targetId":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","targetPort":"in-accountId"},{"sourceId":"29d76958-6916-37ce-5dbd-964432a73cc1","sourcePort":"prop-account","targetId":"049e6cf4-91bc-c5da-29c6-478cb9f9b1dd","targetPort":"in-accountId"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"record ID","targetId":"538ea1a3-c79e-d465-6d03-438e42b30c6a","targetPort":"topic"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"Success","targetId":"538ea1a3-c79e-d465-6d03-438e42b30c6a","targetPort":"Send"},{"sourceId":"1ecb1bf6-dbe9-6385-340d-a6aa83e9f026","sourcePort":"Success","targetId":"c10795c8-32cf-cdad-07c1-60d7b5d0a56f","targetPort":"run"},{"sourceId":"1ecb1bf6-dbe9-6385-340d-a6aa83e9f026","sourcePort":"localBlob","targetId":"c10795c8-32cf-cdad-07c1-60d7b5d0a56f","targetPort":"in-videoBlob"},{"sourceId":"1ecb1bf6-dbe9-6385-340d-a6aa83e9f026","sourcePort":"fileData","targetId":"ec537466-2ac2-858e-e727-e1ceaa2b92e3","targetPort":"in-videoObject"},{"sourceId":"869de535-9673-3f1b-1654-285414a7298e","sourcePort":"formatted","targetId":"44e1e201-93fd-ccec-741e-d878f0eb09b2","targetPort":"value-uploading-label"},{"sourceId":"44e1e201-93fd-ccec-741e-d878f0eb09b2","sourcePort":"label","targetId":"dc085f9e-beef-b142-2ec8-330b00bfc192","targetPort":"Label"},{"sourceId":"1ecb1bf6-dbe9-6385-340d-a6aa83e9f026","sourcePort":"progress","targetId":"869de535-9673-3f1b-1654-285414a7298e","targetPort":"percent"},{"sourceId":"a9ba221d-80ab-1bf2-f641-91a406de9426","sourcePort":"isTrueEv","targetId":"44e1e201-93fd-ccec-741e-d878f0eb09b2","targetPort":"to-uploading"},{"sourceId":"a9ba221d-80ab-1bf2-f641-91a406de9426","sourcePort":"isFalseEv","targetId":"44e1e201-93fd-ccec-741e-d878f0eb09b2","targetPort":"to-idle"},{"sourceId":"1ecb1bf6-dbe9-6385-340d-a6aa83e9f026","sourcePort":"progress","targetId":"a9ba221d-80ab-1bf2-f641-91a406de9426","targetPort":"progress"},{"sourceId":"2118bae5-0d48-1acb-258f-34b7fb5481cc","sourcePort":"id","targetId":"3b3eb7b1-8b77-11dc-da84-81bcf208bf30","targetPort":"modifyId"},{"sourceId":"2118bae5-0d48-1acb-258f-34b7fb5481cc","sourcePort":"fetched","targetId":"3b3eb7b1-8b77-11dc-da84-81bcf208bf30","targetPort":"add"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"result","targetId":"2118bae5-0d48-1acb-258f-34b7fb5481cc","targetPort":"modelId"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"Success","targetId":"2118bae5-0d48-1acb-258f-34b7fb5481cc","targetPort":"fetch"},{"sourceId":"725518a5-560c-c4fc-ff4d-10ecef8aa2fd","sourcePort":"record ID","targetId":"09a897ed-611d-61d1-083c-852ad4ae01a0","targetPort":"topic"},{"sourceId":"2118bae5-0d48-1acb-258f-34b7fb5481cc","sourcePort":"id","targetId":"7dafcb73-5168-806a-1163-2525d933b1e0","targetPort":"modelId"},{"sourceId":"09a897ed-611d-61d1-083c-852ad4ae01a0","sourcePort":"payload-transcript","targetId":"7dafcb73-5168-806a-1163-2525d933b1e0","targetPort":"prop-transcript"},{"sourceId":"09a897ed-611d-61d1-083c-852ad4ae01a0","sourcePort":"messageReceived","targetId":"7dafcb73-5168-806a-1163-2525d933b1e0","targetPort":"store"}],"ports":[{"name":"Show menu","type":"boolean","default":true,"group":"Style","plug":"input","index":1}],"roots":["534b4418-d04f-ea97-e271-558b83eed55b"]},{"name":"/Global visual components/Icon button","nodes":[{"id":"c0a51c58-4366-48f9-0dbf-ef4cd355c52c","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","flexDirection":"row","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"alignItems":"center","columnGap":{"value":5,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"children":[{"id":"9b1ef9fc-ca9c-53fd-84e8-cf3c86d3311b","type":"net.noodl.visual.icon","parameters":{},"ports":[],"children":[]},{"id":"eb3d1b01-ea32-7ac2-e351-abf68f5c2601","type":"Text","parameters":{},"ports":[],"children":[]}]},{"id":"c9026f98-9cad-6f57-b853-9952ee03e599","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","type":"States","parameters":{"states":"hovered,neutral,disabled","currentState":"neutral","values":"foreground colour,background colour","type-foreground colour":"color","type-background colour":"color","value-hovered-foreground colour":"Hive blue","value-hovered-background colour":"transparent","value-neutral-foreground colour":"White","value-neutral-background colour":"transparent","value-disabled-foreground colour":"Grey - 400","value-disabled-background colour":"transparent"},"ports":[],"children":[]},{"id":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c0a51c58-4366-48f9-0dbf-ef4cd355c52c","sourcePort":"onClick","targetId":"c9026f98-9cad-6f57-b853-9952ee03e599","targetPort":"clicked"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Icon","targetId":"9b1ef9fc-ca9c-53fd-84e8-cf3c86d3311b","targetPort":"iconIconSource"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Label","targetId":"eb3d1b01-ea32-7ac2-e351-abf68f5c2601","targetPort":"text"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Foreground colour neutral","targetId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","targetPort":"value-neutral-foreground colour"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Background colour neutral","targetId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","targetPort":"value-neutral-background colour"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Foreground colour hovered","targetId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","targetPort":"value-hovered-foreground colour"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Background colour hovered","targetId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","targetPort":"value-hovered-background colour"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Foreground colour disabled","targetId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","targetPort":"value-disabled-foreground colour"},{"sourceId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","sourcePort":"Background colour disabled","targetId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","targetPort":"value-disabled-background colour"},{"sourceId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","sourcePort":"foreground colour","targetId":"9b1ef9fc-ca9c-53fd-84e8-cf3c86d3311b","targetPort":"iconColor"},{"sourceId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","sourcePort":"foreground colour","targetId":"eb3d1b01-ea32-7ac2-e351-abf68f5c2601","targetPort":"color"},{"sourceId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","sourcePort":"background colour","targetId":"c0a51c58-4366-48f9-0dbf-ef4cd355c52c","targetPort":"backgroundColor"}],"ports":[{"name":"Foreground colour neutral","type":"color","default":"White","group":"Neutral","plug":"input","index":0},{"name":"clicked","type":"signal","plug":"output","index":1},{"name":"Background colour neutral","type":"color","default":"transparent","group":"Neutral","plug":"input","index":1},{"name":"Foreground colour hovered","type":"color","default":"Hive blue","group":"Hovered","plug":"input","index":2},{"name":"Background colour hovered","type":"color","default":"transparent","group":"Hovered","plug":"input","index":3},{"name":"Foreground colour disabled","type":"color","default":"Grey - 400","group":"Disabled","plug":"input","index":4},{"name":"Background colour disabled","type":"color","default":"transparent","group":"Disabled","plug":"input","index":5},{"name":"Icon","type":"icon","group":"General","plug":"input","index":6},{"name":"Label","type":{"name":"string","multiline":true},"default":"Text","group":"General","plug":"input","index":7}],"roots":["c0a51c58-4366-48f9-0dbf-ef4cd355c52c"]},{"name":"/Global visual components/File picker","nodes":[{"id":"11191ff5-578d-ee60-1567-deb1a48260dd","type":"Group","parameters":{"sizeMode":"contentHeight","backgroundColor":"Grey - 200","borderRadius":{"value":6,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"rowGap":{"value":10,"unit":"px"},"width":{"value":240,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"children":[{"id":"d096911c-e4da-4bc1-f492-653604833802","type":"/Global visual components/Pretty icon","parameters":{"align x":"center","icon_name":"cloud_upload","icon colour":"White","size":"32"},"ports":[],"children":[]},{"id":"15df4675-0c47-23fe-aa5e-53b2d7c86229","type":"Text","parameters":{"text":"Click to upload your video","color":"Grey - 900","textAlignX":"center"},"ports":[],"children":[]},{"id":"a3c694ed-1053-0285-aa34-4c45cfe0047c","type":"Group","parameters":{"flexDirection":"row","clip":true},"ports":[],"children":[{"id":"83643ac4-7723-e136-e74c-d8cf1748955e","type":"Text","parameters":{"color":"Grey - 900","textAlignX":"center","sizeMode":"contentHeight","maxHeight":{"value":44,"unit":"px"}},"ports":[],"children":[]},{"id":"1bb8b5bb-aa6a-1105-b424-c3ffb3c2d6c3","type":"/Global visual components/Pretty icon","parameters":{"icon":{"class":"material-icons","code":"delete_forever","codeAsClass":false}},"ports":[],"children":[]}]}]},{"id":"3572809a-2ab3-991c-b9d6-e178c1dad138","type":"/Global logical components/File upload script","parameters":{},"ports":[],"children":[]},{"id":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"f969ddb5-9b8f-9d68-1cca-dba45efad63b","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"21271210-d700-5b27-8c37-3da5b77cf3e4","type":"Expression","parameters":{"expression":"progress > 0 && progress < 100"},"ports":[],"children":[]},{"id":"16b41337-e614-d5ac-2b80-dc54641ef98d","type":"States","parameters":{"states":"idle,uploading,complete","values":"text,icon,backgroundColour","type-text":"string","type-icon":"string","value-idle-text":"Click to upload your video","value-idle-icon":"upload_file","value-uploading-text":"Upload in progress...","value-uploading-icon":"pending","value-complete-icon":"task_alt","value-complete-text":"Upload complete","type-backgroundColour":"color","value-idle-backgroundColour":"Grey - 200","value-uploading-backgroundColour":"Grey - 300","value-complete-backgroundColour":"#49AD7F"},"ports":[],"children":[]},{"id":"b305c110-e60a-b6d4-3baf-95b33367143e","type":"Expression","parameters":{"expression":"progress === 100"},"ports":[],"children":[]},{"id":"3d1b3c66-43c2-b6b3-6580-b6949be6b93a","type":"Expression","parameters":{"expression":"progress == 0"},"ports":[],"children":[]},{"id":"ea857e75-d4ed-ecd8-20b1-e5055e978dfc","type":"/Global logical components/Generate Google icon object","parameters":{},"ports":[],"children":[]},{"id":"fd2a5789-f112-91b8-2359-9e8621988f21","type":"String Format","parameters":{"format":"{fileName} - {fileSize}MB"},"ports":[],"children":[]},{"id":"3ce4e43b-69ce-7f35-4eae-9a700e9d6c92","type":"JavaScriptFunction","parameters":{"functionScript":"const bytes = Inputs.Bytes || 0; // Get the input bytes, default to 0 if not provided\n\nif (bytes < 0) throw new Error('Invalid number of bytes'); // Throw an error if the number of bytes is negative\n\nconst megabytes = bytes / (1024 * 1024); // Convert bytes to megabytes\n\nconst roundedMegabytes = Math.round(megabytes * 100) / 100; // Round the result to 2 decimal places\n\nOutputs.Megabytes = roundedMegabytes; // Output the result\nOutputs.Success(); // Signal success\n"},"ports":[{"name":"in-Bytes","displayName":"Bytes","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Megabytes","displayName":"Megabytes","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"30c28e20-d094-2694-1d8d-c2098071636d","type":"String Format","parameters":{"format":"Upload in progress... {percent}%"},"ports":[],"children":[]}],"connections":[{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"error","targetId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","targetPort":"error"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"Success","targetId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","targetPort":"Success"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"fileData","targetId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","targetPort":"fileData"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"Failure","targetId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","targetPort":"Failure"},{"sourceId":"f969ddb5-9b8f-9d68-1cca-dba45efad63b","sourcePort":"align x","targetId":"11191ff5-578d-ee60-1567-deb1a48260dd","targetPort":"alignX"},{"sourceId":"f969ddb5-9b8f-9d68-1cca-dba45efad63b","sourcePort":"align y","targetId":"11191ff5-578d-ee60-1567-deb1a48260dd","targetPort":"alignY"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"progress","targetId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","targetPort":"progress"},{"sourceId":"21271210-d700-5b27-8c37-3da5b77cf3e4","sourcePort":"isTrueEv","targetId":"16b41337-e614-d5ac-2b80-dc54641ef98d","targetPort":"to-uploading"},{"sourceId":"b305c110-e60a-b6d4-3baf-95b33367143e","sourcePort":"isTrueEv","targetId":"16b41337-e614-d5ac-2b80-dc54641ef98d","targetPort":"to-complete"},{"sourceId":"3d1b3c66-43c2-b6b3-6580-b6949be6b93a","sourcePort":"isTrueEv","targetId":"16b41337-e614-d5ac-2b80-dc54641ef98d","targetPort":"to-idle"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"progress","targetId":"3d1b3c66-43c2-b6b3-6580-b6949be6b93a","targetPort":"progress"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"progress","targetId":"21271210-d700-5b27-8c37-3da5b77cf3e4","targetPort":"progress"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"progress","targetId":"b305c110-e60a-b6d4-3baf-95b33367143e","targetPort":"progress"},{"sourceId":"16b41337-e614-d5ac-2b80-dc54641ef98d","sourcePort":"backgroundColour","targetId":"11191ff5-578d-ee60-1567-deb1a48260dd","targetPort":"backgroundColor"},{"sourceId":"16b41337-e614-d5ac-2b80-dc54641ef98d","sourcePort":"text","targetId":"15df4675-0c47-23fe-aa5e-53b2d7c86229","targetPort":"text"},{"sourceId":"16b41337-e614-d5ac-2b80-dc54641ef98d","sourcePort":"icon","targetId":"ea857e75-d4ed-ecd8-20b1-e5055e978dfc","targetPort":"iconName"},{"sourceId":"ea857e75-d4ed-ecd8-20b1-e5055e978dfc","sourcePort":"iconObject","targetId":"d096911c-e4da-4bc1-f492-653604833802","targetPort":"icon"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"fileSize","targetId":"3ce4e43b-69ce-7f35-4eae-9a700e9d6c92","targetPort":"in-Bytes"},{"sourceId":"3ce4e43b-69ce-7f35-4eae-9a700e9d6c92","sourcePort":"out-Megabytes","targetId":"fd2a5789-f112-91b8-2359-9e8621988f21","targetPort":"fileSize"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"fileName","targetId":"fd2a5789-f112-91b8-2359-9e8621988f21","targetPort":"fileName"},{"sourceId":"fd2a5789-f112-91b8-2359-9e8621988f21","sourcePort":"formatted","targetId":"83643ac4-7723-e136-e74c-d8cf1748955e","targetPort":"text"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"progress","targetId":"30c28e20-d094-2694-1d8d-c2098071636d","targetPort":"percent"},{"sourceId":"30c28e20-d094-2694-1d8d-c2098071636d","sourcePort":"formatted","targetId":"16b41337-e614-d5ac-2b80-dc54641ef98d","targetPort":"value-uploading-text"},{"sourceId":"16b41337-e614-d5ac-2b80-dc54641ef98d","sourcePort":"at-complete","targetId":"a3c694ed-1053-0285-aa34-4c45cfe0047c","targetPort":"mounted"},{"sourceId":"1bb8b5bb-aa6a-1105-b424-c3ffb3c2d6c3","sourcePort":"Clicked","targetId":"16b41337-e614-d5ac-2b80-dc54641ef98d","targetPort":"to-idle"},{"sourceId":"11191ff5-578d-ee60-1567-deb1a48260dd","sourcePort":"onClick","targetId":"3572809a-2ab3-991c-b9d6-e178c1dad138","targetPort":"Open"},{"sourceId":"3572809a-2ab3-991c-b9d6-e178c1dad138","sourcePort":"localBlob","targetId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","targetPort":"localBlob"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":1},{"name":"align x","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Failure","type":"signal","plug":"output","index":2},{"name":"align y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":2},{"name":"fileData","type":"*","plug":"output","index":3},{"name":"error","type":"*","plug":"output","index":4},{"name":"progress","type":"number","plug":"output","index":5},{"name":"localBlob","type":"*","plug":"output","index":6}],"roots":["11191ff5-578d-ee60-1567-deb1a48260dd"]},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Logout","nodes":[{"id":"ebcda4c9-db67-d8ec-18fc-1f25ce26cbd0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"2e2c564b-7f22-0882-d7bb-e20dc7985d9f","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"98da1953-26e6-33a8-4342-b656d8e1f3b9","type":"JavaScriptFunction","parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK?.Client ?? null;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.logout();\r\n\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif (client) {\r\n    main();\r\n}"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"22a5ffc3-4a01-1ff3-1734-cb52f6fce93b","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","parameters":{},"ports":[],"children":[]},{"id":"4a45e4ac-0f71-3cca-9382-c31aa3fd54d1","type":"Event Sender","parameters":{"channelName":"User-Logged-Out"},"ports":[],"children":[]}],"connections":[{"sourceId":"98da1953-26e6-33a8-4342-b656d8e1f3b9","sourcePort":"out-Failure","targetId":"2e2c564b-7f22-0882-d7bb-e20dc7985d9f","targetPort":"Failure"},{"sourceId":"98da1953-26e6-33a8-4342-b656d8e1f3b9","sourcePort":"out-error","targetId":"2e2c564b-7f22-0882-d7bb-e20dc7985d9f","targetPort":"error"},{"sourceId":"98da1953-26e6-33a8-4342-b656d8e1f3b9","sourcePort":"out-Success","targetId":"22a5ffc3-4a01-1ff3-1734-cb52f6fce93b","targetPort":"Do"},{"sourceId":"22a5ffc3-4a01-1ff3-1734-cb52f6fce93b","sourcePort":"Success","targetId":"2e2c564b-7f22-0882-d7bb-e20dc7985d9f","targetPort":"Success"},{"sourceId":"22a5ffc3-4a01-1ff3-1734-cb52f6fce93b","sourcePort":"Failure","targetId":"2e2c564b-7f22-0882-d7bb-e20dc7985d9f","targetPort":"Failure"},{"sourceId":"22a5ffc3-4a01-1ff3-1734-cb52f6fce93b","sourcePort":"error","targetId":"2e2c564b-7f22-0882-d7bb-e20dc7985d9f","targetPort":"error"},{"sourceId":"98da1953-26e6-33a8-4342-b656d8e1f3b9","sourcePort":"out-Success","targetId":"4a45e4ac-0f71-3cca-9382-c31aa3fd54d1","targetPort":"sendEvent"},{"sourceId":"ebcda4c9-db67-d8ec-18fc-1f25ce26cbd0","sourcePort":"Do","targetId":"98da1953-26e6-33a8-4342-b656d8e1f3b9","targetPort":"run"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":{"name":"signal"},"plug":"output","index":1},{"name":"error","type":{"name":"*"},"plug":"output","index":2}],"roots":[]},{"name":"/#Directus/Directus Prefab/Initial Set Up/Set up Directus - Option 1 (env)","nodes":[{"id":"8988d80c-7d19-21dd-9fe6-de5ebfa45e86","type":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize User Client","parameters":{"Enable Cross-Domain cookies":true},"ports":[],"children":[]},{"id":"2f8348fb-31d3-9abb-0867-c7669c6f34ab","type":"Javascript2","parameters":{"code":"Script.Signals.Do = async function(){\r\n    const file = await fetch(\"/env.json\");\r\n    const env = await file.json() ?? {};\r\n    for(const key in env){\r\n        Noodl.Objects.env[key] = env[key];\r\n    }\r\n    if(env?.url) Script.Outputs.Done();\r\n}"},"ports":[{"name":"Do","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5},{"name":"Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","type":"Model2","parameters":{"modelId":"env","properties":"url,static_token"},"ports":[],"children":[]},{"id":"21dd7a58-f45f-aee4-8427-d37fb1113ec0","type":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize Site Client","parameters":{"Enable Cross-Domain cookies":true},"ports":[],"children":[]},{"id":"fe3e78a2-ded6-784a-cd9e-9cce0305caa5","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Refresh Token","parameters":{},"ports":[],"children":[]},{"id":"e9cd3581-ce21-6648-5fa8-0e42638f28b9","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"26a761c3-3b1a-b7dc-328b-fec74fcff109","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"5ba746b3-a4c1-a122-6c90-2d0c582d4b3b","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"7ff42686-311d-8013-d598-067576bd8681","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"ed4253cc-1384-bb71-9376-cd1d13293e83","type":"Or","parameters":{},"ports":[],"children":[]},{"id":"8ead4794-6f04-cd91-3e0a-2ddea032fb6d","type":"JavaScriptFunction","parameters":{"functionScript":"const sdk_installed = window.Directus ?? null;\r\nif(sdk_installed){\r\n    Outputs.Success();\r\n} else {\r\n    Outputs.Failure();\r\n}"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]},{"id":"3b63dd2b-7d48-5ce5-071c-b0344d6d1fc8","type":"Timer","parameters":{"duration":100},"ports":[],"children":[]},{"id":"45ea72aa-2ee1-d457-36ba-6aee14a9a975","type":"Counter","parameters":{},"ports":[],"children":[]},{"id":"9e491e80-6314-b0c7-8963-196d2d77ff4a","type":"JavaScriptFunction","parameters":{"functionScript":"const result = (Inputs.count || 0) >= 5 ? true: false;\r\n\r\nif(result){\r\n    location.reload()\r\n} else {\r\n    Outputs.Done();\r\n}"},"ports":[{"name":"in-count","displayName":"count","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","sourcePort":"prop-url","targetId":"8988d80c-7d19-21dd-9fe6-de5ebfa45e86","targetPort":"directusURL"},{"sourceId":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","sourcePort":"prop-url","targetId":"21dd7a58-f45f-aee4-8427-d37fb1113ec0","targetPort":"directusURL"},{"sourceId":"8988d80c-7d19-21dd-9fe6-de5ebfa45e86","sourcePort":"Success","targetId":"fe3e78a2-ded6-784a-cd9e-9cce0305caa5","targetPort":"Do"},{"sourceId":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","sourcePort":"prop-static_token","targetId":"21dd7a58-f45f-aee4-8427-d37fb1113ec0","targetPort":"static_token"},{"sourceId":"2f8348fb-31d3-9abb-0867-c7669c6f34ab","sourcePort":"Done","targetId":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","targetPort":"fetch"},{"sourceId":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","sourcePort":"fetched","targetId":"8988d80c-7d19-21dd-9fe6-de5ebfa45e86","targetPort":"Do"},{"sourceId":"5fe8f6da-3632-4fb9-360e-a4324d5856eb","sourcePort":"fetched","targetId":"21dd7a58-f45f-aee4-8427-d37fb1113ec0","targetPort":"Do"},{"sourceId":"5ba746b3-a4c1-a122-6c90-2d0c582d4b3b","sourcePort":"state","targetId":"ed4253cc-1384-bb71-9376-cd1d13293e83","targetPort":"input 0"},{"sourceId":"7ff42686-311d-8013-d598-067576bd8681","sourcePort":"state","targetId":"ed4253cc-1384-bb71-9376-cd1d13293e83","targetPort":"input 1"},{"sourceId":"ed4253cc-1384-bb71-9376-cd1d13293e83","sourcePort":"result","targetId":"26a761c3-3b1a-b7dc-328b-fec74fcff109","targetPort":"Mounted"},{"sourceId":"8988d80c-7d19-21dd-9fe6-de5ebfa45e86","sourcePort":"Success","targetId":"5ba746b3-a4c1-a122-6c90-2d0c582d4b3b","targetPort":"on"},{"sourceId":"21dd7a58-f45f-aee4-8427-d37fb1113ec0","sourcePort":"Success","targetId":"7ff42686-311d-8013-d598-067576bd8681","targetPort":"on"},{"sourceId":"3b63dd2b-7d48-5ce5-071c-b0344d6d1fc8","sourcePort":"timerFinished","targetId":"8ead4794-6f04-cd91-3e0a-2ddea032fb6d","targetPort":"run"},{"sourceId":"8ead4794-6f04-cd91-3e0a-2ddea032fb6d","sourcePort":"out-Failure","targetId":"45ea72aa-2ee1-d457-36ba-6aee14a9a975","targetPort":"increase"},{"sourceId":"45ea72aa-2ee1-d457-36ba-6aee14a9a975","sourcePort":"currentCount","targetId":"9e491e80-6314-b0c7-8963-196d2d77ff4a","targetPort":"in-count"},{"sourceId":"9e491e80-6314-b0c7-8963-196d2d77ff4a","sourcePort":"out-Done","targetId":"3b63dd2b-7d48-5ce5-071c-b0344d6d1fc8","targetPort":"restart"},{"sourceId":"45ea72aa-2ee1-d457-36ba-6aee14a9a975","sourcePort":"countChanged","targetId":"9e491e80-6314-b0c7-8963-196d2d77ff4a","targetPort":"run"},{"sourceId":"e9cd3581-ce21-6648-5fa8-0e42638f28b9","sourcePort":"Do","targetId":"8ead4794-6f04-cd91-3e0a-2ddea032fb6d","targetPort":"run"},{"sourceId":"8ead4794-6f04-cd91-3e0a-2ddea032fb6d","sourcePort":"out-Success","targetId":"2f8348fb-31d3-9abb-0867-c7669c6f34ab","targetPort":"Do"}],"ports":[{"name":"Mounted","type":"boolean","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize User Client","nodes":[{"id":"bfc78b4c-1dad-59c7-648f-cb73d5527b49","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"727efaaa-9fbe-470e-2e12-a5f7f09db601","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"fb04224e-6414-601a-ce2e-74b22897189a","type":"JavaScriptFunction","parameters":{"functionScript":"const project_url = Inputs.directusURL ?? null;\r\nconst crossDomainCookies = !!Inputs.crossDomainCookies ?? null;\r\nconst auth_token_mode = Inputs.auth_token_mode ?? \"cookie\";\r\n\r\nif (!project_url || !(new URL(project_url))) return; // throw new Error(\"Invalid Directus Project URL!\");\r\n\r\ntry {\r\n    var client = {};\r\n    if (crossDomainCookies) {\r\n        client = Directus.createDirectus(project_url).with(Directus.authentication(auth_token_mode, { credentials: 'include' })).with(Directus.rest({ credentials: 'include' }));\r\n    } else {\r\n        client = Directus.createDirectus(project_url).with(Directus.authentication(auth_token_mode)).with(Directus.rest());\r\n    }\r\n    \r\n    Noodl.Objects.DirectusSDK = {\r\n        ...Noodl.Objects.DirectusSDK.data,\r\n        Client: client\r\n    }\r\n    Outputs.Success();\r\n} catch (err) {\r\n    console.error(err);\r\n    Outputs.Failure();\r\n}"},"ports":[{"name":"in-directusURL","displayName":"directusURL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-crossDomainCookies","displayName":"crossDomainCookies","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-auth_token_mode","displayName":"auth_token_mode","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"10ae5950-125e-41d3-d8cb-af36ecc83c68","type":"String","parameters":{},"ports":[],"children":[]},{"id":"c434d1f0-fc6e-9ee6-6bf7-c0be5f464d4e","type":"Boolean","parameters":{},"ports":[],"children":[]},{"id":"893d7b13-8802-9569-5601-9ac58a47e630","type":"JavaScriptFunction","parameters":{"functionScript":"const url = Noodl.Objects.DirectusSDK?.Client?.url?.origin || null;\r\n\r\nif(!url) Outputs.Do()"},"ports":[{"name":"out-Do","displayName":"Do","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"dc70fb07-b1bb-3902-b36d-76d0230bfa82","type":"States","parameters":{"states":"cookie,session,json","useTransitions":false},"ports":[],"children":[]}],"connections":[{"sourceId":"fb04224e-6414-601a-ce2e-74b22897189a","sourcePort":"out-Failure","targetId":"727efaaa-9fbe-470e-2e12-a5f7f09db601","targetPort":"Failure"},{"sourceId":"bfc78b4c-1dad-59c7-648f-cb73d5527b49","sourcePort":"Enable Cross-Domain cookies","targetId":"c434d1f0-fc6e-9ee6-6bf7-c0be5f464d4e","targetPort":"value"},{"sourceId":"c434d1f0-fc6e-9ee6-6bf7-c0be5f464d4e","sourcePort":"savedValue","targetId":"fb04224e-6414-601a-ce2e-74b22897189a","targetPort":"in-crossDomainCookies"},{"sourceId":"bfc78b4c-1dad-59c7-648f-cb73d5527b49","sourcePort":"Do","targetId":"893d7b13-8802-9569-5601-9ac58a47e630","targetPort":"run"},{"sourceId":"bfc78b4c-1dad-59c7-648f-cb73d5527b49","sourcePort":"mode","targetId":"dc70fb07-b1bb-3902-b36d-76d0230bfa82","targetPort":"currentState"},{"sourceId":"dc70fb07-b1bb-3902-b36d-76d0230bfa82","sourcePort":"currentState","targetId":"fb04224e-6414-601a-ce2e-74b22897189a","targetPort":"in-auth_token_mode"},{"sourceId":"fb04224e-6414-601a-ce2e-74b22897189a","sourcePort":"out-Success","targetId":"727efaaa-9fbe-470e-2e12-a5f7f09db601","targetPort":"Success"},{"sourceId":"bfc78b4c-1dad-59c7-648f-cb73d5527b49","sourcePort":"directusURL","targetId":"10ae5950-125e-41d3-d8cb-af36ecc83c68","targetPort":"value"},{"sourceId":"10ae5950-125e-41d3-d8cb-af36ecc83c68","sourcePort":"savedValue","targetId":"fb04224e-6414-601a-ce2e-74b22897189a","targetPort":"in-directusURL"},{"sourceId":"893d7b13-8802-9569-5601-9ac58a47e630","sourcePort":"out-Do","targetId":"fb04224e-6414-601a-ce2e-74b22897189a","targetPort":"run"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"directusURL","type":{"name":"string"},"default":"","plug":"input","index":1},{"name":"mode","type":{"name":"enum","enums":["cookie","session","json"]},"default":"cookie","group":"Auth Token Management","plug":"input","index":2},{"name":"Enable Cross-Domain cookies","type":{"name":"boolean"},"default":false,"group":"Auth Token Management","plug":"input","index":3}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize Site Client","nodes":[{"id":"4214a023-73cc-016f-66d0-b956524051d2","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"76ae1a62-e601-d19b-0f58-4c2bc3823e26","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"73512ad8-fc54-c038-b6f4-7abb8efa2100","type":"JavaScriptFunction","parameters":{"functionScript":"const project_url = Inputs.directusURL;\r\nconst staticToken = Inputs.staticToken || null;\r\nconst crossDomainCookies = Inputs.crossDomainCookies ?? null;\r\n\r\nif (!project_url || !(new URL(project_url))) return; // throw new Error(\"Invalid Directus Project URL!\");\r\n\r\ntry {\r\n    var client = {};\r\n\r\n    if (crossDomainCookies) {\r\n        if (staticToken && staticToken != \"\") {\r\n            // Static Token has been provided //\r\n            client = Directus.createDirectus(project_url).with(Directus.staticToken(staticToken), { credentials: 'include' }).with(Directus.rest({ credentials: 'include' }));\r\n        } else {\r\n            // No Static Token. Connecting via the default Public Access Role //\r\n            client = Directus.createDirectus(project_url).with(Directus.rest({ credentials: 'include' }));\r\n        }\r\n    } else {\r\n        if (staticToken && staticToken != \"\") {\r\n            // Static Token has been provided //\r\n            client = Directus.createDirectus(project_url).with(Directus.staticToken(staticToken)).with(Directus.rest());\r\n        } else {\r\n            // No Static Token. Connecting via the default Public Access Role //\r\n            client = Directus.createDirectus(project_url).with(Directus.rest());\r\n        }\r\n    }\r\n\r\n\r\n    Noodl.Objects.DirectusSDK = {\r\n        ...Noodl.Objects.DirectusSDK.data,\r\n        SiteClient: client\r\n    }\r\n    Outputs.Success();\r\n} catch (err) {\r\n    console.error(err);\r\n    Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-directusURL","displayName":"directusURL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-staticToken","displayName":"staticToken","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-crossDomainCookies","displayName":"crossDomainCookies","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"a66c09cb-5080-5587-07f9-83e25efb69e7","type":"String","parameters":{},"ports":[],"children":[]},{"id":"ec0b6347-7ce8-0aeb-7bf5-866a070d27d5","type":"String","parameters":{},"ports":[],"children":[]},{"id":"dfeae6d9-38cd-ad82-9d02-d96c6fefc09f","type":"Boolean","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4214a023-73cc-016f-66d0-b956524051d2","sourcePort":"Do","targetId":"73512ad8-fc54-c038-b6f4-7abb8efa2100","targetPort":"run"},{"sourceId":"73512ad8-fc54-c038-b6f4-7abb8efa2100","sourcePort":"out-Success","targetId":"76ae1a62-e601-d19b-0f58-4c2bc3823e26","targetPort":"Success"},{"sourceId":"73512ad8-fc54-c038-b6f4-7abb8efa2100","sourcePort":"out-Failure","targetId":"76ae1a62-e601-d19b-0f58-4c2bc3823e26","targetPort":"Failure"},{"sourceId":"4214a023-73cc-016f-66d0-b956524051d2","sourcePort":"directusURL","targetId":"a66c09cb-5080-5587-07f9-83e25efb69e7","targetPort":"value"},{"sourceId":"a66c09cb-5080-5587-07f9-83e25efb69e7","sourcePort":"savedValue","targetId":"73512ad8-fc54-c038-b6f4-7abb8efa2100","targetPort":"in-directusURL"},{"sourceId":"4214a023-73cc-016f-66d0-b956524051d2","sourcePort":"static_token","targetId":"ec0b6347-7ce8-0aeb-7bf5-866a070d27d5","targetPort":"value"},{"sourceId":"ec0b6347-7ce8-0aeb-7bf5-866a070d27d5","sourcePort":"savedValue","targetId":"73512ad8-fc54-c038-b6f4-7abb8efa2100","targetPort":"in-staticToken"},{"sourceId":"4214a023-73cc-016f-66d0-b956524051d2","sourcePort":"Enable Cross-Domain cookies","targetId":"dfeae6d9-38cd-ad82-9d02-d96c6fefc09f","targetPort":"value"},{"sourceId":"dfeae6d9-38cd-ad82-9d02-d96c6fefc09f","sourcePort":"savedValue","targetId":"73512ad8-fc54-c038-b6f4-7abb8efa2100","targetPort":"in-crossDomainCookies"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"directusURL","type":{"name":"string"},"default":"","plug":"input","index":1},{"name":"static_token","type":{"name":"string"},"default":"","plug":"input","index":2},{"name":"Enable Cross-Domain cookies","type":{"name":"boolean"},"default":false,"plug":"input","index":3}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Refresh Token","nodes":[{"id":"e9f42984-b117-d8a5-642a-20267db9517d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5322f698-7781-d428-118a-c00ed84bb400","type":"JavaScriptFunction","parameters":{"functionScript":"//const client = Noodl.Objects.DirectusSDK.Client || null;\r\n\r\nconst system_retry_cycle_limit = 10; // Number of retry cycles that check if the SDK Client and the refresh method are available for use\r\nconst system_retry_cycle_duration = 1000; // Delay between each retry cycle, in milliseconds\r\n\r\nconst retry_loop_limit = 3; // Number of Request Execution loops, per retry cycle\r\nconst retry_loop_duration = 250; // Delay between each loop execution, in milliseconds\r\n\r\n////////////////////////////////////////////\r\n\r\nconst sleep = async function (ms) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n\r\nconst main = async function (client, count) {\r\n    try {\r\n        const result = await client.refresh();\r\n\r\n        Outputs.data = result;\r\n        Outputs.Success();\r\n        return true;\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        if (count < retry_loop_limit) {\r\n            count++;\r\n            await sleep(count * retry_loop_duration);\r\n            await main();\r\n        } else {\r\n            Outputs.error = err?.errors?.map(i => i.message).join(\"\\n\");\r\n            Outputs.Failure();\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nlet count = 0;\r\n\r\ndo {\r\n    count++;\r\n    let condition = Boolean(Noodl.Objects[\"SDK Client set\"]) && Boolean(Noodl.Objects.DirectusSDK.Client && Boolean(Noodl.Objects.DirectusSDK.Client.refresh));\r\n\r\n    if (condition) {\r\n        const client = Noodl.Objects.DirectusSDK.Client;\r\n        const res = await main(client, count);\r\n\r\n        if (res) count = 0;\r\n\r\n    } else {\r\n        await sleep(system_retry_cycle_duration);\r\n    }\r\n\r\n} while (count > 0 && count < system_retry_cycle_limit);\r\n\r\nif(count != 0){\r\n    Outputs.error = \"System Error\";\r\n    Outputs.Failure();\r\n}"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","parameters":{},"ports":[],"children":[]},{"id":"bd35d7fe-fe71-9a10-2f2a-91a97e907d09","type":"SetModelProperties","parameters":{"modelId":"Current User","properties":"authenticated","type-authenticated":"boolean"},"ports":[],"children":[]},{"id":"9599f6c6-bcb8-c45a-5f71-2a0d15b01abb","type":"Set Variable","parameters":{"name":"Token Refresh Process","setWith":"boolean","value":true},"ports":[],"children":[]},{"id":"2e988a06-b956-62af-0172-99367907ba82","type":"Set Variable","parameters":{"name":"Token Refresh Process","setWith":"boolean","value":false},"ports":[],"children":[]},{"id":"9388f3fb-5a9c-e9c2-1c2f-d689022d65ae","type":"JavaScriptFunction","parameters":{"functionScript":"const user = Noodl.Objects[\"Current User\"] || null;\r\n\r\nif(user){\r\n    const obj = user.data;\r\n    for(const property in obj){\r\n        delete obj[property];\r\n    }\r\n    user.authenticated = false\r\n    Outputs.Done();\r\n}"},"ports":[{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"fb54f0b4-1a1d-13d1-c695-84c87843a9c4","type":"Event Receiver","parameters":{"consume":"always","channelName":"Check User Session"},"ports":[],"children":[]},{"id":"98041b2a-ef27-cde0-f555-5da3be97015f","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"9e52bef7-f023-82bf-1260-3eae687f6974","type":"JavaScriptFunction","parameters":{"functionScript":"const uuid = Inputs.uuid ?? null;\r\n\r\nif(uuid){\r\n    Noodl.Events.emit(uuid)\r\n}"},"ports":[{"name":"in-uuid","displayName":"uuid","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]},{"id":"7e47cd4e-dc3b-838c-48e3-ff07fa579a39","type":"JavaScriptFunction","parameters":{"functionScript":"const uuid = Inputs.uuid ?? null;\r\n\r\nif(uuid){\r\n    Noodl.Events.emit(uuid)\r\n}"},"ports":[{"name":"in-uuid","displayName":"uuid","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]},{"id":"05b680a8-6944-cfce-1081-f030002e34b6","type":"/#Directus/Directus Prefab/Components/Utils/Check Refresh Process status","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"5322f698-7781-d428-118a-c00ed84bb400","sourcePort":"out-Success","targetId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","targetPort":"Do"},{"sourceId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","sourcePort":"Success","targetId":"2e988a06-b956-62af-0172-99367907ba82","targetPort":"do"},{"sourceId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","sourcePort":"Failure","targetId":"2e988a06-b956-62af-0172-99367907ba82","targetPort":"do"},{"sourceId":"bd35d7fe-fe71-9a10-2f2a-91a97e907d09","sourcePort":"stored","targetId":"2e988a06-b956-62af-0172-99367907ba82","targetPort":"do"},{"sourceId":"5322f698-7781-d428-118a-c00ed84bb400","sourcePort":"out-Failure","targetId":"9388f3fb-5a9c-e9c2-1c2f-d689022d65ae","targetPort":"run"},{"sourceId":"9388f3fb-5a9c-e9c2-1c2f-d689022d65ae","sourcePort":"out-Done","targetId":"bd35d7fe-fe71-9a10-2f2a-91a97e907d09","targetPort":"store"},{"sourceId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","sourcePort":"Success","targetId":"98041b2a-ef27-cde0-f555-5da3be97015f","targetPort":"Success"},{"sourceId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","sourcePort":"Failure","targetId":"98041b2a-ef27-cde0-f555-5da3be97015f","targetPort":"Failure"},{"sourceId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","sourcePort":"error","targetId":"98041b2a-ef27-cde0-f555-5da3be97015f","targetPort":"error"},{"sourceId":"5322f698-7781-d428-118a-c00ed84bb400","sourcePort":"out-error","targetId":"98041b2a-ef27-cde0-f555-5da3be97015f","targetPort":"error"},{"sourceId":"bd35d7fe-fe71-9a10-2f2a-91a97e907d09","sourcePort":"stored","targetId":"98041b2a-ef27-cde0-f555-5da3be97015f","targetPort":"Failure"},{"sourceId":"e9f42984-b117-d8a5-642a-20267db9517d","sourcePort":"event-channel","targetId":"9e52bef7-f023-82bf-1260-3eae687f6974","targetPort":"in-uuid"},{"sourceId":"601fad23-0a87-e83a-5afa-bf2ac51dcf72","sourcePort":"Success","targetId":"9e52bef7-f023-82bf-1260-3eae687f6974","targetPort":"run"},{"sourceId":"bd35d7fe-fe71-9a10-2f2a-91a97e907d09","sourcePort":"stored","targetId":"7e47cd4e-dc3b-838c-48e3-ff07fa579a39","targetPort":"run"},{"sourceId":"e9f42984-b117-d8a5-642a-20267db9517d","sourcePort":"event-channel","targetId":"7e47cd4e-dc3b-838c-48e3-ff07fa579a39","targetPort":"in-uuid"},{"sourceId":"9599f6c6-bcb8-c45a-5f71-2a0d15b01abb","sourcePort":"done","targetId":"5322f698-7781-d428-118a-c00ed84bb400","targetPort":"run"},{"sourceId":"fb54f0b4-1a1d-13d1-c695-84c87843a9c4","sourcePort":"eventReceived","targetId":"05b680a8-6944-cfce-1081-f030002e34b6","targetPort":"Fetch"},{"sourceId":"e9f42984-b117-d8a5-642a-20267db9517d","sourcePort":"Do","targetId":"05b680a8-6944-cfce-1081-f030002e34b6","targetPort":"Fetch"},{"sourceId":"05b680a8-6944-cfce-1081-f030002e34b6","sourcePort":"Done","targetId":"9599f6c6-bcb8-c45a-5f71-2a0d15b01abb","targetPort":"do"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Success","type":"signal","plug":"output","index":1},{"name":"event-channel","type":{"name":"*"},"group":"Inputs","plug":"input","index":1},{"name":"Failure","type":{"name":"signal"},"plug":"output","index":2},{"name":"error","type":{"name":"*"},"plug":"output","index":3}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Utils/Check Refresh Process status","nodes":[{"id":"2e53729d-e23b-dd81-e643-80663e8902fe","type":"Timer","parameters":{"duration":100},"ports":[],"children":[]},{"id":"11a96e60-e7c7-807d-f7a6-ac83cbf4f8aa","type":"Variable2","parameters":{"name":"Token Refresh Process"},"ports":[],"children":[]},{"id":"9ab96560-7dbf-f03e-b463-d261cd009462","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"ec75fc6e-f2db-808d-a8de-9f8cfc2f8e04","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"af6599bc-b0f4-d8b9-8da1-d418663039ee","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"11a96e60-e7c7-807d-f7a6-ac83cbf4f8aa","sourcePort":"value","targetId":"9ab96560-7dbf-f03e-b463-d261cd009462","targetPort":"condition"},{"sourceId":"11a96e60-e7c7-807d-f7a6-ac83cbf4f8aa","sourcePort":"fetched","targetId":"9ab96560-7dbf-f03e-b463-d261cd009462","targetPort":"eval"},{"sourceId":"9ab96560-7dbf-f03e-b463-d261cd009462","sourcePort":"ontrue","targetId":"2e53729d-e23b-dd81-e643-80663e8902fe","targetPort":"start"},{"sourceId":"2e53729d-e23b-dd81-e643-80663e8902fe","sourcePort":"timerFinished","targetId":"11a96e60-e7c7-807d-f7a6-ac83cbf4f8aa","targetPort":"fetch"},{"sourceId":"ec75fc6e-f2db-808d-a8de-9f8cfc2f8e04","sourcePort":"Fetch","targetId":"11a96e60-e7c7-807d-f7a6-ac83cbf4f8aa","targetPort":"fetch"},{"sourceId":"9ab96560-7dbf-f03e-b463-d261cd009462","sourcePort":"onfalse","targetId":"af6599bc-b0f4-d8b9-8da1-d418663039ee","targetPort":"Done"}],"ports":[{"name":"Done","type":"signal","plug":"output","index":0},{"name":"Fetch","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0}],"roots":[]},{"name":"/Global logical components/Preload queries","nodes":[{"id":"af3bb453-c6f8-885d-dca3-d2e3fcf93146","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"bf191bda-8e62-6a1a-caaa-d32aa0038940","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"f95ff81f-00a3-b8e1-90b2-b91f1b38f1c3","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","parameters":{},"ports":[],"children":[]},{"id":"65f1ee7b-d12a-e489-95e4-c700fc19cd78","type":"Model2","parameters":{"modelId":"Current User","properties":"authenticated"},"ports":[],"children":[]},{"id":"297456a4-523b-d341-186a-1a55066db5c7","type":"Expression","parameters":{"expression":"authenticated"},"ports":[],"children":[]},{"id":"b536dc42-f2d3-43e2-b8d4-8019558e98aa","type":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","parameters":{"collection":"Project","Item Get type":"Get Multiple by Filter","limit":99999,"fields":"id,name,brief,deadline,hasVideos.Video_id.id,date_created,date_updated","Get all fields":false},"ports":[],"children":[]},{"id":"566442f8-a2bf-c785-ad22-43ab5982cdf2","type":"Collection2","parameters":{"collectionId":"allProjects"},"ports":[],"children":[]},{"id":"71ea1bc7-3c56-e4c3-0af9-9989d9900dd7","type":"Collection2","parameters":{"collectionId":"allVideos"},"ports":[],"children":[]},{"id":"d3309764-b15a-42f8-c1b9-a51c38389aab","type":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","parameters":{"collection":"Video","Item Get type":"Get Multiple by Filter","fields":"id,name,url,type,transcript.*,date_created,length","Get all fields":false,"sort":"date_created","limit":99999},"ports":[],"children":[]}],"connections":[{"sourceId":"af3bb453-c6f8-885d-dca3-d2e3fcf93146","sourcePort":"Do","targetId":"f95ff81f-00a3-b8e1-90b2-b91f1b38f1c3","targetPort":"Do"},{"sourceId":"65f1ee7b-d12a-e489-95e4-c700fc19cd78","sourcePort":"prop-authenticated","targetId":"297456a4-523b-d341-186a-1a55066db5c7","targetPort":"authenticated"},{"sourceId":"f95ff81f-00a3-b8e1-90b2-b91f1b38f1c3","sourcePort":"Success","targetId":"b536dc42-f2d3-43e2-b8d4-8019558e98aa","targetPort":"Do"},{"sourceId":"297456a4-523b-d341-186a-1a55066db5c7","sourcePort":"isTrueEv","targetId":"b536dc42-f2d3-43e2-b8d4-8019558e98aa","targetPort":"Do"},{"sourceId":"b536dc42-f2d3-43e2-b8d4-8019558e98aa","sourcePort":"result","targetId":"566442f8-a2bf-c785-ad22-43ab5982cdf2","targetPort":"items"},{"sourceId":"d3309764-b15a-42f8-c1b9-a51c38389aab","sourcePort":"result","targetId":"71ea1bc7-3c56-e4c3-0af9-9989d9900dd7","targetPort":"items"},{"sourceId":"297456a4-523b-d341-186a-1a55066db5c7","sourcePort":"isTrueEv","targetId":"d3309764-b15a-42f8-c1b9-a51c38389aab","targetPort":"Do"}],"ports":[{"name":"Success","type":"*","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","nodes":[{"id":"f91937f2-b359-a7b9-7766-ab87e752364c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5f17e03d-6195-fe2b-126f-289deca807b7","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"dc888b1a-40f0-bf46-c85e-38f8b61f1e96","type":"String","parameters":{},"ports":[],"children":[]},{"id":"9764ef0e-790f-9edf-c642-346433b743c1","type":"JavaScriptFunction","parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (!collection || typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"2aa4e78e-aab6-794c-6a9c-7043d111f3f2","type":"States","parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"children":[]},{"id":"db5d5a63-2d9a-bade-022a-f12e7b38afef","type":"Timer","parameters":{"duration":100},"ports":[],"children":[]},{"id":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    query: \"object\",\r\n    data_qty: \"single\",\r\n    id_new: \"string\"\r\n}\r\n\r\nfunction map_id_field(data, id_new) {\r\n    if (id_new && id_new != \"\" && data) {\r\n        if (Array.isArray(data) && data.length > 0) {\r\n\r\n            let temp_res = data.map(i => {\r\n                let temp = {\r\n                    ...i\r\n                };\r\n                if (i.id) temp[id_new] = i.id;\r\n                return temp;\r\n            });\r\n            return temp_res;\r\n\r\n        } else if (typeof (data) == \"object\") {\r\n\r\n            let temp = {\r\n                ...data\r\n            };\r\n            if (data.id) temp[id_new] = data.id;\r\n            return temp;\r\n\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n\r\nScript.Signals.CreateData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection ?? null;\r\n\r\n    const data_qty = Script.Inputs.data_qty ?? null;\r\n    const data = Script.Inputs.data ?? null;\r\n    const id_new = Script.Inputs.id_new || null;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && collection && data_qty && data) {\r\n            let result;\r\n            switch (data_qty) {\r\n                case \"single\":\r\n                    result = await sdk_client.request(Directus.createItem(collection, data, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.createItems(collection, data, query));\r\n                    break;\r\n            }\r\n                        \r\n            result = map_id_field(result, id_new); // Map the id field in the incoming data to a new field, if set\r\n\r\n            Script.Outputs.result = result;\r\n            Script.Outputs.resultId = result.id;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":8},{"name":"data_qty","plug":"input","type":{"name":"single"},"group":"Inputs","index":9},{"name":"id_new","plug":"input","type":{"name":"string"},"group":"Inputs","index":10},{"name":"CreateData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":12},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":15},{"name":"resultId","displayName":"resultId","plug":"output","type":"*","group":"Outputs","index":16},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":17}],"children":[]},{"id":"969d8b7b-745d-9f40-11bf-d0a606969501","type":"States","parameters":{"states":"single,multiple","useTransitions":false},"ports":[],"children":[]},{"id":"d5cb3233-d651-6a94-45d2-53ebb6dc7f65","type":"JavaScriptFunction","parameters":{"functionScript":"const data_qty = Inputs.data_qty ?? null;\r\nconst data = Inputs.data ?? {};\r\n\r\nlet status = false;\r\n\r\nif (data && data_qty) {\r\n    const data_type = Array.isArray(data) ? \"array\" : (typeof (data) == \"object\" ? \"object\" : typeof (data));\r\n\r\n    if (data_qty == \"multiple\" && data_type == \"array\") {\r\n        status = true;\r\n    } else if (data_qty == \"single\" && data_type == \"object\") {\r\n        status = true;\r\n    } else {\r\n        throw new Error(\"Invalid data config!\");\r\n    }\r\n    if (status) {\r\n        Outputs.data_qty = data_qty;\r\n        Outputs.data = data;\r\n    }\r\n} else {\r\n    throw new Error(\"Invalid request!\")\r\n}\r\n"},"ports":[{"name":"in-data_qty","displayName":"data_qty","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-data_qty","displayName":"data_qty","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Create)","parameters":{},"ports":[],"children":[]},{"id":"efbbddf3-0d6d-89d6-d9ed-64b9dffebb3a","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","parameters":{},"ports":[],"children":[]},{"id":"02ee118b-8bb8-f5f5-1eb1-583379fe4811","type":"States","parameters":{"states":"No,Yes","useTransitions":false,"values":"new_id","type-new_id":"string","value-Yes-new_id":"directus_id"},"ports":[],"children":[]}],"connections":[{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"collection","targetId":"dc888b1a-40f0-bf46-c85e-38f8b61f1e96","targetPort":"value"},{"sourceId":"dc888b1a-40f0-bf46-c85e-38f8b61f1e96","sourcePort":"savedValue","targetId":"9764ef0e-790f-9edf-c642-346433b743c1","targetPort":"in-collection"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"SDK Client to use","targetId":"2aa4e78e-aab6-794c-6a9c-7043d111f3f2","targetPort":"currentState"},{"sourceId":"9764ef0e-790f-9edf-c642-346433b743c1","sourcePort":"out-Done","targetId":"db5d5a63-2d9a-bade-022a-f12e7b38afef","targetPort":"start"},{"sourceId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","sourcePort":"Success","targetId":"5f17e03d-6195-fe2b-126f-289deca807b7","targetPort":"Success"},{"sourceId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","sourcePort":"Failure","targetId":"5f17e03d-6195-fe2b-126f-289deca807b7","targetPort":"Failure"},{"sourceId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","sourcePort":"result","targetId":"5f17e03d-6195-fe2b-126f-289deca807b7","targetPort":"result"},{"sourceId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","sourcePort":"error","targetId":"5f17e03d-6195-fe2b-126f-289deca807b7","targetPort":"error"},{"sourceId":"9764ef0e-790f-9edf-c642-346433b743c1","sourcePort":"out-collection","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"collection"},{"sourceId":"2aa4e78e-aab6-794c-6a9c-7043d111f3f2","sourcePort":"currentState","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"client"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"Create Single or Multiple","targetId":"969d8b7b-745d-9f40-11bf-d0a606969501","targetPort":"currentState"},{"sourceId":"969d8b7b-745d-9f40-11bf-d0a606969501","sourcePort":"currentState","targetId":"d5cb3233-d651-6a94-45d2-53ebb6dc7f65","targetPort":"in-data_qty"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"Data","targetId":"d5cb3233-d651-6a94-45d2-53ebb6dc7f65","targetPort":"in-data"},{"sourceId":"db5d5a63-2d9a-bade-022a-f12e7b38afef","sourcePort":"timerFinished","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"CreateData"},{"sourceId":"d5cb3233-d651-6a94-45d2-53ebb6dc7f65","sourcePort":"out-data_qty","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"data_qty"},{"sourceId":"d5cb3233-d651-6a94-45d2-53ebb6dc7f65","sourcePort":"out-data","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"data"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"Do","targetId":"d5cb3233-d651-6a94-45d2-53ebb6dc7f65","targetPort":"run"},{"sourceId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","sourcePort":"query","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"query"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"limit","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Limit"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"Get all fields","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Get all fields"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"fields","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Fields"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"sort","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Sort"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"offset","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Offset"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"page","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Page"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"search","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"Search"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"aggregate","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"aggregate"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"groupBy","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"groupBy"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"filter","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"filter"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"deep","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"deep"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"alias","targetId":"90f27960-b0b0-46fc-4f33-9f86da02a4e2","targetPort":"alias"},{"sourceId":"2aa4e78e-aab6-794c-6a9c-7043d111f3f2","sourcePort":"currentState","targetId":"efbbddf3-0d6d-89d6-d9ed-64b9dffebb3a","targetPort":"State"},{"sourceId":"efbbddf3-0d6d-89d6-d9ed-64b9dffebb3a","sourcePort":"Success","targetId":"9764ef0e-790f-9edf-c642-346433b743c1","targetPort":"run"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"Do","targetId":"efbbddf3-0d6d-89d6-d9ed-64b9dffebb3a","targetPort":"Do"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"Map incoming ID field","targetId":"02ee118b-8bb8-f5f5-1eb1-583379fe4811","targetPort":"currentState"},{"sourceId":"f91937f2-b359-a7b9-7766-ab87e752364c","sourcePort":"ID new name","targetId":"02ee118b-8bb8-f5f5-1eb1-583379fe4811","targetPort":"value-Yes-new_id"},{"sourceId":"02ee118b-8bb8-f5f5-1eb1-583379fe4811","sourcePort":"new_id","targetId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","targetPort":"id_new"},{"sourceId":"9d408e90-2d3e-10a7-5d85-03c79856bbb6","sourcePort":"resultId","targetId":"5f17e03d-6195-fe2b-126f-289deca807b7","targetPort":"record ID"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"SDK Client to use","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"default":"User SDK Client","group":"Config","plug":"input","index":1},{"name":"result","type":"*","plug":"output","index":2},{"name":"collection","type":{"name":"string"},"default":"","group":"Config","plug":"input","index":2},{"name":"error","type":"*","plug":"output","index":3},{"name":"Create Single or Multiple","type":{"name":"enum","enums":["single","multiple"]},"default":"single","group":"Create Data","plug":"input","index":3},{"name":"record ID","type":"*","plug":"output","index":4},{"name":"Data","type":"*","group":"Create Data","plug":"input","index":4},{"name":"Multiple Items","type":"*","group":"Response - Get Multiple Items","plug":"input","index":5},{"name":"limit","type":{"name":"number"},"default":0,"group":"Response - Get Multiple Items","plug":"input","index":6},{"name":"Get All Items","type":"*","group":"Response - Get All Items","plug":"input","index":7},{"name":"Get all fields","type":{"name":"boolean"},"default":true,"group":"Query Parameters","plug":"input","index":8},{"name":"fields","type":{"name":"string"},"default":"","group":"Query Parameters","plug":"input","index":9},{"name":"sort","type":{"name":"string"},"default":"","group":"Query Parameters","plug":"input","index":10},{"name":"offset","type":{"name":"number"},"default":0,"group":"Query Parameters","plug":"input","index":11},{"name":"page","type":{"name":"number"},"default":0,"group":"Query Parameters","plug":"input","index":12},{"name":"search","type":{"name":"string"},"default":"","group":"Query Parameters","plug":"input","index":13},{"name":"aggregate","type":"*","group":"Query Parameters","plug":"input","index":14},{"name":"groupBy","type":"*","group":"Query Parameters","plug":"input","index":15},{"name":"filter","type":"*","group":"Query Parameters","plug":"input","index":16},{"name":"deep","type":"*","group":"Query Parameters","plug":"input","index":17},{"name":"alias","type":"*","group":"Query Parameters","plug":"input","index":18},{"name":"Map incoming ID field","type":{"name":"enum","enums":["No","Yes"]},"default":"No","group":"Map ID field in Returned Data","plug":"input","index":19},{"name":"ID new name","type":"string","default":"directus_id","group":"Map ID field in Returned Data","plug":"input","index":20}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Create)","nodes":[{"id":"26403cd2-1449-99ea-a68f-caf00a9f269b","type":"String","parameters":{},"ports":[],"children":[]},{"id":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","type":"JavaScriptFunction","parameters":{"functionScript":"const aggregate = Inputs.aggregate || null;\r\nconst groupBy = Inputs.groupBy || null;\r\nconst filter = Inputs.filter || null;\r\nconst deep = Inputs.deep || null;\r\nconst alias = Inputs.alias || null;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"8176cba1-81ae-a9e1-1efe-f29b1b840fb1","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"9e483405-483a-427c-3e04-922883905d1a","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"ee2021cf-4770-b2f1-63e2-71419d2087c3","type":"String","parameters":{},"ports":[],"children":[]},{"id":"27139642-814d-b0cf-1a0c-9f63b9bbf975","type":"String","parameters":{},"ports":[],"children":[]},{"id":"fca89672-f1e2-4155-e324-b8905ea6efea","type":"Boolean","parameters":{"value":true},"ports":[],"children":[]},{"id":"f20345cf-9083-0801-7fbe-24f3b737973c","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"40026fdf-d27b-e84f-cb36-114cf36fe44f","type":"JavaScriptFunction","parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst aggregate = Inputs.aggregate ?? null;\r\nconst groupBy = Inputs.groupBy ?? null;\r\nconst deep = Inputs.deep ?? null;\r\nconst alias = Inputs.alias ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (aggregate) query.aggregate = aggregate;\r\nif (groupBy) query.groupBy = groupBy;\r\nif (deep) query.deep = deep;\r\nif (alias) query.alias = alias;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"0bd67794-bafd-709a-605a-b4687a8aa147","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"4b6bbf6e-02a8-3b2d-1d27-78bdfcb332a6","type":"JavaScriptFunction","parameters":{"functionScript":"const limit_raw = Inputs.limit_raw ?? null;\r\n\r\nif(limit_raw){\r\n    Outputs.limit = limit_raw > 0 ? limit_raw : 1;\r\n} else {\r\n    Outputs.limit = null;\r\n}"},"ports":[{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"7d63dbb7-d515-885e-8c34-7f2e24c2a140","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.result = (Inputs.get_all_fields ?? true) ? '*' : (Inputs.fields || '*');"},"ports":[{"name":"in-get_all_fields","displayName":"get_all_fields","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Search","targetId":"26403cd2-1449-99ea-a68f-caf00a9f269b","targetPort":"value"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"filter","targetId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","targetPort":"in-filter"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"aggregate","targetId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","targetPort":"in-aggregate"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"alias","targetId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","targetPort":"in-alias"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"deep","targetId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","targetPort":"in-deep"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"groupBy","targetId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","targetPort":"in-groupBy"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Page","targetId":"8176cba1-81ae-a9e1-1efe-f29b1b840fb1","targetPort":"value"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Offset","targetId":"9e483405-483a-427c-3e04-922883905d1a","targetPort":"value"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Sort","targetId":"ee2021cf-4770-b2f1-63e2-71419d2087c3","targetPort":"value"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Fields","targetId":"27139642-814d-b0cf-1a0c-9f63b9bbf975","targetPort":"value"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Get all fields","targetId":"fca89672-f1e2-4155-e324-b8905ea6efea","targetPort":"value"},{"sourceId":"c0d1bb3b-0923-311a-d5e0-a55a4de28e3e","sourcePort":"Limit","targetId":"f20345cf-9083-0801-7fbe-24f3b737973c","targetPort":"value"},{"sourceId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","sourcePort":"out-filter","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-filter"},{"sourceId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","sourcePort":"out-aggregate","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-aggregate"},{"sourceId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","sourcePort":"out-groupBy","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-groupBy"},{"sourceId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","sourcePort":"out-deep","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-deep"},{"sourceId":"3c401c17-0bcf-c005-38e6-d67a0dcaa5df","sourcePort":"out-alias","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-alias"},{"sourceId":"ee2021cf-4770-b2f1-63e2-71419d2087c3","sourcePort":"savedValue","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-sort"},{"sourceId":"9e483405-483a-427c-3e04-922883905d1a","sourcePort":"savedValue","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-offset"},{"sourceId":"8176cba1-81ae-a9e1-1efe-f29b1b840fb1","sourcePort":"savedValue","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-page"},{"sourceId":"26403cd2-1449-99ea-a68f-caf00a9f269b","sourcePort":"savedValue","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-search"},{"sourceId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","sourcePort":"out-query","targetId":"0bd67794-bafd-709a-605a-b4687a8aa147","targetPort":"query"},{"sourceId":"4b6bbf6e-02a8-3b2d-1d27-78bdfcb332a6","sourcePort":"out-limit","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-limit"},{"sourceId":"f20345cf-9083-0801-7fbe-24f3b737973c","sourcePort":"savedValue","targetId":"4b6bbf6e-02a8-3b2d-1d27-78bdfcb332a6","targetPort":"in-limit_raw"},{"sourceId":"fca89672-f1e2-4155-e324-b8905ea6efea","sourcePort":"savedValue","targetId":"7d63dbb7-d515-885e-8c34-7f2e24c2a140","targetPort":"in-get_all_fields"},{"sourceId":"27139642-814d-b0cf-1a0c-9f63b9bbf975","sourcePort":"savedValue","targetId":"7d63dbb7-d515-885e-8c34-7f2e24c2a140","targetPort":"in-fields"},{"sourceId":"7d63dbb7-d515-885e-8c34-7f2e24c2a140","sourcePort":"out-result","targetId":"40026fdf-d27b-e84f-cb36-114cf36fe44f","targetPort":"in-fields"}],"ports":[{"name":"Set","type":"*","plug":"input","index":0},{"name":"query","type":"*","plug":"output","index":1},{"name":"Limit","type":{"name":"number"},"default":0,"plug":"input","index":5},{"name":"Get all fields","type":{"name":"boolean"},"default":true,"plug":"input","index":8},{"name":"Fields","type":{"name":"string"},"default":"","plug":"input","index":9},{"name":"Sort","type":{"name":"string"},"default":"","plug":"input","index":10},{"name":"Offset","type":{"name":"number"},"default":0,"plug":"input","index":11},{"name":"Page","type":{"name":"number"},"default":0,"plug":"input","index":12},{"name":"Search","type":{"name":"string"},"default":"","plug":"input","index":13},{"name":"aggregate","type":"*","group":"Inputs","plug":"input","index":14},{"name":"groupBy","type":"*","group":"Inputs","plug":"input","index":15},{"name":"filter","type":"*","group":"Inputs","plug":"input","index":16},{"name":"deep","type":"*","group":"Inputs","plug":"input","index":17},{"name":"alias","type":"*","group":"Inputs","plug":"input","index":18}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","nodes":[{"id":"dd4438e0-e177-42a6-4de9-82fc6b5046d9","type":"JavaScriptFunction","parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"22975209-2a63-3322-841a-ee93a193b819","type":"States","parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"children":[]},{"id":"ebe83bd1-a1c5-4ec3-3db4-99355415f84e","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"7446b13c-ccfc-9f1b-a30e-a3c99aeb9f95","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"3359a62c-1387-59bd-8497-eb75acbd3118","type":"/#Directus/Directus Prefab/Components/Utils/Delay with retry limit","parameters":{"Delay Duration":100,"Max. Retries":25},"ports":[],"children":[]}],"connections":[{"sourceId":"22975209-2a63-3322-841a-ee93a193b819","sourcePort":"currentState","targetId":"dd4438e0-e177-42a6-4de9-82fc6b5046d9","targetPort":"in-SDKClient"},{"sourceId":"ebe83bd1-a1c5-4ec3-3db4-99355415f84e","sourcePort":"State","targetId":"22975209-2a63-3322-841a-ee93a193b819","targetPort":"currentState"},{"sourceId":"dd4438e0-e177-42a6-4de9-82fc6b5046d9","sourcePort":"out-Done","targetId":"7446b13c-ccfc-9f1b-a30e-a3c99aeb9f95","targetPort":"Success"},{"sourceId":"ebe83bd1-a1c5-4ec3-3db4-99355415f84e","sourcePort":"Do","targetId":"3359a62c-1387-59bd-8497-eb75acbd3118","targetPort":"Start"},{"sourceId":"3359a62c-1387-59bd-8497-eb75acbd3118","sourcePort":"Finished","targetId":"dd4438e0-e177-42a6-4de9-82fc6b5046d9","targetPort":"run"},{"sourceId":"dd4438e0-e177-42a6-4de9-82fc6b5046d9","sourcePort":"out-Failure","targetId":"3359a62c-1387-59bd-8497-eb75acbd3118","targetPort":"Restart"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"plug":"input","index":0},{"name":"State","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"default":"User SDK Client","group":"States","plug":"input","index":1}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Utils/Delay with retry limit","nodes":[{"id":"3931aded-4fdf-716b-ba16-ec6c62f0f748","type":"Timer","parameters":{"duration":100},"ports":[],"children":[]},{"id":"4879b6c3-859e-557b-2303-e8da3440482b","type":"Counter","parameters":{"limitsEnabled":true},"ports":[],"children":[]},{"id":"2e6cc416-4421-a308-3ee0-8a2450bfd2c5","type":"Number","parameters":{"value":10},"ports":[],"children":[]},{"id":"83ffbd95-b4b3-070a-be28-0898f88d724f","type":"JavaScriptFunction","parameters":{"functionScript":"const max_count = Inputs.max_count\r\nconst current_count = Inputs.current_count\r\n\r\nconst error_message = Inputs.error_message || \"Directus Site Client has not yet been set up!\";\r\n\r\nif(current_count >= max_count){\r\n    throw new Error(error_message)\r\n}"},"ports":[{"name":"in-max_count","displayName":"max_count","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-current_count","displayName":"current_count","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-error_message","displayName":"error_message","plug":"input","type":"*","group":"Inputs","index":6}],"children":[]},{"id":"be2f4014-9653-f001-5acc-2339065a65b1","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"b6a29bb3-89d6-2cc8-b03d-97a5472d5d6c","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"10fb1229-5c2c-ce22-5124-a85bb4dfef29","type":"String","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2e6cc416-4421-a308-3ee0-8a2450bfd2c5","sourcePort":"savedValue","targetId":"4879b6c3-859e-557b-2303-e8da3440482b","targetPort":"limitsMax"},{"sourceId":"4879b6c3-859e-557b-2303-e8da3440482b","sourcePort":"countChanged","targetId":"3931aded-4fdf-716b-ba16-ec6c62f0f748","targetPort":"restart"},{"sourceId":"4879b6c3-859e-557b-2303-e8da3440482b","sourcePort":"countChanged","targetId":"83ffbd95-b4b3-070a-be28-0898f88d724f","targetPort":"run"},{"sourceId":"2e6cc416-4421-a308-3ee0-8a2450bfd2c5","sourcePort":"savedValue","targetId":"83ffbd95-b4b3-070a-be28-0898f88d724f","targetPort":"in-max_count"},{"sourceId":"4879b6c3-859e-557b-2303-e8da3440482b","sourcePort":"currentCount","targetId":"83ffbd95-b4b3-070a-be28-0898f88d724f","targetPort":"in-current_count"},{"sourceId":"be2f4014-9653-f001-5acc-2339065a65b1","sourcePort":"Start","targetId":"3931aded-4fdf-716b-ba16-ec6c62f0f748","targetPort":"start"},{"sourceId":"be2f4014-9653-f001-5acc-2339065a65b1","sourcePort":"Restart","targetId":"4879b6c3-859e-557b-2303-e8da3440482b","targetPort":"increase"},{"sourceId":"3931aded-4fdf-716b-ba16-ec6c62f0f748","sourcePort":"timerFinished","targetId":"b6a29bb3-89d6-2cc8-b03d-97a5472d5d6c","targetPort":"Finished"},{"sourceId":"be2f4014-9653-f001-5acc-2339065a65b1","sourcePort":"Max. Retries","targetId":"2e6cc416-4421-a308-3ee0-8a2450bfd2c5","targetPort":"value"},{"sourceId":"be2f4014-9653-f001-5acc-2339065a65b1","sourcePort":"Error Message","targetId":"10fb1229-5c2c-ce22-5124-a85bb4dfef29","targetPort":"value"},{"sourceId":"10fb1229-5c2c-ce22-5124-a85bb4dfef29","sourcePort":"savedValue","targetId":"83ffbd95-b4b3-070a-be28-0898f88d724f","targetPort":"in-error_message"},{"sourceId":"be2f4014-9653-f001-5acc-2339065a65b1","sourcePort":"Delay Duration","targetId":"3931aded-4fdf-716b-ba16-ec6c62f0f748","targetPort":"duration"}],"ports":[{"name":"Finished","type":"signal","plug":"output","index":0},{"name":"Start","type":{"name":"signal","allowConnectionsOnly":true},"plug":"input","index":0},{"name":"Delay Duration","type":"number","default":100,"plug":"input","index":1},{"name":"Restart","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":2},{"name":"Max. Retries","type":{"name":"number"},"default":10,"plug":"input","index":3},{"name":"Error Message","type":{"name":"string"},"default":"","plug":"input","index":4}],"roots":[]},{"name":"/Global visual components/Pretty icon","nodes":[{"id":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","type":"Group","parameters":{"sizeMode":"explicit","borderRadius":{"value":20,"unit":"px"},"backgroundColor":"Grey - 400","styleCss":"/* background-color: red; */\ncursor: pointer;","width":{"value":34,"unit":"px"},"height":{"value":34,"unit":"px"},"justifyContent":"center","alignItems":"center","zIndex":1,"pointerEventsMode":"explicit"},"ports":[],"children":[{"id":"07ea4d48-be06-0251-ce41-d21523a41c7d","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"upload_file","codeAsClass":false},"iconColor":"Grey - 900","iconSize":{"value":24,"unit":"px"},"alignY":"center","alignX":"center"},"ports":[],"children":[]}]},{"id":"5575baba-daf6-4792-ec0e-ae2628936c36","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"59375b57-9958-d08b-c8ab-28c5f4ae29e6","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"16917778-a3c4-0ec6-8145-723586e9c117","type":"/Global logical components/Generate Google icon object","parameters":{},"ports":[],"children":[]},{"id":"c5c051ed-7c5a-e239-3aea-1ae2566f2553","type":"Expression","parameters":{"expression":"size * 0.8\n"},"ports":[],"children":[]}],"connections":[{"sourceId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","sourcePort":"onClick","targetId":"59375b57-9958-d08b-c8ab-28c5f4ae29e6","targetPort":"Clicked"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"align x","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"alignX"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"align y","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"alignY"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"icon_name","targetId":"16917778-a3c4-0ec6-8145-723586e9c117","targetPort":"iconName"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"background colour","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"backgroundColor"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"icon colour","targetId":"07ea4d48-be06-0251-ce41-d21523a41c7d","targetPort":"iconColor"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"size","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"width"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"size","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"height"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"size","targetId":"c5c051ed-7c5a-e239-3aea-1ae2566f2553","targetPort":"size"},{"sourceId":"c5c051ed-7c5a-e239-3aea-1ae2566f2553","sourcePort":"result","targetId":"07ea4d48-be06-0251-ce41-d21523a41c7d","targetPort":"iconSize"},{"sourceId":"16917778-a3c4-0ec6-8145-723586e9c117","sourcePort":"iconObject","targetId":"07ea4d48-be06-0251-ce41-d21523a41c7d","targetPort":"iconIconSource"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"position","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"position"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"margin top","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"marginTop"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"margin bottom","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"marginBottom"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"margin left","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"marginLeft"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"margin right","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"marginRight"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"mounted","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"mounted"},{"sourceId":"5575baba-daf6-4792-ec0e-ae2628936c36","sourcePort":"enabled","targetId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","targetPort":"pointerEventsEnabled"}],"ports":[{"name":"Clicked","type":"signal","plug":"output","index":1},{"name":"icon","type":"*","plug":"input","index":1},{"name":"align x","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":2},{"name":"align y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":3},{"name":"icon_name","type":"string","group":"Inputs","plug":"input","index":4},{"name":"background colour","type":"color","default":"Grey - 400","group":"Style","plug":"input","index":5},{"name":"icon colour","type":"color","default":"Grey - 900","group":"Icon","plug":"input","index":6},{"name":"size","type":{"name":"string"},"plug":"input","index":7},{"name":"position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":8},{"name":"margin top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margin and padding","plug":"input","index":9},{"name":"margin bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margin and padding","plug":"input","index":10},{"name":"margin left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margin and padding","plug":"input","index":11},{"name":"margin right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margin and padding","plug":"input","index":12},{"name":"mounted","type":"boolean","default":true,"group":"General","plug":"input","index":13},{"name":"enabled","type":"boolean","default":true,"group":"Pointer Events","plug":"input","index":14}],"roots":["d4f3fc5e-4686-c484-e2b4-bceaf6f50528"]},{"name":"/Global logical components/Generate Google icon object","nodes":[{"id":"0edd1f18-d94b-872b-9642-1068251ac77d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"cbc8b566-768c-7508-e182-3235b8d66e32","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"2dedfbec-084b-de53-48f2-39e453b36d91","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.iconObject = {\n    \"class\": \"material-icons\",\n    \"code\": Inputs.iconName // in your case you would pass \"thumbs_up\" to this function\n}","scriptInputs":[{"id":"86hq","label":"iconName"}]},"ports":[{"name":"intype-iconName","displayName":"Type","editorName":"iconName | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"86hq","index":4},{"name":"in-iconName","displayName":"iconName","plug":"input","type":"string","group":"Inputs","index":5},{"name":"out-iconObject","displayName":"iconObject","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"0edd1f18-d94b-872b-9642-1068251ac77d","sourcePort":"iconName","targetId":"2dedfbec-084b-de53-48f2-39e453b36d91","targetPort":"in-iconName"},{"sourceId":"2dedfbec-084b-de53-48f2-39e453b36d91","sourcePort":"out-iconObject","targetId":"cbc8b566-768c-7508-e182-3235b8d66e32","targetPort":"iconObject"}],"ports":[{"name":"Success","type":"*","plug":"output","index":0},{"name":"Do","type":"*","plug":"input","index":0},{"name":"Failure","type":"*","plug":"output","index":1},{"name":"iconName","type":"string","group":"Inputs","plug":"input","index":1},{"name":"iconObject","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/Global logical components/File upload script","nodes":[{"id":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","type":"Open File Picker","parameters":{},"ports":[],"children":[]},{"id":"76205701-984e-0b70-5039-8016354f383e","type":"JavaScriptFunction","parameters":{"functionScript":"const file = Inputs.File || null; // File from file picker node\nconst sasToken = Inputs.SasToken || 'sv=2022-11-02&ss=b&srt=sco&sp=rwdlaciytfx&se=2025-08-01T18:06:34Z&st=2024-08-05T10:06:34Z&spr=https,http&sig=U2aHk1OiRypOFtdXZBr9kYa%2F8X6xt0rnVwk5h%2FSruDA%3D'; // Shared Access Signature (SAS) token\nconst storageAccountName = Inputs.StorageAccountName || 'sacdnvhivedev002'; // Azure storage account name\nconst containerName = Inputs.ContainerName || 'hive-clip-noodl-storage'; // Azure storage container name\nconst companyId = Inputs.CompanyId || 'defaultCompanyId'; // Unique object ID for the company\n\nif (!file) throw new Error('No file provided');\nif (!sasToken) throw new Error('Invalid SAS token');\nif (!storageAccountName) throw new Error('Invalid storage account name');\nif (!containerName) throw new Error('Invalid container name');\nif (!companyId) throw new Error('Invalid company ID');\n\n// Generate a unique identifier, e.g., UUID\nconst uniqueId = generateUUID(); // Implement or import a function to generate a UUID\n\n// Construct a unique file name with company ID as the folder and unique ID as a prefix\nconst fileName = `${uniqueId}_${file.name}`; // e.g., 'd3b07384_document.pdf'\nconst filePath = `${companyId}/${fileName}`; // e.g., 'company123/d3b07384_document.pdf'\n\n// Construct the URL for the file in Azure Blob Storage\nconst fileUrl = `https://${storageAccountName}.blob.core.windows.net/${containerName}/${filePath}`;\nconst uploadUrl = `${fileUrl}?${sasToken}`;\n\ntry {\n  const xhr = new XMLHttpRequest();\n  xhr.open('PUT', uploadUrl, true);\n  xhr.setRequestHeader('x-ms-blob-type', 'BlockBlob');\n  xhr.setRequestHeader('Content-Type', file.type);\n\n  xhr.upload.onprogress = function (event) {\n    if (event.lengthComputable) {\n      const percentComplete = Math.round((event.loaded / event.total) * 100);\n      Outputs.progress = percentComplete; // Output the progress percentage\n    }\n  };\n\n  xhr.onload = function () {\n    if (xhr.status >= 200 && xhr.status < 300) {\n      // File successfully uploaded, return relevant data\n      const fileData = {\n        url: fileUrl, // URL to access the file\n        name: fileName, // Name of the uploaded file\n        storageAccount: storageAccountName, // Storage account name\n        container: containerName, // Container name\n      };\n\n      Outputs.fileData = fileData; // Store file data in Outputs for further use\n      Outputs.Success(); // Indicate success\n    } else {\n      Outputs.error = xhr.statusText || 'Upload failed';\n      Outputs.Failure(); // Indicate failure\n    }\n  };\n\n  xhr.onerror = function () {\n    Outputs.error = xhr.statusText || 'An error occurred';\n    Outputs.Failure(); // Indicate failure\n  };\n\n  xhr.send(file); // Send the file\n} catch (error) {\n  Outputs.error = error.message || 'An error occurred'; // Provide a meaningful error message\n  Outputs.Failure(); // Indicate failure\n}\n\n// Function to generate a UUID (placeholder implementation)\nfunction generateUUID() {\n  // Generate a random UUID (v4)\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n"},"ports":[{"name":"in-File","displayName":"File","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-SasToken","displayName":"SasToken","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-StorageAccountName","displayName":"StorageAccountName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-ContainerName","displayName":"ContainerName","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-CompanyId","displayName":"CompanyId","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-progress","displayName":"progress","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-fileData","displayName":"fileData","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"12c1c68a-692d-b252-8ee7-3db599a4e975","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"bef69651-ed1e-89de-0c46-7bc7100744d6","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"24bc5171-7316-dc3a-49f1-f07358b2cb74","type":"JavaScriptFunction","parameters":{"functionScript":"const file = Inputs.File || null; // File from file picker node\nconst sasToken = Inputs.SasToken || 'sv=2022-11-02&ss=b&srt=sco&sp=rwdlaciytfx&se=2025-08-01T18:06:34Z&st=2024-08-05T10:06:34Z&spr=https,http&sig=U2aHk1OiRypOFtdXZBr9kYa%2F8X6xt0rnVwk5h%2FSruDA%3D'; // Shared Access Signature (SAS) token\nconst storageAccountName = Inputs.StorageAccountName || 'sacdnvhivedev002'; // Azure storage account name\nconst containerName = Inputs.ContainerName || 'hive-clip-noodl-storage'; // Azure storage container name\nconst companyId = Inputs.CompanyId || 'defaultCompanyId'; // Unique object ID for the company\n\nif (!file) throw new Error('No file provided');\nif (!sasToken) throw new Error('Invalid SAS token');\nif (!storageAccountName) throw new Error('Invalid storage account name');\nif (!containerName) throw new Error('Invalid container name');\nif (!companyId) throw new Error('Invalid company ID');\n\n// Generate a unique identifier, e.g., UUID\nconst uniqueId = generateUUID(); // Implement or import a function to generate a UUID\n\n// Construct a unique file name with company ID as the folder and unique ID as a prefix\nconst fileName = `${uniqueId}_${file.name}`; // e.g., 'd3b07384_document.pdf'\nconst filePath = `${companyId}/${fileName}`; // e.g., 'company123/d3b07384_document.pdf'\n\n// Construct the URL for the file in Azure Blob Storage\nconst fileUrl = `https://${storageAccountName}.blob.core.windows.net/${containerName}/${filePath}`;\nconst uploadUrl = `${fileUrl}?${sasToken}`;\n\ntry {\n  // Upload the file\n  const response = await fetch(uploadUrl, {\n    method: 'PUT',\n    headers: {\n      'x-ms-blob-type': 'BlockBlob',\n      'Content-Type': file.type,\n    },\n    body: file,\n  });\n\n  if (!response.ok) {\n    throw new Error('Upload failed');\n  }\n\n  // File successfully uploaded, return relevant data\n  const fileData = {\n    videoUrl: fileUrl, // URL to access the file\n    videoName: fileName, // Name of the uploaded file\n    storageAccount: storageAccountName, // Storage account name\n    container: containerName, // Container name\n  };\n\n  // Store or use fileData as needed, for example:\n  Outputs.fileData = fileData; // Store file data in Outputs for further use\n  Outputs.Success(); // Indicate success\n} catch (error) {\n  Outputs.error = error.message || 'An error occurred'; // Provide a meaningful error message\n  Outputs.Failure(); // Indicate failure\n}\n\n// Function to generate a UUID (placeholder implementation)\nfunction generateUUID() {\n  // Generate a random UUID (v4)\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}"},"ports":[{"name":"in-File","displayName":"File","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-SasToken","displayName":"SasToken","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-StorageAccountName","displayName":"StorageAccountName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-ContainerName","displayName":"ContainerName","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-CompanyId","displayName":"CompanyId","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-fileData","displayName":"fileData","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"1e01708b-8ece-aca9-c1cd-9ec18edef705","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"4752e995-0476-7583-9521-9095874501cc","type":"Timer","parameters":{"duration":500},"ports":[],"children":[]}],"connections":[{"sourceId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","sourcePort":"success","targetId":"76205701-984e-0b70-5039-8016354f383e","targetPort":"run"},{"sourceId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","sourcePort":"file","targetId":"76205701-984e-0b70-5039-8016354f383e","targetPort":"in-File"},{"sourceId":"12c1c68a-692d-b252-8ee7-3db599a4e975","sourcePort":"Open","targetId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","targetPort":"open"},{"sourceId":"76205701-984e-0b70-5039-8016354f383e","sourcePort":"out-Success","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"Success"},{"sourceId":"76205701-984e-0b70-5039-8016354f383e","sourcePort":"out-error","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"error"},{"sourceId":"76205701-984e-0b70-5039-8016354f383e","sourcePort":"out-fileData","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"fileData"},{"sourceId":"76205701-984e-0b70-5039-8016354f383e","sourcePort":"out-Failure","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"Failure"},{"sourceId":"76205701-984e-0b70-5039-8016354f383e","sourcePort":"out-progress","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"progress"},{"sourceId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","sourcePort":"name","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"fileName"},{"sourceId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","sourcePort":"sizeInBytes","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"fileSize"},{"sourceId":"1e01708b-8ece-aca9-c1cd-9ec18edef705","sourcePort":"savedValue","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"progress"},{"sourceId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","sourcePort":"file","targetId":"bef69651-ed1e-89de-0c46-7bc7100744d6","targetPort":"localBlob"},{"sourceId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","sourcePort":"success","targetId":"4752e995-0476-7583-9521-9095874501cc","targetPort":"start"},{"sourceId":"4752e995-0476-7583-9521-9095874501cc","sourcePort":"timerFinished","targetId":"1e01708b-8ece-aca9-c1cd-9ec18edef705","targetPort":"saveValue"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Open","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"error","type":"*","plug":"output","index":1},{"name":"fileData","type":"*","plug":"output","index":2},{"name":"Failure","type":"signal","plug":"output","index":3},{"name":"progress","type":"number","plug":"output","index":4},{"name":"fileName","type":"string","plug":"output","index":5},{"name":"fileSize","type":"number","plug":"output","index":6},{"name":"localBlob","type":"*","plug":"output","index":7}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","nodes":[{"id":"020ea414-c347-208b-2ae8-e102caa3cf41","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"fed414db-a89f-9de8-fa37-0808eb54f968","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"6fa3081c-b4a1-e7b3-2d3e-dd251ce0d8db","type":"JavaScriptFunction","parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK.Client ?? null;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.request(Directus.readMe());\r\n\r\n        Noodl.Objects[\"Current User\"] = result;\r\n        Noodl.Objects[\"Current User\"].authenticated = true;\r\n\r\n        if(result?.avatar){\r\n            const token = await client.getToken();\r\n            Noodl.Objects[\"Current User\"].avatar = Noodl.Objects.DirectusSDK.Client.url.origin + \"/assets/\" + result.avatar + \"?access_token=\" + token ?? null;\r\n        }\r\n\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        \r\n        Noodl.Objects[\"Current User\"].authenticated = false;\r\n\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"69d7934d-e8fc-fc5c-a17d-69e694d80e29","type":"Event Sender","parameters":{"channelName":"User-Logged-Out"},"ports":[],"children":[]}],"connections":[{"sourceId":"020ea414-c347-208b-2ae8-e102caa3cf41","sourcePort":"Do","targetId":"6fa3081c-b4a1-e7b3-2d3e-dd251ce0d8db","targetPort":"run"},{"sourceId":"6fa3081c-b4a1-e7b3-2d3e-dd251ce0d8db","sourcePort":"out-Success","targetId":"fed414db-a89f-9de8-fa37-0808eb54f968","targetPort":"Success"},{"sourceId":"6fa3081c-b4a1-e7b3-2d3e-dd251ce0d8db","sourcePort":"out-Failure","targetId":"fed414db-a89f-9de8-fa37-0808eb54f968","targetPort":"Failure"},{"sourceId":"6fa3081c-b4a1-e7b3-2d3e-dd251ce0d8db","sourcePort":"out-error","targetId":"fed414db-a89f-9de8-fa37-0808eb54f968","targetPort":"error"},{"sourceId":"6fa3081c-b4a1-e7b3-2d3e-dd251ce0d8db","sourcePort":"out-Failure","targetId":"69d7934d-e8fc-fc5c-a17d-69e694d80e29","targetPort":"sendEvent"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"error","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","nodes":[{"id":"ac95602d-bd5a-660f-228c-6223a7fe7998","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"43294e0d-65e1-cca2-6a30-29c5fe1039c8","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"9f60fcf7-9ca6-62fc-c4a1-8e2421353f2c","type":"String","parameters":{},"ports":[],"children":[]},{"id":"a3f8d581-57e7-6a1b-7009-5cb5cbf9af41","type":"JavaScriptFunction","parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"beb4426c-32fb-70a6-e024-0a89c3d18a2d","type":"States","parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"children":[]},{"id":"51994449-259a-ba24-aed4-9bb00cd32682","type":"Timer","parameters":{"duration":100},"ports":[],"children":[]},{"id":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","parameters":{},"ports":[],"children":[]},{"id":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    itemID: \"string\",\r\n    query: \"object\",\r\n    id_new: \"string\"\r\n}\r\n\r\nfunction map_id_field(data, id_new) {\r\n    if (id_new && id_new != \"\" && data) {\r\n        if (Array.isArray(data) && data.length > 0) {\r\n\r\n            let temp_res = data.map(i => {\r\n                let temp = {\r\n                    ...i\r\n                };\r\n                if (i.id) temp[id_new] = i.id;\r\n                return temp;\r\n            });\r\n            return temp_res;\r\n\r\n        } else if (typeof (data) == \"object\") {\r\n\r\n            let temp = {\r\n                ...data\r\n            };\r\n            if (data.id) temp[id_new] = data.id;\r\n            return temp;\r\n\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection;\r\n    const operation = Script.Inputs.operation;\r\n    const id_new = Script.Inputs.id_new || null;\r\n\r\n    const itemID = Script.Inputs.itemID;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && collection && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if (!itemID) throw new Error(\"Provide valid ID!\");\r\n                    result = await sdk_client.request(Directus.readItem(collection, itemID, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.readItems(collection, query));\r\n                    break;\r\n                case \"all\":\r\n                    query.limit = -1;\r\n                    result = await sdk_client.request(Directus.readItems(collection, query));\r\n                    break;\r\n                case \"singleton\":\r\n                    result = await sdk_client.request(Directus.readSingleton(collection, query));\r\n                    break;\r\n            }\r\n\r\n            result = map_id_field(result, id_new); // Map the id field in the incoming data to a new field, if set\r\n\r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"itemID","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":9},{"name":"id_new","plug":"input","type":{"name":"string"},"group":"Inputs","index":10},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":14},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"700c74ca-6f9b-2c32-a175-1425f08fc937","type":"States","parameters":{"states":"Get Single by ID,Get Multiple by Filter,Get All,Get Singleton"},"ports":[],"children":[]},{"id":"f5c3cfec-fd59-d829-ef9b-bf932e4a1cb5","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","parameters":{},"ports":[],"children":[]},{"id":"d232c998-8e26-bcdb-fb9c-f78d11f8f441","type":"States","parameters":{"states":"No,Yes","useTransitions":false,"values":"new_id","type-new_id":"string","value-Yes-new_id":"directus_id"},"ports":[],"children":[]}],"connections":[{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"collection","targetId":"9f60fcf7-9ca6-62fc-c4a1-8e2421353f2c","targetPort":"value"},{"sourceId":"9f60fcf7-9ca6-62fc-c4a1-8e2421353f2c","sourcePort":"savedValue","targetId":"a3f8d581-57e7-6a1b-7009-5cb5cbf9af41","targetPort":"in-collection"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"SDK Client to use","targetId":"beb4426c-32fb-70a6-e024-0a89c3d18a2d","targetPort":"currentState"},{"sourceId":"a3f8d581-57e7-6a1b-7009-5cb5cbf9af41","sourcePort":"out-Done","targetId":"51994449-259a-ba24-aed4-9bb00cd32682","targetPort":"start"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"Do","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Set"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"aggregate","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"aggregate"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"groupBy","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"groupBy"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"filter","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"filter"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"deep","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"deep"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"alias","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"alias"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"item ID","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Item ID"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"limit","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Limit"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"Get all fields","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Get all fields"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"fields","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Fields"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"sort","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Sort"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"offset","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Offset"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"page","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Page"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"search","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Search"},{"sourceId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","sourcePort":"query","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"query"},{"sourceId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","sourcePort":"operation","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"operation"},{"sourceId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","sourcePort":"itemID","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"itemID"},{"sourceId":"51994449-259a-ba24-aed4-9bb00cd32682","sourcePort":"timerFinished","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"GetData"},{"sourceId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","sourcePort":"Success","targetId":"43294e0d-65e1-cca2-6a30-29c5fe1039c8","targetPort":"Success"},{"sourceId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","sourcePort":"Failure","targetId":"43294e0d-65e1-cca2-6a30-29c5fe1039c8","targetPort":"Failure"},{"sourceId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","sourcePort":"result","targetId":"43294e0d-65e1-cca2-6a30-29c5fe1039c8","targetPort":"result"},{"sourceId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","sourcePort":"error","targetId":"43294e0d-65e1-cca2-6a30-29c5fe1039c8","targetPort":"error"},{"sourceId":"a3f8d581-57e7-6a1b-7009-5cb5cbf9af41","sourcePort":"out-collection","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"collection"},{"sourceId":"beb4426c-32fb-70a6-e024-0a89c3d18a2d","sourcePort":"currentState","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"client"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"Item Get type","targetId":"700c74ca-6f9b-2c32-a175-1425f08fc937","targetPort":"currentState"},{"sourceId":"700c74ca-6f9b-2c32-a175-1425f08fc937","sourcePort":"currentState","targetId":"c7da6ef6-cbf2-6c1c-e4c5-55675a81a573","targetPort":"Get Type"},{"sourceId":"beb4426c-32fb-70a6-e024-0a89c3d18a2d","sourcePort":"currentState","targetId":"f5c3cfec-fd59-d829-ef9b-bf932e4a1cb5","targetPort":"State"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"Do","targetId":"f5c3cfec-fd59-d829-ef9b-bf932e4a1cb5","targetPort":"Do"},{"sourceId":"f5c3cfec-fd59-d829-ef9b-bf932e4a1cb5","sourcePort":"Success","targetId":"a3f8d581-57e7-6a1b-7009-5cb5cbf9af41","targetPort":"run"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"Map incoming ID field","targetId":"d232c998-8e26-bcdb-fb9c-f78d11f8f441","targetPort":"currentState"},{"sourceId":"ac95602d-bd5a-660f-228c-6223a7fe7998","sourcePort":"ID new name","targetId":"d232c998-8e26-bcdb-fb9c-f78d11f8f441","targetPort":"value-Yes-new_id"},{"sourceId":"d232c998-8e26-bcdb-fb9c-f78d11f8f441","sourcePort":"new_id","targetId":"5b8a2d8f-8ff7-ae25-6ca0-e92e716e77ad","targetPort":"id_new"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"SDK Client to use","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"default":"User SDK Client","group":"Config","plug":"input","index":1},{"name":"result","type":"*","plug":"output","index":2},{"name":"collection","type":{"name":"string"},"default":"","group":"Config","plug":"input","index":2},{"name":"error","type":"*","plug":"output","index":3},{"name":"Item Get type","type":{"name":"enum","enums":["Get Single by ID","Get Multiple by Filter","Get All","Get Singleton"]},"default":"Get Single by ID","group":"What to Get","plug":"input","index":3},{"name":"item ID","type":"*","group":"What to Get","plug":"input","index":4},{"name":"limit","type":{"name":"number"},"default":50,"group":"Query Parameters","plug":"input","index":5},{"name":"Get all fields","type":{"name":"boolean"},"default":true,"group":"Query Parameters","plug":"input","index":6},{"name":"fields","type":{"name":"string"},"default":"","group":"Query Parameters","plug":"input","index":7},{"name":"sort","type":{"name":"string"},"default":"","group":"Query Parameters","plug":"input","index":8},{"name":"offset","type":{"name":"number"},"default":0,"group":"Query Parameters","plug":"input","index":9},{"name":"page","type":{"name":"number"},"default":0,"group":"Query Parameters","plug":"input","index":10},{"name":"search","type":{"name":"string"},"default":"","group":"Query Parameters","plug":"input","index":11},{"name":"aggregate","type":"*","group":"Query Parameters","plug":"input","index":12},{"name":"groupBy","type":"*","group":"Query Parameters","plug":"input","index":13},{"name":"filter","type":"*","group":"Query Parameters","plug":"input","index":14},{"name":"deep","type":"*","group":"Query Parameters","plug":"input","index":15},{"name":"alias","type":"*","group":"Query Parameters","plug":"input","index":16},{"name":"Map incoming ID field","type":{"name":"enum","enums":["No","Yes"]},"default":"No","group":"Map ID field","plug":"input","index":17},{"name":"ID new name","type":"string","default":"directus_id","group":"Map ID field","plug":"input","index":18}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","nodes":[{"id":"dc202206-a3ba-fcba-ee6a-ba7e6b181aed","type":"String","parameters":{},"ports":[],"children":[]},{"id":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","type":"JavaScriptFunction","parameters":{"functionScript":"const aggregate = Inputs.aggregate || null;\r\nconst groupBy = Inputs.groupBy || null;\r\nconst filter = Inputs.filter || null;\r\nconst deep = Inputs.deep || null;\r\nconst alias = Inputs.alias || null;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"a55d591f-2053-5d38-7fc1-c851b3256673","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"dbacc64f-d552-8ed2-08e3-73e974b10801","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"4aecd9d1-b728-3f53-ba71-b56ae8cb2546","type":"String","parameters":{},"ports":[],"children":[]},{"id":"42e071a3-aa0a-5eaa-154b-cd45a5743580","type":"String","parameters":{},"ports":[],"children":[]},{"id":"42309c03-c63f-fa86-3cd7-3c1e2146c72e","type":"Boolean","parameters":{"value":true},"ports":[],"children":[]},{"id":"71cf010a-b617-929a-9397-1fa011396539","type":"JavaScriptFunction","parameters":{"functionScript":"const get_type = Inputs.get_type ?? null;\r\nconst item_id = Inputs.item_id ?? null;\r\nconst limit_raw = Inputs.limit_raw ?? null;\r\n\r\nlet operation = null;\r\nlet limit = null;\r\nlet itemID = null;\r\n\r\n///////////////////////////////////\r\n\r\nif (get_type) {\r\n    if (get_type == \"Get Single by ID\" && item_id) {\r\n        if (item_id) {\r\n            operation = \"single\";\r\n            itemID = item_id;\r\n        } else {\r\n            throw new Error(\"Provide valid Item ID\");\r\n        }\r\n    } else if (get_type == \"Get Single by Filter\") {\r\n        operation = \"single\";\r\n    } else if (get_type == \"Get Multiple by Filter\") {\r\n\r\n        if (limit_raw < -1) {\r\n            limit = 1;\r\n        } else if (limit_raw == 0) {\r\n            limit = 1;\r\n        } else {\r\n            limit = limit_raw;\r\n        }\r\n        operation = \"multiple\";\r\n\r\n    } else if (get_type == \"Get All\") {\r\n\r\n        limit = -1;\r\n        operation = \"all\";\r\n\r\n    } else if (get_type == \"Get Singleton\") {\r\n        operation = \"singleton\";\r\n    } else {\r\n        operation = null;\r\n    }\r\n    \r\n    Outputs.operation = operation;\r\n    Outputs.limit = limit;\r\n    Outputs.itemID = itemID;\r\n}\r\n"},"ports":[{"name":"in-get_type","displayName":"get_type","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-item_id","displayName":"item_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-itemID","displayName":"itemID","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"742af1cd-a7cc-5f5f-f2f7-3f6d3f3ef112","type":"Number","parameters":{"value":50},"ports":[],"children":[]},{"id":"9f50524b-0a22-3bc4-f299-19547a2ff07d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"bae15d56-b350-36dc-83de-26334cd9d081","type":"JavaScriptFunction","parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst aggregate = Inputs.aggregate ?? null;\r\nconst groupBy = Inputs.groupBy ?? null;\r\nconst deep = Inputs.deep ?? null;\r\nconst alias = Inputs.alias ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (aggregate) query.aggregate = aggregate;\r\nif (groupBy) query.groupBy = groupBy;\r\nif (deep) query.deep = deep;\r\nif (alias) query.alias = alias;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"c1a7d795-3b75-8237-dd75-75189cc6e570","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"236cb76f-7d3e-6804-82bd-d39c4d6fde79","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.result = (Inputs.get_all_fields ?? true) ? '*' : (Inputs.fields || '*');"},"ports":[{"name":"in-get_all_fields","displayName":"get_all_fields","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Search","targetId":"dc202206-a3ba-fcba-ee6a-ba7e6b181aed","targetPort":"value"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"filter","targetId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","targetPort":"in-filter"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"aggregate","targetId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","targetPort":"in-aggregate"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"alias","targetId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","targetPort":"in-alias"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"deep","targetId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","targetPort":"in-deep"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"groupBy","targetId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","targetPort":"in-groupBy"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Page","targetId":"a55d591f-2053-5d38-7fc1-c851b3256673","targetPort":"value"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Offset","targetId":"dbacc64f-d552-8ed2-08e3-73e974b10801","targetPort":"value"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Sort","targetId":"4aecd9d1-b728-3f53-ba71-b56ae8cb2546","targetPort":"value"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Fields","targetId":"42e071a3-aa0a-5eaa-154b-cd45a5743580","targetPort":"value"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Get all fields","targetId":"42309c03-c63f-fa86-3cd7-3c1e2146c72e","targetPort":"value"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Limit","targetId":"742af1cd-a7cc-5f5f-f2f7-3f6d3f3ef112","targetPort":"value"},{"sourceId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","sourcePort":"out-filter","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-filter"},{"sourceId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","sourcePort":"out-aggregate","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-aggregate"},{"sourceId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","sourcePort":"out-groupBy","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-groupBy"},{"sourceId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","sourcePort":"out-deep","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-deep"},{"sourceId":"f0c0d7cd-57d7-6f73-33c1-9fa56f3a956d","sourcePort":"out-alias","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-alias"},{"sourceId":"4aecd9d1-b728-3f53-ba71-b56ae8cb2546","sourcePort":"savedValue","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-sort"},{"sourceId":"dbacc64f-d552-8ed2-08e3-73e974b10801","sourcePort":"savedValue","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-offset"},{"sourceId":"a55d591f-2053-5d38-7fc1-c851b3256673","sourcePort":"savedValue","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-page"},{"sourceId":"dc202206-a3ba-fcba-ee6a-ba7e6b181aed","sourcePort":"savedValue","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-search"},{"sourceId":"bae15d56-b350-36dc-83de-26334cd9d081","sourcePort":"out-query","targetId":"c1a7d795-3b75-8237-dd75-75189cc6e570","targetPort":"query"},{"sourceId":"71cf010a-b617-929a-9397-1fa011396539","sourcePort":"out-itemID","targetId":"c1a7d795-3b75-8237-dd75-75189cc6e570","targetPort":"itemID"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Set","targetId":"71cf010a-b617-929a-9397-1fa011396539","targetPort":"run"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Get Type","targetId":"71cf010a-b617-929a-9397-1fa011396539","targetPort":"in-get_type"},{"sourceId":"742af1cd-a7cc-5f5f-f2f7-3f6d3f3ef112","sourcePort":"savedValue","targetId":"71cf010a-b617-929a-9397-1fa011396539","targetPort":"in-limit_raw"},{"sourceId":"71cf010a-b617-929a-9397-1fa011396539","sourcePort":"out-limit","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-limit"},{"sourceId":"71cf010a-b617-929a-9397-1fa011396539","sourcePort":"out-operation","targetId":"c1a7d795-3b75-8237-dd75-75189cc6e570","targetPort":"operation"},{"sourceId":"42309c03-c63f-fa86-3cd7-3c1e2146c72e","sourcePort":"savedValue","targetId":"236cb76f-7d3e-6804-82bd-d39c4d6fde79","targetPort":"in-get_all_fields"},{"sourceId":"42e071a3-aa0a-5eaa-154b-cd45a5743580","sourcePort":"savedValue","targetId":"236cb76f-7d3e-6804-82bd-d39c4d6fde79","targetPort":"in-fields"},{"sourceId":"236cb76f-7d3e-6804-82bd-d39c4d6fde79","sourcePort":"out-result","targetId":"bae15d56-b350-36dc-83de-26334cd9d081","targetPort":"in-fields"},{"sourceId":"9f50524b-0a22-3bc4-f299-19547a2ff07d","sourcePort":"Item ID","targetId":"71cf010a-b617-929a-9397-1fa011396539","targetPort":"in-item_id"}],"ports":[{"name":"Set","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"query","type":"*","plug":"output","index":1},{"name":"Get Type","type":"*","group":"Inputs","plug":"input","index":1},{"name":"operation","type":"*","plug":"output","index":2},{"name":"itemID","type":"*","plug":"output","index":3},{"name":"Item ID","type":"*","group":"Inputs","plug":"input","index":3},{"name":"Limit","type":{"name":"number"},"default":50,"plug":"input","index":5},{"name":"Get all fields","type":{"name":"boolean"},"default":true,"plug":"input","index":8},{"name":"Fields","type":{"name":"string"},"default":"","plug":"input","index":9},{"name":"Sort","type":{"name":"string"},"default":"","plug":"input","index":10},{"name":"Offset","type":{"name":"number"},"default":0,"plug":"input","index":11},{"name":"Page","type":{"name":"number"},"default":0,"plug":"input","index":12},{"name":"Search","type":{"name":"string"},"default":"","plug":"input","index":13},{"name":"aggregate","type":"*","group":"Inputs","plug":"input","index":14},{"name":"groupBy","type":"*","group":"Inputs","plug":"input","index":15},{"name":"filter","type":"*","group":"Inputs","plug":"input","index":16},{"name":"deep","type":"*","group":"Inputs","plug":"input","index":17},{"name":"alias","type":"*","group":"Inputs","plug":"input","index":18}],"roots":[]}],"componentIndex":{"b6-afed51a00cdf460b":{"components":["/#Pages/connect","/#Pages/connect/Signup form","/#Directus/Directus Prefab/Components/Auth/Directus - Login","/#Directus/Directus Prefab/Components/Auth/Directus - Signup","/#Directus/Directus Prefab/Components/Utils/Get a SDK client","/Show Toast","/Show Toast/Toast Component"],"dependencies":[]},"b7-edc359e535c6c4a4":{"components":["/#Pages/dashboard","/#Pages/dashboard/Menu tile"],"dependencies":["b8-20200da5248bf4c9","b9-fefb32fc5133ce90"]},"b8-20200da5248bf4c9":{"components":["/#Pages/dashboard/Project tile"],"dependencies":[]},"b9-fefb32fc5133ce90":{"components":["/#Pages/dashboard/video tile","/Global visual components/Context menu","/Global visual components/Context menu/Context menu item","/Global logical components/Extract video thumbnail","/#Directus/Directus Prefab/Components/Data/Directus - Update Data","/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Update)"],"dependencies":[]},"b10-7179e5ff4ffb3f79":{"components":["/#Pages/my-account"],"dependencies":[]},"b11-a990c83380e834d2":{"components":["/#Pages/clients"],"dependencies":[]},"b12-6ebaf670748ccc82":{"components":["/#Pages/videos"],"dependencies":["b13-bd3722f76a9742eb"]},"b13-bd3722f76a9742eb":{"components":["/#Pages/videos/Video library"],"dependencies":["b9-fefb32fc5133ce90","b14-3fd05e253fb10ef0"]},"b14-3fd05e253fb10ef0":{"components":["/Pages And Rows"],"dependencies":[]},"b15-6f347ec69719d9c6":{"components":["/#Pages/project","/#Pages/project/video tab","/#Pages/project/paragraph item","/#Pages/project/paragraph item/sentence item/word item","/#Pages/project/Choice pill selector","/#Pages/project/choice pill","/#Pages/project/popup add video","/Global visual components/Popup template"],"dependencies":["b13-bd3722f76a9742eb"]},"b16-1107d23332679ae9":{"components":["/#Pages/experiment"],"dependencies":[]},"b17-33cad75fc31b484d":{"components":["/#Pages/projects"],"dependencies":["b8-20200da5248bf4c9","b14-3fd05e253fb10ef0"]},"b18-056b21913c303d5e":{"components":["/#Pages/compositions"],"dependencies":["b14-3fd05e253fb10ef0"]},"b19-7e44056262eb7c67":{"components":["/#Directus/Directus - Signup BACKUP","/#Directus/Directus Prefab/Components/Admin/Directus - Get Collections","/#Directus/Directus Prefab/Components/Admin/Directus - Get Fields","/#Directus/Directus Prefab/Components/Auth/Directus - Request Password Reset","/#Directus/Directus Prefab/Components/Auth/Directus - Reset Password","/#Directus/Directus Prefab/Components/Data/Directus - Delete Data","/#Directus/Directus Prefab/Components/Files/Directus - Create File Download URL","/#Directus/Directus Prefab/Components/Files/Directus - Download File","/#Directus/Directus Prefab/Components/Files/Directus - Get Files","/#Directus/Directus Prefab/Components/Files/Directus - Get Folders","/#Directus/Directus Prefab/Components/Files/Directus - Import File","/#Directus/Directus Prefab/Components/Files/Directus - Upload File","/#Directus/Directus Prefab/Components/Flows/Directus - List Flows","/#Directus/Directus Prefab/Components/Flows/Directus - Run Flow","/#Directus/Directus Prefab/Components/Other/Directus - Ping Server","/#Directus/Directus Prefab/Components/Other/Directus - Server info","/#Directus/Directus Prefab/Components/User/Directus - Update Current User","/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Delete)","/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for File Download)","/#Directus/Directus Prefab/Initial Set Up/Set up Directus - Option 2 (manual)","/#Pages/connect/Login form","/#Pages/project/font style icon","/#Pages/project/paragraph item/sentence item","/#Pages/videos/New video container","/#Pages/videos/Popup new video","/Global logical components/Append value to object","/Loading Spinner","/Loading Spinner/Loader Component","/Show Toast/Error","/Show Toast/Normal","/Show Toast/Success","/Show Toast/Warning"],"dependencies":[]}},"routerIndex":{"routers":[{"name":"Main","pages":{"routes":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/project","/#Pages/experiment","/#Pages/projects","/#Pages/compositions"],"startPage":"/#Pages/dashboard"}}],"pages":[{"path":"clients","title":"clients","component":"/#Pages/clients"},{"path":"compositions","title":"compositions","component":"/#Pages/compositions"},{"path":"connect","title":"connect","component":"/#Pages/connect"},{"path":"dashboard","title":"dashboard","component":"/#Pages/dashboard"},{"path":"experiment","title":"experiment","component":"/#Pages/experiment"},{"path":"my-account","title":"my-account","component":"/#Pages/my-account"},{"path":"project/{project}","title":"project","component":"/#Pages/project"},{"path":"projects","title":"projects","component":"/#Pages/projects"},{"path":"videos","title":"videos","component":"/#Pages/videos"}]},"rootComponent":"/App","rootNode":"246f9453-a119-ac78-171e-3806cf596ecc","metadata":{"styles":{"text":{"Display":{"letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none","fontSize":{"value":"40","unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"#000000"},"Headline":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"32","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Large":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","fontSize":{"value":"24","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120%","unit":"px"},"textTransform":"none"},"Title Medium":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","fontSize":{"value":"20","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Small":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","fontSize":{"value":"16","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Large":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"18","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Medium":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"16","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Small":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"14","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Body Large":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"20","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Medium":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"16","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Small":{"letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none","fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"14","unit":"px"},"color":"#FFFFFF"}},"colors":{"Primary":"#5836F5","Primary Subtle":"#C9BFFC","Primary Light":"#F7F5FF","Grey - 900":"#1F1F1F","Grey - 800":"#383838","Grey - 700":"#4C4C4C","Grey - 600":"#757575","Grey - 500":"#A5A5A5","Grey - 400":"#CECECE","Grey - 300":"#E9E9E9","Grey - 200":"#F4F4F4","Grey - 100":"#FBFBFB","Success":"#49AD7F","Notice":"#F2C441","Danger":"#F75A4F","White":"#FFFFFF","Black":"#000000","Hive blue":"#8DBFD4","Hive page grey":"#4B4B4B","Hive header grey":"#383838","Hive purple":"#9747FF","Hive light purple":"#C055C391"}}},"variants":[{"typename":"Text","parameters":{"textStyle":"Body Medium"},"stateParameters":{},"stateTransitions":{}},{"typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","backgroundColor":"Primary","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"#FFFFFF","minWidth":{"value":80,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"}},"stateParameters":{"hover":{"backgroundColor":"Hive purple"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.textinput","parameters":{"useLabel":true,"sizeMode":"explicit","height":{"value":40,"unit":"px"},"textStyle":"Body Medium","borderStyle":"solid","borderRadius":{"value":4,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 700","labeltextStyle":"Label Small","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"labelSpacing":{"value":4,"unit":"px"},"placeholder":"Type here","color":"Grey - 900","placeHolderOpacity":0.65,"enabled":true,"blockTouch":false,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"home"},"iconSize":{"value":20,"unit":"px"},"iconSpacing":{"value":4,"unit":"px"},"iconColor":"Grey - 700","labelcolor":"Grey - 700"},"stateParameters":{"hover":{"labelcolor":"Grey - 700","borderColor":"Grey - 700","borderStyle":"solid","color":"Grey - 900"},"focused":{"borderColor":"Primary","labelcolor":"Primary","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowColor":"Primary","borderStyle":"solid"},"disabled":{"labelcolor":"Grey - 500","backgroundColor":"Grey - 200","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"disabled":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.options","parameters":{"sizeMode":"explicit","height":{"value":40,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"borderColor":"Grey - 700","boxShadowColor":"Dark Gray","useIcon":true,"iconIconSource":{"class":"material-icons","code":"expand_more"},"iconPlacement":"right","iconSize":{"value":20,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"textStyle":"Body Medium","paddingLeft":{"value":12,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"width":{"value":100,"unit":"%"},"iconColor":"Grey - 700","placeholderOpacity":0.65,"placeholder":"Select option","useLabel":true,"labelSpacing":{"value":4,"unit":"px"},"labeltextStyle":"Label Small","labelcolor":"Grey - 700","items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]"},"stateParameters":{"hover":{"borderColor":"Grey - 700","borderRadius":{"value":4,"unit":"px"},"iconColor":"Grey - 900","iconSize":{"value":20,"unit":"px"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Grey - 700"},"focused":{"borderColor":"Primary","boxShadowColor":"Primary","borderRadius":{"value":4,"unit":"px"},"useIcon":true,"iconColor":"Primary","iconIconSource":{"class":"material-icons","code":"keyboard_arrow_up"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Primary"},"pressed":{"borderRadius":{"value":4,"unit":"px"}},"disabled":{"labelcolor":"Grey - 500","iconColor":"Grey - 500","borderColor":"Grey - 500","color":"Grey - 600","backgroundColor":"Grey - 200"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.range","parameters":{"thumbColor":"Primary","thumbBorderRadius":{"value":100,"unit":"%"},"trackHeight":{"value":4,"unit":"px"},"trackActiveColor":"Primary","trackColor":"Primary Subtle","width":{"value":100,"unit":"%"},"trackBorderRadius":{"value":100,"unit":"px"},"thumbHeight":{"value":16,"unit":"px"},"thumbWidth":{"value":16,"unit":"px"}},"stateParameters":{"hover":{"thumbColor":"Hive purple","trackActiveColor":"Hive purple"},"disabled":{"trackActiveColor":"Grey - 500","trackColor":"Grey - 300","thumbColor":"Grey - 500"}},"stateTransitions":{}},{"typename":"net.noodl.controls.checkbox","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useIcon":false,"borderWidth":{"value":1,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Medium","borderRadius":{"value":2,"unit":"px"},"borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParameters":{"checked":{"useIcon":true,"iconIconSource":{"class":"material-icons","code":"check"},"backgroundColor":"Primary","borderColor":"Primary","iconSize":{"value":16,"unit":"px"}},"disabled":{"opacity":0.5},"hover":{"borderColor":"Grey - 700"},"pressed":{}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.radiobutton","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Large","borderWidth":{"value":1,"unit":"px"},"value":"0","useIcon":false,"fillColor":"transparent","borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParameters":{"checked":{"fillColor":"Primary","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"fillSpacing":{"value":2,"unit":"px"}},"hover":{"backgroundColor":"transparent","borderColor":"Grey - 700","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"}},"disabled":{"borderColor":"Grey - 500","labelcolor":"Grey - 500","fillColor":"transparent"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Standard input","typename":"net.noodl.controls.textinput","parameters":{"useLabel":true,"sizeMode":"contentHeight","height":{"value":40,"unit":"px"},"textStyle":"Body Medium","borderStyle":"solid","borderRadius":{"value":8,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 700","labeltextStyle":"Label Small","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"labelSpacing":{"value":4,"unit":"px"},"placeholder":"Type here","color":"Grey - 900","placeHolderOpacity":0.65,"enabled":true,"blockTouch":false,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"home"},"iconSize":{"value":20,"unit":"px"},"iconSpacing":{"value":4,"unit":"px"},"iconColor":"Grey - 700","labelcolor":"Grey - 400","backgroundColor":"White","label":"Email","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"type":"email"},"stateParameters":{"hover":{"labelcolor":"White","borderColor":"Hive purple","borderStyle":"solid","color":"Grey - 900","borderRadius":{"value":8,"unit":"px"}},"focused":{"borderColor":"Primary","labelcolor":"White","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowColor":"Primary","borderStyle":"solid","borderRadius":{"value":8,"unit":"px"}},"disabled":{"labelcolor":"Grey - 500","backgroundColor":"Grey - 200","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","color":"Grey - 600"},"pressed":{"labelcolor":"White","borderColor":"Hive purple","borderRadius":{"value":8,"unit":"px"}}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"disabled":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Standard button","typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","backgroundColor":"Hive light purple","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"#FFFFFF","minWidth":{"value":80,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"},"alignX":"center","label":"Sign up"},"stateParameters":{"hover":{"backgroundColor":"#C055C3B2"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Clickable text","typename":"Text","parameters":{"textStyle":"Body Medium","text":"Already have an account? Click here to log in","alignX":"center","sizeMode":"contentHeight","textAlignX":"center","styleCss":"/* background-color: red; */\ncursor: pointer;"},"stateParameters":{"hover":{"color":"Hive light purple"}},"stateTransitions":{}},{"name":"Tile","typename":"Group","parameters":{"borderRadius":{"value":10,"unit":"px"},"backgroundColor":"Hive header grey","paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"stateParameters":{},"stateTransitions":{}}]};
