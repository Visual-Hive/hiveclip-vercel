{"name":"HiveClip","components":[{"name":"/#Directus/Directus Prefab/Components/Admin/Directus - Get Collections","id":"b60c9b0d-d21d-1933-4b00-c00039ffcec0","graph":{"connections":[{"fromId":"65b97b03-6dc4-c104-4d5d-979c2f34ea66","fromProperty":"Collection","toId":"b202cf79-14c2-f218-8047-8678a5da1167","toProperty":"value"},{"fromId":"b202cf79-14c2-f218-8047-8678a5da1167","fromProperty":"savedValue","toId":"8c1d3889-81bd-4721-1b2b-3c39a689da47","toProperty":"in-collection"},{"fromId":"65b97b03-6dc4-c104-4d5d-979c2f34ea66","fromProperty":"SDK Client to use","toId":"15cba954-45d2-0e77-7102-c2c399ac1a4c","toProperty":"currentState"},{"fromId":"15cba954-45d2-0e77-7102-c2c399ac1a4c","fromProperty":"currentState","toId":"4f69ef2d-10d0-bc30-5096-76585731f083","toProperty":"in-SDKClient"},{"fromId":"4f69ef2d-10d0-bc30-5096-76585731f083","fromProperty":"out-Done","toId":"8c1d3889-81bd-4721-1b2b-3c39a689da47","toProperty":"run"},{"fromId":"8c1d3889-81bd-4721-1b2b-3c39a689da47","fromProperty":"out-Done","toId":"a418e5b8-94c0-9f1a-6add-a40ec42b0cd7","toProperty":"start"},{"fromId":"65b97b03-6dc4-c104-4d5d-979c2f34ea66","fromProperty":"Do","toId":"cf8ba610-28ff-d5ef-f88d-7f45f8fbc04b","toProperty":"start"},{"fromId":"cf8ba610-28ff-d5ef-f88d-7f45f8fbc04b","fromProperty":"timerFinished","toId":"4f69ef2d-10d0-bc30-5096-76585731f083","toProperty":"run"},{"fromId":"a418e5b8-94c0-9f1a-6add-a40ec42b0cd7","fromProperty":"timerFinished","toId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","toProperty":"GetData"},{"fromId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","fromProperty":"Success","toId":"e00a2888-d435-db46-7857-b2d5517ea871","toProperty":"Success"},{"fromId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","fromProperty":"Failure","toId":"e00a2888-d435-db46-7857-b2d5517ea871","toProperty":"Failure"},{"fromId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","fromProperty":"result","toId":"e00a2888-d435-db46-7857-b2d5517ea871","toProperty":"result"},{"fromId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","fromProperty":"error","toId":"e00a2888-d435-db46-7857-b2d5517ea871","toProperty":"error"},{"fromId":"8c1d3889-81bd-4721-1b2b-3c39a689da47","fromProperty":"out-collection","toId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","toProperty":"collection"},{"fromId":"15cba954-45d2-0e77-7102-c2c399ac1a4c","fromProperty":"currentState","toId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","toProperty":"client"},{"fromId":"65b97b03-6dc4-c104-4d5d-979c2f34ea66","fromProperty":"Collections to get","toId":"fe58399f-9523-4a1c-087f-1430435a92be","toProperty":"currentState"},{"fromId":"fe58399f-9523-4a1c-087f-1430435a92be","fromProperty":"currentState","toId":"8c1d3889-81bd-4721-1b2b-3c39a689da47","toProperty":"in-what_to_get"},{"fromId":"8c1d3889-81bd-4721-1b2b-3c39a689da47","fromProperty":"out-operation","toId":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","toProperty":"operation"}],"roots":[{"id":"65b97b03-6dc4-c104-4d5d-979c2f34ea66","type":"Component Inputs","x":-1079.0081231748763,"y":100.90636972116886,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Collection","plug":"output","type":{"name":"*"},"group":"Config","index":3},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"Collections to get","plug":"output","type":{"name":"*"},"group":"Config","index":2}],"dynamicports":[],"children":[]},{"id":"e00a2888-d435-db46-7857-b2d5517ea871","type":"Component Outputs","x":515.0278684333703,"y":281.160111934135,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"b202cf79-14c2-f218-8047-8678a5da1167","type":"String","label":"Collection","x":-722.0332761000394,"y":361.13167799207196,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8c1d3889-81bd-4721-1b2b-3c39a689da47","type":"JavaScriptFunction","x":-254.86883361498792,"y":41.91530084178885,"parameters":{"functionScript":"const what_to_get = Inputs.what_to_get || null;\r\nconst collection = Inputs.collection || null;\r\n\r\nlet operation = \"all\";\r\n\r\nif (what_to_get) {\r\n    switch (what_to_get) {\r\n        case 'All':\r\n            break;\r\n        case 'Single':\r\n            operation = \"single\";\r\n            if (!collection) throw new Error(\"Collection is required!\")\r\n            break;\r\n    }\r\n\r\n    Outputs.operation = operation;\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-what_to_get","displayName":"what_to_get","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"15cba954-45d2-0e77-7102-c2c399ac1a4c","type":"States","label":"Client type","x":-718.8506931928334,"y":37.23896749460039,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"4f69ef2d-10d0-bc30-5096-76585731f083","type":"JavaScriptFunction","x":-480.61664838642173,"y":-21.01383290325157,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a418e5b8-94c0-9f1a-6add-a40ec42b0cd7","type":"Timer","x":-19.475742653395628,"y":81.6607931070576,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"cf8ba610-28ff-d5ef-f88d-7f45f8fbc04b","type":"Timer","x":-718,"y":-48,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"2e86bfcb-1ea1-8d33-a9c9-d34d96794494","type":"Javascript2","x":281.42005339425987,"y":280.5398400765414,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\"\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection || null;\r\n    const operation = Script.Inputs.operation || null;\r\n\r\n    try {\r\n        if (sdk_client && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if(!collection) throw new Error(\"Provide valid Collection!\");\r\n                    result = await sdk_client.request(Directus.readCollection(collection));\r\n                    break;\r\n                case \"all\":\r\n                    result = await sdk_client.request(Directus.readCollections());\r\n                    break;\r\n            }\r\n            \r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":8},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":11},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":12}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"fe58399f-9523-4a1c-087f-1430435a92be","type":"States","x":-720.1412957667296,"y":249.48123674814588,"parameters":{"states":"All,Single","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To All","name":"to-All","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At All","name":"at-All","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached All","name":"reached-All","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Single","name":"to-Single","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Single","name":"at-Single","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Single","name":"reached-Single","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["All","Single"]},"group":"States","displayName":"State","name":"currentState","default":"All","index":12}],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Admin/Directus - Get Fields","id":"ac0a8d9e-7782-49b1-79d2-b42b8ebe0d0f","graph":{"connections":[{"fromId":"1aaa296f-9c08-e27a-9cb6-5cc2a68e120e","fromProperty":"Collection","toId":"243dc842-bb20-1fb8-e8f1-6d07591f63fc","toProperty":"value"},{"fromId":"243dc842-bb20-1fb8-e8f1-6d07591f63fc","fromProperty":"savedValue","toId":"4464ec4b-94f9-c03a-413e-394366307fdf","toProperty":"in-collection"},{"fromId":"1aaa296f-9c08-e27a-9cb6-5cc2a68e120e","fromProperty":"SDK Client to use","toId":"722c531c-8b75-4223-7abb-c845c457c42c","toProperty":"currentState"},{"fromId":"722c531c-8b75-4223-7abb-c845c457c42c","fromProperty":"currentState","toId":"bc0fb4be-9d15-5d24-9d65-8be1474ebd8b","toProperty":"in-SDKClient"},{"fromId":"bc0fb4be-9d15-5d24-9d65-8be1474ebd8b","fromProperty":"out-Done","toId":"4464ec4b-94f9-c03a-413e-394366307fdf","toProperty":"run"},{"fromId":"4464ec4b-94f9-c03a-413e-394366307fdf","fromProperty":"out-Done","toId":"2e28463d-4ff7-775b-3834-b75abf901e37","toProperty":"start"},{"fromId":"1aaa296f-9c08-e27a-9cb6-5cc2a68e120e","fromProperty":"Do","toId":"a1fc3b56-6b23-bdfb-9826-1973ef0e2869","toProperty":"start"},{"fromId":"a1fc3b56-6b23-bdfb-9826-1973ef0e2869","fromProperty":"timerFinished","toId":"bc0fb4be-9d15-5d24-9d65-8be1474ebd8b","toProperty":"run"},{"fromId":"2e28463d-4ff7-775b-3834-b75abf901e37","fromProperty":"timerFinished","toId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","toProperty":"GetData"},{"fromId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","fromProperty":"Success","toId":"4fee013d-8645-e1f7-5393-f6a507bbc546","toProperty":"Success"},{"fromId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","fromProperty":"Failure","toId":"4fee013d-8645-e1f7-5393-f6a507bbc546","toProperty":"Failure"},{"fromId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","fromProperty":"result","toId":"4fee013d-8645-e1f7-5393-f6a507bbc546","toProperty":"result"},{"fromId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","fromProperty":"error","toId":"4fee013d-8645-e1f7-5393-f6a507bbc546","toProperty":"error"},{"fromId":"4464ec4b-94f9-c03a-413e-394366307fdf","fromProperty":"out-collection","toId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","toProperty":"collection"},{"fromId":"722c531c-8b75-4223-7abb-c845c457c42c","fromProperty":"currentState","toId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","toProperty":"client"},{"fromId":"1aaa296f-9c08-e27a-9cb6-5cc2a68e120e","fromProperty":"Fields to get","toId":"c5fab83e-b5fa-fa72-ed7b-a28c2d09feeb","toProperty":"currentState"},{"fromId":"c5fab83e-b5fa-fa72-ed7b-a28c2d09feeb","fromProperty":"currentState","toId":"4464ec4b-94f9-c03a-413e-394366307fdf","toProperty":"in-what_to_get"},{"fromId":"4464ec4b-94f9-c03a-413e-394366307fdf","fromProperty":"out-operation","toId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","toProperty":"operation"},{"fromId":"1aaa296f-9c08-e27a-9cb6-5cc2a68e120e","fromProperty":"Field","toId":"0ff7ec68-67ec-d446-0acb-9df4f9fb6526","toProperty":"value"},{"fromId":"0ff7ec68-67ec-d446-0acb-9df4f9fb6526","fromProperty":"savedValue","toId":"4464ec4b-94f9-c03a-413e-394366307fdf","toProperty":"in-field"},{"fromId":"4464ec4b-94f9-c03a-413e-394366307fdf","fromProperty":"out-field","toId":"bb7b2d29-0e83-9b40-5372-72e3594983fe","toProperty":"field"}],"roots":[{"id":"1aaa296f-9c08-e27a-9cb6-5cc2a68e120e","type":"Component Inputs","x":-1079.0081231748763,"y":100.90636972116886,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Collection","plug":"output","type":{"name":"*"},"group":"Config","index":3},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"Fields to get","plug":"output","type":{"name":"*"},"group":"Config","index":2},{"name":"Field","plug":"output","type":{"name":"*"},"group":"Config","index":4}],"dynamicports":[],"children":[]},{"id":"4fee013d-8645-e1f7-5393-f6a507bbc546","type":"Component Outputs","x":510.0257307557713,"y":279.1592568630955,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"243dc842-bb20-1fb8-e8f1-6d07591f63fc","type":"String","label":"Collection","x":-722.0332761000394,"y":361.13167799207196,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4464ec4b-94f9-c03a-413e-394366307fdf","type":"JavaScriptFunction","x":-245.86498579530996,"y":230.99610505502676,"parameters":{"functionScript":"const what_to_get = Inputs.what_to_get || null;\r\nconst collection = Inputs.collection || null;\r\nconst field = Inputs.field || null;\r\n\r\nlet operation = \"all\";\r\nlet collection_out = null;\r\nlet field_out = null;\r\n\r\nif (what_to_get) {\r\n    switch (what_to_get) {\r\n        case 'All':\r\n            operation = \"all\";\r\n            collection_out = null;\r\n            field_out = null;\r\n            break;\r\n        case 'Fields in a Collection':\r\n            operation = \"fields_in_collection\";\r\n            collection_out = collection;\r\n            field_out = null;\r\n            break;\r\n        case 'Single':\r\n            operation = \"single\";\r\n            collection_out = collection;\r\n            field_out = field;\r\n            if (!collection) throw new Error(\"Collection is required!\")\r\n            break;\r\n    }\r\n\r\n    Outputs.operation = operation;\r\n    Outputs.collection = collection_out;\r\n    Outputs.field = field_out;\r\n    Outputs.Done();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-what_to_get","displayName":"what_to_get","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-field","displayName":"field","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-field","displayName":"field","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"722c531c-8b75-4223-7abb-c845c457c42c","type":"States","label":"Client type","x":-718.8506931928334,"y":37.23896749460039,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"bc0fb4be-9d15-5d24-9d65-8be1474ebd8b","type":"JavaScriptFunction","x":-480.61664838642173,"y":-21.01383290325157,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2e28463d-4ff7-775b-3834-b75abf901e37","type":"Timer","x":-15.474032511316409,"y":255.73518428749884,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"a1fc3b56-6b23-bdfb-9826-1973ef0e2869","type":"Timer","x":-718,"y":-48,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"bb7b2d29-0e83-9b40-5372-72e3594983fe","type":"Javascript2","x":281.42005339425987,"y":280.5398400765414,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    field: \"string\"\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const operation = Script.Inputs.operation || null;\r\n    const collection = Script.Inputs.collection || null;\r\n    const field = Script.Inputs.field || null;\r\n\r\n    try {\r\n        if (sdk_client && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if(!collection || !field) throw new Error(\"Provide valid Data!\");\r\n                    result = await sdk_client.request(Directus.readField(collection, field));\r\n                    break;\r\n                case \"fields_in_collection\":\r\n                    if(!collection ) throw new Error(\"Provide valid Data!\");\r\n                    result = await sdk_client.request(Directus.readFieldsByCollection(collection));\r\n                    break;\r\n                case \"all\":\r\n                    result = await sdk_client.request(Directus.readFields());\r\n                    break;\r\n            }\r\n            \r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"field","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":12},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"c5fab83e-b5fa-fa72-ed7b-a28c2d09feeb","type":"States","x":-720.1412957667296,"y":249.48123674814588,"parameters":{"states":"All,Fields in a Collection,Single","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To All","name":"to-All","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At All","name":"at-All","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached All","name":"reached-All","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Fields in a Collection","name":"to-Fields in a Collection","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Fields in a Collection","name":"at-Fields in a Collection","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Fields in a Collection","name":"reached-Fields in a Collection","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Single","name":"to-Single","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Single","name":"at-Single","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Single","name":"reached-Single","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["All","Fields in a Collection","Single"]},"group":"States","displayName":"State","name":"currentState","default":"All","index":15}],"children":[]},{"id":"0ff7ec68-67ec-d446-0acb-9df4f9fb6526","type":"String","label":"Field","x":-729,"y":480,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Login","id":"d4f03af0-555e-0cc4-e231-e6644a36bf40","graph":{"connections":[{"fromId":"1d8528d0-6d22-d37c-fc06-98d0156e0bab","fromProperty":"email","toId":"ca49af59-2dd1-5b8d-53cb-f7a2c4c1eec0","toProperty":"value"},{"fromId":"1d8528d0-6d22-d37c-fc06-98d0156e0bab","fromProperty":"password","toId":"41dc4885-f57a-9988-3d5e-a5938a035886","toProperty":"value"},{"fromId":"ca49af59-2dd1-5b8d-53cb-f7a2c4c1eec0","fromProperty":"savedValue","toId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","toProperty":"in-email"},{"fromId":"41dc4885-f57a-9988-3d5e-a5938a035886","fromProperty":"savedValue","toId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","toProperty":"in-password"},{"fromId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","fromProperty":"out-Failure","toId":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","toProperty":"Failure"},{"fromId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","fromProperty":"out-error","toId":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","toProperty":"error"},{"fromId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","fromProperty":"out-Success","toId":"8fd70659-db97-cdc9-55a0-ccddbc884365","toProperty":"Do"},{"fromId":"8fd70659-db97-cdc9-55a0-ccddbc884365","fromProperty":"Success","toId":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","toProperty":"Success"},{"fromId":"8fd70659-db97-cdc9-55a0-ccddbc884365","fromProperty":"Failure","toId":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","toProperty":"Failure"},{"fromId":"8fd70659-db97-cdc9-55a0-ccddbc884365","fromProperty":"error","toId":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","toProperty":"error"},{"fromId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","fromProperty":"out-data","toId":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","toProperty":"data"},{"fromId":"8fd70659-db97-cdc9-55a0-ccddbc884365","fromProperty":"Success","toId":"d968462c-ea05-8c71-d7cd-b9c9a121b86b","toProperty":"sendEvent"},{"fromId":"1d8528d0-6d22-d37c-fc06-98d0156e0bab","fromProperty":"Do","toId":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","toProperty":"run"},{"fromId":"e61507e3-ea8d-fc18-8647-263b653cbd6f","fromProperty":"savedValue","toId":"028a151d-7b8e-58cf-bea6-eb3586d4929c","toProperty":"prop-catName"}],"roots":[{"id":"1d8528d0-6d22-d37c-fc06-98d0156e0bab","type":"Component Inputs","x":-415,"y":-1,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"group":"Data","index":1},{"name":"password","plug":"output","type":{"name":"*"},"group":"Data","index":2}],"dynamicports":[],"children":[]},{"id":"6d3596a8-f565-03ce-caf7-5cccfd8d661d","type":"Component Outputs","x":545,"y":0,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2},{"name":"data","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"5a28c8b9-4dd4-2e23-1049-0c2e6c83053d","type":"JavaScriptFunction","x":62.60000000000002,"y":0.40000152587890625,"parameters":{"functionScript":"const email = Inputs.email;\r\nconst password = Inputs.password;\r\n\r\nif (!email || !password) return;\r\n\r\nconst client = Noodl.Objects.DirectusSDK?.Client ?? null;\r\n\r\nif(!client) throw new Error(\"Config Error: No SDK Client found!\");\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.login(email, password);\r\n\r\n        Noodl.Objects.DirectusSDK.token = result;\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif (client) {\r\n    main();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"ca49af59-2dd1-5b8d-53cb-f7a2c4c1eec0","type":"String","label":"email","x":-168.19999999999993,"y":144.5333353678385,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"41dc4885-f57a-9988-3d5e-a5938a035886","type":"String","label":"password","x":-170,"y":240,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8fd70659-db97-cdc9-55a0-ccddbc884365","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","x":295.08000000000004,"y":-74.01333109537757,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d968462c-ea05-8c71-d7cd-b9c9a121b86b","type":"Event Sender","x":547.5133333333333,"y":-111.77999750773108,"parameters":{"channelName":"User-Logged-In"},"ports":[],"dynamicports":[],"children":[]},{"id":"028a151d-7b8e-58cf-bea6-eb3586d4929c","type":"Model2","x":-163.9295238095238,"y":-45.90857024419874,"parameters":{"properties":"catName,catUrl","modelId":"cat1"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-catName","displayName":"catName","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"catName Changed","name":"changed-catName","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-catUrl","displayName":"catUrl","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"catUrl Changed","name":"changed-catUrl","index":10}],"children":[]},{"id":"e61507e3-ea8d-fc18-8647-263b653cbd6f","type":"String","x":-373.9295238095238,"y":-102.90857024419876,"parameters":{"value":"Meow"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Logout","id":"6cc9313a-35f5-5769-0f09-f3bcdba64804","graph":{"connections":[{"fromId":"692e928b-8097-e1a4-624d-7db1c15fb561","fromProperty":"out-Failure","toId":"171a0eb9-b9b7-8fe6-1dbe-51a3be4871dd","toProperty":"Failure"},{"fromId":"692e928b-8097-e1a4-624d-7db1c15fb561","fromProperty":"out-error","toId":"171a0eb9-b9b7-8fe6-1dbe-51a3be4871dd","toProperty":"error"},{"fromId":"692e928b-8097-e1a4-624d-7db1c15fb561","fromProperty":"out-Success","toId":"2402c6a3-057e-0727-1567-3a1472e9ce3f","toProperty":"Do"},{"fromId":"2402c6a3-057e-0727-1567-3a1472e9ce3f","fromProperty":"Success","toId":"171a0eb9-b9b7-8fe6-1dbe-51a3be4871dd","toProperty":"Success"},{"fromId":"2402c6a3-057e-0727-1567-3a1472e9ce3f","fromProperty":"Failure","toId":"171a0eb9-b9b7-8fe6-1dbe-51a3be4871dd","toProperty":"Failure"},{"fromId":"2402c6a3-057e-0727-1567-3a1472e9ce3f","fromProperty":"error","toId":"171a0eb9-b9b7-8fe6-1dbe-51a3be4871dd","toProperty":"error"},{"fromId":"692e928b-8097-e1a4-624d-7db1c15fb561","fromProperty":"out-Success","toId":"e147af16-c0cc-6626-00a5-3815ba93630e","toProperty":"sendEvent"},{"fromId":"78a3a3c9-4bf8-583c-e92e-d2b3bd346f02","fromProperty":"Do","toId":"692e928b-8097-e1a4-624d-7db1c15fb561","toProperty":"run"}],"roots":[{"id":"78a3a3c9-4bf8-583c-e92e-d2b3bd346f02","type":"Component Inputs","x":837,"y":398,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"171a0eb9-b9b7-8fe6-1dbe-51a3be4871dd","type":"Component Outputs","x":1568,"y":399,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"692e928b-8097-e1a4-624d-7db1c15fb561","type":"JavaScriptFunction","x":1086,"y":399,"parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK?.Client ?? null;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.logout();\r\n\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif (client) {\r\n    main();\r\n}"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2402c6a3-057e-0727-1567-3a1472e9ce3f","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","x":1318,"y":325,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e147af16-c0cc-6626-00a5-3815ba93630e","type":"Event Sender","x":1311,"y":192,"parameters":{"channelName":"User-Logged-Out"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Refresh Token","id":"ddbb17c9-3427-a652-8a19-6b333ad3a20f","graph":{"connections":[{"fromId":"45c3fee7-6408-6113-d73c-b17c21e97768","fromProperty":"Do","toId":"bda5d0bb-78d0-0e24-26ee-e5a0aae8570b","toProperty":"run"},{"fromId":"bda5d0bb-78d0-0e24-26ee-e5a0aae8570b","fromProperty":"out-error","toId":"c304275d-1885-eeae-5c4d-60069e2d1bd5","toProperty":"error"},{"fromId":"bda5d0bb-78d0-0e24-26ee-e5a0aae8570b","fromProperty":"out-Success","toId":"031fb855-6337-5e7a-981e-82e07e5d79b1","toProperty":"Do"},{"fromId":"031fb855-6337-5e7a-981e-82e07e5d79b1","fromProperty":"Success","toId":"c304275d-1885-eeae-5c4d-60069e2d1bd5","toProperty":"Success"},{"fromId":"031fb855-6337-5e7a-981e-82e07e5d79b1","fromProperty":"Failure","toId":"c304275d-1885-eeae-5c4d-60069e2d1bd5","toProperty":"Failure"},{"fromId":"031fb855-6337-5e7a-981e-82e07e5d79b1","fromProperty":"error","toId":"c304275d-1885-eeae-5c4d-60069e2d1bd5","toProperty":"error"},{"fromId":"4a512564-b176-8726-70f2-7cfb4fab52b7","fromProperty":"stored","toId":"c304275d-1885-eeae-5c4d-60069e2d1bd5","toProperty":"Failure"},{"fromId":"45c3fee7-6408-6113-d73c-b17c21e97768","fromProperty":"Do","toId":"cf493b4b-0191-b63b-f287-5963b084ebef","toProperty":"do"},{"fromId":"031fb855-6337-5e7a-981e-82e07e5d79b1","fromProperty":"Success","toId":"060f6274-28ec-a525-649d-8fadfe8c9c06","toProperty":"do"},{"fromId":"031fb855-6337-5e7a-981e-82e07e5d79b1","fromProperty":"Failure","toId":"060f6274-28ec-a525-649d-8fadfe8c9c06","toProperty":"do"},{"fromId":"4a512564-b176-8726-70f2-7cfb4fab52b7","fromProperty":"stored","toId":"060f6274-28ec-a525-649d-8fadfe8c9c06","toProperty":"do"},{"fromId":"bda5d0bb-78d0-0e24-26ee-e5a0aae8570b","fromProperty":"out-Failure","toId":"f1d11a00-a94a-2283-94e2-057c63c0dd7f","toProperty":"run"},{"fromId":"f1d11a00-a94a-2283-94e2-057c63c0dd7f","fromProperty":"out-Done","toId":"4a512564-b176-8726-70f2-7cfb4fab52b7","toProperty":"store"},{"fromId":"4a512564-b176-8726-70f2-7cfb4fab52b7","fromProperty":"stored","toId":"815b747f-d8b5-b96e-ac9e-0aafe9016294","toProperty":"sendEvent"}],"roots":[{"id":"45c3fee7-6408-6113-d73c-b17c21e97768","type":"Component Inputs","x":-210,"y":1,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"c304275d-1885-eeae-5c4d-60069e2d1bd5","type":"Component Outputs","x":884,"y":-55,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"bda5d0bb-78d0-0e24-26ee-e5a0aae8570b","type":"JavaScriptFunction","x":62.60000000000002,"y":0.40000152587890625,"parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK.Client;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.refresh();\r\n\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"031fb855-6337-5e7a-981e-82e07e5d79b1","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","x":295.08000000000004,"y":-74.01333109537757,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4a512564-b176-8726-70f2-7cfb4fab52b7","type":"SetModelProperties","x":504.10266666666666,"y":115.41066919962566,"parameters":{"modelId":"Current User","properties":"authenticated","type-authenticated":"boolean"},"ports":[],"dynamicports":[{"type":{"name":"boolean"},"plug":"input","group":"Property Values","displayName":"authenticated","name":"prop-authenticated","index":6},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"authenticated","default":"*","name":"type-authenticated","index":7}],"children":[]},{"id":"cf493b4b-0191-b63b-f287-5963b084ebef","type":"Set Variable","x":61.586444444444396,"y":-150.85421926710342,"parameters":{"name":"Token Refresh Process","setWith":"boolean","value":true},"ports":[],"dynamicports":[{"type":"boolean","plug":"input","group":"General","name":"value","displayName":"Value","index":4}],"children":[]},{"id":"060f6274-28ec-a525-649d-8fadfe8c9c06","type":"Set Variable","x":891,"y":-194,"parameters":{"name":"Token Refresh Process","setWith":"boolean","value":false},"ports":[],"dynamicports":[{"type":"boolean","plug":"input","group":"General","name":"value","displayName":"Value","index":4}],"children":[]},{"id":"f1d11a00-a94a-2283-94e2-057c63c0dd7f","type":"JavaScriptFunction","x":293,"y":142,"parameters":{"functionScript":"const user = Noodl.Objects[\"Current User\"];\r\n\r\nif(user){\r\n    const obj = user.data;\r\n    for(const property in obj){\r\n        delete obj[property];\r\n    }\r\n    user.authenticated = false\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"815b747f-d8b5-b96e-ac9e-0aafe9016294","type":"Event Sender","x":776,"y":201,"parameters":{"channelName":"User-Logged-Out"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"Refreshes the Auth Token for the Logged-in User.\n\nNot required in general practice, as the Token Refresh process is taken care of, automatically by the Directus SDK Client. ","width":465,"height":167,"fill":"transparent","x":176,"y":-403,"id":"d683c90f-8cd1-d36c-d2f5-8d161a532475","largeFont":true,"color":"danger"}]}},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Request Password Reset","id":"c6b3d7d5-0531-e942-acaf-d2ea46bfb7ea","graph":{"connections":[{"fromId":"e6d7cbff-7cb2-9216-3f8a-06568df9739a","fromProperty":"email","toId":"af90590b-24e6-43e1-87e8-7434044679d6","toProperty":"value"},{"fromId":"af90590b-24e6-43e1-87e8-7434044679d6","fromProperty":"savedValue","toId":"2c4c09a2-3160-e900-0209-c25195174bf9","toProperty":"in-email"},{"fromId":"2c4c09a2-3160-e900-0209-c25195174bf9","fromProperty":"out-Failure","toId":"109dca21-358c-16d3-e353-e9301d917998","toProperty":"Failure"},{"fromId":"2c4c09a2-3160-e900-0209-c25195174bf9","fromProperty":"out-error","toId":"109dca21-358c-16d3-e353-e9301d917998","toProperty":"error"},{"fromId":"2c4c09a2-3160-e900-0209-c25195174bf9","fromProperty":"out-Success","toId":"109dca21-358c-16d3-e353-e9301d917998","toProperty":"Success"},{"fromId":"e6d7cbff-7cb2-9216-3f8a-06568df9739a","fromProperty":"reset_url","toId":"0a8eda4f-53bf-30a7-d597-18f82a833f2a","toProperty":"value"},{"fromId":"0a8eda4f-53bf-30a7-d597-18f82a833f2a","fromProperty":"savedValue","toId":"2c4c09a2-3160-e900-0209-c25195174bf9","toProperty":"in-reset_url"},{"fromId":"e6d7cbff-7cb2-9216-3f8a-06568df9739a","fromProperty":"website_url","toId":"6bcb8ba0-160c-9701-4c87-c1688125c1a9","toProperty":"value"},{"fromId":"6bcb8ba0-160c-9701-4c87-c1688125c1a9","fromProperty":"savedValue","toId":"2c4c09a2-3160-e900-0209-c25195174bf9","toProperty":"in-website_url"},{"fromId":"e6d7cbff-7cb2-9216-3f8a-06568df9739a","fromProperty":"Do","toId":"2c4c09a2-3160-e900-0209-c25195174bf9","toProperty":"run"}],"roots":[{"id":"e6d7cbff-7cb2-9216-3f8a-06568df9739a","type":"Component Inputs","x":829,"y":370,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"group":"Data","index":3},{"name":"reset_url","plug":"output","type":{"name":"*"},"group":"Config (Provide only one)","index":1},{"name":"website_url","plug":"output","type":{"name":"*"},"group":"Config (Provide only one)","index":2}],"dynamicports":[],"children":[]},{"id":"109dca21-358c-16d3-e353-e9301d917998","type":"Component Outputs","x":1576,"y":455,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"2c4c09a2-3160-e900-0209-c25195174bf9","type":"JavaScriptFunction","x":1307,"y":372,"parameters":{"functionScript":"const user_email = Inputs.email ?? null;\r\nconst website_url = Inputs.website_url ?? null;\r\nconst reset_url = Inputs.reset_url ?? (website_url ? website_url + \"/reset-password\" : null);  // Default: If the 'website_url' has been provided, then: \"your-website-url/request-password-reset\", else: 'your directus project's default password reset page'\r\n\r\nif (!user_email) return;\r\n\r\nconst client = Noodl.Objects.DirectusSDK?.Client ?? null;\r\n\r\nif(!client) throw new Error(\"Config Error: No SDK Client found!\");\r\n\r\nconst main = async function () {\r\n    try {\r\n        const config = {\r\n            user_email\r\n        };\r\n        if(reset_url) config.reset_url = reset_url;\r\n\r\n        const result = await client.request( Directus.passwordRequest(Object.values(config).join()) );\r\n\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif (client) {\r\n    main();\r\n}"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-website_url","displayName":"website_url","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-reset_url","displayName":"reset_url","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"af90590b-24e6-43e1-87e8-7434044679d6","type":"String","label":"email","x":1078,"y":587,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"0a8eda4f-53bf-30a7-d597-18f82a833f2a","type":"String","label":"reset_url","x":1079.1,"y":489.4000015258789,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6bcb8ba0-160c-9701-4c87-c1688125c1a9","type":"String","label":"website_url","x":1078.8200000000002,"y":684.4800018310547,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Reset Password","id":"cb5d0944-745b-6c42-9fc9-c99945a5434a","graph":{"connections":[{"fromId":"1dd0c8db-219f-b193-1fdd-594b959f2025","fromProperty":"password","toId":"e55293bd-5bac-8033-3c22-c615d0dc9eb7","toProperty":"value"},{"fromId":"e55293bd-5bac-8033-3c22-c615d0dc9eb7","fromProperty":"savedValue","toId":"954e7b0b-b479-c72b-08f9-f1d404037a5b","toProperty":"in-password"},{"fromId":"954e7b0b-b479-c72b-08f9-f1d404037a5b","fromProperty":"out-Failure","toId":"c4d0e648-33c4-c6f4-0e17-9a7ad7c0f67d","toProperty":"Failure"},{"fromId":"954e7b0b-b479-c72b-08f9-f1d404037a5b","fromProperty":"out-error","toId":"c4d0e648-33c4-c6f4-0e17-9a7ad7c0f67d","toProperty":"error"},{"fromId":"954e7b0b-b479-c72b-08f9-f1d404037a5b","fromProperty":"out-Success","toId":"c4d0e648-33c4-c6f4-0e17-9a7ad7c0f67d","toProperty":"Success"},{"fromId":"1dd0c8db-219f-b193-1fdd-594b959f2025","fromProperty":"reset_token","toId":"d1a8848b-3576-02a4-31e7-eb8c5cfd2fae","toProperty":"value"},{"fromId":"d1a8848b-3576-02a4-31e7-eb8c5cfd2fae","fromProperty":"savedValue","toId":"954e7b0b-b479-c72b-08f9-f1d404037a5b","toProperty":"in-reset_token"},{"fromId":"1dd0c8db-219f-b193-1fdd-594b959f2025","fromProperty":"Do","toId":"954e7b0b-b479-c72b-08f9-f1d404037a5b","toProperty":"run"}],"roots":[{"id":"1dd0c8db-219f-b193-1fdd-594b959f2025","type":"Component Inputs","x":829,"y":370,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"password","plug":"output","type":{"name":"*"},"group":"Data","index":2},{"name":"reset_token","plug":"output","type":{"name":"*"},"group":"Data","index":3}],"dynamicports":[],"children":[]},{"id":"c4d0e648-33c4-c6f4-0e17-9a7ad7c0f67d","type":"Component Outputs","x":1579,"y":431,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"954e7b0b-b479-c72b-08f9-f1d404037a5b","type":"JavaScriptFunction","x":1307,"y":372,"parameters":{"functionScript":"const password = Inputs.password ?? null;\r\nconst reset_token = Inputs.reset_token ?? null;\r\n\r\nif (!password || !reset_token) return;\r\n\r\nconst client = Noodl.Objects.DirectusSDK?.Client ?? null;\r\n\r\nif(!client) throw new Error(\"Config Error: No SDK Client found!\");\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.request(Directus.passwordReset(reset_token, password));\r\n\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif (client) {\r\n    main();\r\n}"},"ports":[],"dynamicports":[{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-reset_token","displayName":"reset_token","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"e55293bd-5bac-8033-3c22-c615d0dc9eb7","type":"String","label":"password","x":1078,"y":505,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d1a8848b-3576-02a4-31e7-eb8c5cfd2fae","type":"String","label":"reset_token","x":1075.6,"y":601.6500015258789,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Auth/Directus - Signup","id":"3197873a-f030-3afa-1fcf-fe825a76cd5e","graph":{"connections":[{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"email","toId":"b1bfa02d-1291-26f9-c17f-9b964283f4a4","toProperty":"value"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"password","toId":"00df7d6f-3fdf-b34c-7e04-ec748355763c","toProperty":"value"},{"fromId":"b1bfa02d-1291-26f9-c17f-9b964283f4a4","fromProperty":"savedValue","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-email"},{"fromId":"00df7d6f-3fdf-b34c-7e04-ec748355763c","fromProperty":"savedValue","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-password"},{"fromId":"908dba48-0fff-072d-bd47-d57809673271","fromProperty":"out-Failure","toId":"aebd7c20-5954-a0f6-b7f1-f07b494b7654","toProperty":"Failure"},{"fromId":"908dba48-0fff-072d-bd47-d57809673271","fromProperty":"out-error","toId":"aebd7c20-5954-a0f6-b7f1-f07b494b7654","toProperty":"error"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"first_name","toId":"daae2417-b89a-36cb-4bb6-70436a4c5a89","toProperty":"value"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"last_name","toId":"61700313-af6b-2526-a7f5-4a92e789aa28","toProperty":"value"},{"fromId":"daae2417-b89a-36cb-4bb6-70436a4c5a89","fromProperty":"savedValue","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-first_name"},{"fromId":"61700313-af6b-2526-a7f5-4a92e789aa28","fromProperty":"savedValue","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-last_name"},{"fromId":"908dba48-0fff-072d-bd47-d57809673271","fromProperty":"out-Success","toId":"aebd7c20-5954-a0f6-b7f1-f07b494b7654","toProperty":"Success"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"Do","toId":"4574aded-56be-9f1d-9c75-06416f20aefc","toProperty":"Do"},{"fromId":"4574aded-56be-9f1d-9c75-06416f20aefc","fromProperty":"client","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-client"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"role","toId":"d0fce1af-490c-aee5-9488-556e27fce07e","toProperty":"currentState"},{"fromId":"d0fce1af-490c-aee5-9488-556e27fce07e","fromProperty":"roleId","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-role"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"account","toId":"840e73bf-bddb-ec56-2ab1-ec0d95844a7f","toProperty":"account"},{"fromId":"840e73bf-bddb-ec56-2ab1-ec0d95844a7f","fromProperty":"isTrueEv","toId":"3e9dbfd5-9f34-a3d4-6812-b8d21245b38f","toProperty":"Do"},{"fromId":"840e73bf-bddb-ec56-2ab1-ec0d95844a7f","fromProperty":"isFalseEv","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"run"},{"fromId":"4574aded-56be-9f1d-9c75-06416f20aefc","fromProperty":"Done","toId":"840e73bf-bddb-ec56-2ab1-ec0d95844a7f","toProperty":"run"},{"fromId":"3e9dbfd5-9f34-a3d4-6812-b8d21245b38f","fromProperty":"Success","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"run"},{"fromId":"3e9dbfd5-9f34-a3d4-6812-b8d21245b38f","fromProperty":"record ID","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-account"},{"fromId":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","fromProperty":"account","toId":"908dba48-0fff-072d-bd47-d57809673271","toProperty":"in-account"},{"fromId":"0f1028b5-e045-bf66-a7ad-05d6a37ad0b2","fromProperty":"out-accountData","toId":"3e9dbfd5-9f34-a3d4-6812-b8d21245b38f","toProperty":"Data"}],"roots":[{"id":"f6d72c97-ebfd-a576-c1ab-c5f11549356e","type":"Component Inputs","x":829,"y":370,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"email","plug":"output","type":{"name":"*"},"group":"Data","index":1},{"name":"password","plug":"output","type":{"name":"*"},"group":"Data","index":2},{"name":"first_name","plug":"output","type":{"name":"*"},"group":"Data","index":3},{"name":"last_name","plug":"output","type":{"name":"*"},"group":"Data","index":4},{"name":"role","plug":"output","type":{"name":"*"},"group":"Data","index":5},{"name":"account","plug":"output","type":{"name":"*"},"group":"Data","index":6}],"dynamicports":[],"children":[]},{"id":"aebd7c20-5954-a0f6-b7f1-f07b494b7654","type":"Component Outputs","x":1885,"y":383,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"908dba48-0fff-072d-bd47-d57809673271","type":"JavaScriptFunction","x":1632,"y":343,"parameters":{"functionScript":"const email = Inputs.email ?? null;\r\nconst password = Inputs.password ?? null;\r\nconst first_name = Inputs.first_name ?? null;\r\nconst last_name = Inputs.last_name ?? null;\r\nconst role = Inputs.role ?? '803edd8b-567d-47f5-9190-241167126ff2';\r\nconst account = Inputs.account ?? null;\r\n\r\nif (!email || !password) return;\r\n\r\nconst client = Inputs.client ?? null;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const user_object = {\r\n            email,\r\n            password,\r\n            first_name,\r\n            last_name,\r\n            role,\r\n            account\r\n        }\r\n        const result = await client.request(Directus.createUser(user_object));\r\n\r\n        Outputs.data = result;\r\n        //console.log({ result });\r\n        Outputs.Success();\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif (client) {\r\n    main();\r\n}\r\n\r\n"},"ports":[],"dynamicports":[{"name":"in-email","displayName":"email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-password","displayName":"password","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-first_name","displayName":"first_name","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-last_name","displayName":"last_name","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-role","displayName":"role","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-account","displayName":"account","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-client","displayName":"client","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":14}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"b1bfa02d-1291-26f9-c17f-9b964283f4a4","type":"String","label":"email","x":1076,"y":516,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"00df7d6f-3fdf-b34c-7e04-ec748355763c","type":"String","label":"password","x":1074,"y":611,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"daae2417-b89a-36cb-4bb6-70436a4c5a89","type":"String","label":"first_name","x":1072.2,"y":706.4000015258789,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"61700313-af6b-2526-a7f5-4a92e789aa28","type":"String","label":"last_name","x":1072.2,"y":798.4000015258789,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4574aded-56be-9f1d-9c75-06416f20aefc","type":"/#Directus/Directus Prefab/Components/Utils/Get a SDK client","x":1071.6571428571426,"y":291.9428591047015,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d0fce1af-490c-aee5-9488-556e27fce07e","type":"States","label":"User roles","x":1070.5071428571428,"y":410.34285776955744,"parameters":{"states":"Standard user,Admin","values":"roleId","value-Standard user-roleId":"803edd8b-567d-47f5-9190-241167126ff2","type-roleId":"string"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"roleId","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"roleId","name":"type-roleId","index":7},{"plug":"input","type":"string","group":"Standard user Values","name":"value-Standard user-roleId","displayName":"roleId","editorName":"Standard user|roleId","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Standard user Transitions","name":"transitiondef-Standard user","index":9},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Standard user","name":"to-Standard user","group":"Go to state","index":10},{"plug":"output","type":"boolean","displayName":"At Standard user","name":"at-Standard user","group":"Current state","index":11},{"plug":"output","type":"signal","displayName":"Has Reached Standard user","name":"reached-Standard user","group":"Current state","index":12},{"plug":"input","type":"string","group":"Admin Values","name":"value-Admin-roleId","displayName":"roleId","editorName":"Admin|roleId","index":13},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Admin Transitions","name":"transitiondef-Admin","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Admin","name":"to-Admin","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Admin","name":"at-Admin","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Admin","name":"reached-Admin","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["Standard user","Admin"]},"group":"States","displayName":"State","name":"currentState","default":"Standard user","index":18}],"children":[]},{"id":"3e9dbfd5-9f34-a3d4-6812-b8d21245b38f","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","x":1362.5071428571428,"y":494.34285776955744,"parameters":{"SDK Client to use":"Site SDK Client","collection":"Account","fields":""},"ports":[],"dynamicports":[],"children":[]},{"id":"840e73bf-bddb-ec56-2ab1-ec0d95844a7f","type":"Expression","x":1365.5071428571428,"y":275.34285776955744,"parameters":{"expression":"account == \"\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"account","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"0f1028b5-e045-bf66-a7ad-05d6a37ad0b2","type":"JavaScriptFunction","x":1616.6435064935065,"y":643.1610395877393,"parameters":{"functionScript":"Outputs.accountData = { \"name\":\"Default account\" }"},"ports":[],"dynamicports":[{"name":"out-accountData","displayName":"accountData","plug":"output","type":"*","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize Site Client","id":"f80b66dd-80df-b865-9de7-44e125504305","graph":{"connections":[{"fromId":"7d740a74-6044-fed9-53a4-acc1fbec2eab","fromProperty":"Do","toId":"90839aa7-0d52-0d21-cbe8-14f21585b198","toProperty":"run"},{"fromId":"90839aa7-0d52-0d21-cbe8-14f21585b198","fromProperty":"out-Success","toId":"7990fbec-fb22-a414-0074-8e07a45f808d","toProperty":"Success"},{"fromId":"90839aa7-0d52-0d21-cbe8-14f21585b198","fromProperty":"out-Failure","toId":"7990fbec-fb22-a414-0074-8e07a45f808d","toProperty":"Failure"},{"fromId":"7d740a74-6044-fed9-53a4-acc1fbec2eab","fromProperty":"directusURL","toId":"34042d33-5f45-563c-59b5-5191fef36b97","toProperty":"value"},{"fromId":"34042d33-5f45-563c-59b5-5191fef36b97","fromProperty":"savedValue","toId":"90839aa7-0d52-0d21-cbe8-14f21585b198","toProperty":"in-directusURL"},{"fromId":"7d740a74-6044-fed9-53a4-acc1fbec2eab","fromProperty":"static_token","toId":"47787ac1-1bc1-6cd8-360e-bda2e2ccc3e4","toProperty":"value"},{"fromId":"47787ac1-1bc1-6cd8-360e-bda2e2ccc3e4","fromProperty":"savedValue","toId":"90839aa7-0d52-0d21-cbe8-14f21585b198","toProperty":"in-staticToken"},{"fromId":"7d740a74-6044-fed9-53a4-acc1fbec2eab","fromProperty":"Enable Cross-Domain cookies","toId":"be0ffb04-d0ce-843a-5597-038bb4e4fef5","toProperty":"value"},{"fromId":"be0ffb04-d0ce-843a-5597-038bb4e4fef5","fromProperty":"savedValue","toId":"90839aa7-0d52-0d21-cbe8-14f21585b198","toProperty":"in-crossDomainCookies"}],"roots":[{"id":"7d740a74-6044-fed9-53a4-acc1fbec2eab","type":"Component Inputs","x":-476,"y":-89,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"directusURL","plug":"output","type":{"name":"*"},"index":1},{"name":"static_token","plug":"output","type":{"name":"*"},"index":2},{"name":"Enable Cross-Domain cookies","plug":"output","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"7990fbec-fb22-a414-0074-8e07a45f808d","type":"Component Outputs","x":258,"y":-8,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"90839aa7-0d52-0d21-cbe8-14f21585b198","type":"JavaScriptFunction","x":25.200000000000045,"y":-87.5999984741211,"parameters":{"functionScript":"const project_url = Inputs.directusURL;\r\nconst staticToken = Inputs.staticToken || null;\r\nconst crossDomainCookies = Inputs.crossDomainCookies ?? null;\r\n\r\nif (!project_url || !(new URL(project_url))) return; // throw new Error(\"Invalid Directus Project URL!\");\r\n\r\ntry {\r\n    var client = {};\r\n\r\n    if (crossDomainCookies) {\r\n        if (staticToken && staticToken != \"\") {\r\n            // Static Token has been provided //\r\n            client = Directus.createDirectus(project_url).with(Directus.staticToken(staticToken), { credentials: 'include' }).with(Directus.rest({ credentials: 'include' }));\r\n        } else {\r\n            // No Static Token. Connecting via the default Public Access Role //\r\n            client = Directus.createDirectus(project_url).with(Directus.rest({ credentials: 'include' }));\r\n        }\r\n    } else {\r\n        if (staticToken && staticToken != \"\") {\r\n            // Static Token has been provided //\r\n            client = Directus.createDirectus(project_url).with(Directus.staticToken(staticToken)).with(Directus.rest());\r\n        } else {\r\n            // No Static Token. Connecting via the default Public Access Role //\r\n            client = Directus.createDirectus(project_url).with(Directus.rest());\r\n        }\r\n    }\r\n\r\n\r\n    Noodl.Objects.DirectusSDK = {\r\n        ...Noodl.Objects.DirectusSDK.data,\r\n        SiteClient: client\r\n    }\r\n    Outputs.Success();\r\n} catch (err) {\r\n    console.error(err);\r\n    Outputs.Failure();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-directusURL","displayName":"directusURL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-staticToken","displayName":"staticToken","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-crossDomainCookies","displayName":"crossDomainCookies","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"34042d33-5f45-563c-59b5-5191fef36b97","type":"String","x":-225.73333333333323,"y":53.533335367838504,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"47787ac1-1bc1-6cd8-360e-bda2e2ccc3e4","type":"String","x":-228.6333333333332,"y":142.38333574930823,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"be0ffb04-d0ce-843a-5597-038bb4e4fef5","type":"Boolean","x":-230.0333333333333,"y":229.66333605448403,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"1. Before using this component, do make sure that you have imported the Directus SDK. To do so, you could add the following code in the 'Head Code' setting:\n--------------------------------\n<script type=\"module\">\n  import * as Directus from \"https://esm.sh/@directus/sdk\";\n  window.Directus = Directus;\n</script>\n--------------------------------","width":664,"height":264,"fill":"fill","x":-439,"y":-684,"id":"bde58ba2-1d68-d96a-3597-770da5fb65f8","color":"danger","largeFont":true},{"text":"2. This component creates a separate Directus SDK Client, dedicated for use by the App (without any user login). It will operate parallely with the Directus SDK Client that is linked to the 'logged-in user'.\n\nYou have the option to initialize this (Site Client) with either a Static Token (https://docs.directus.io/guides/sdk/authentication.html#create-a-directus-client-with-a-token) or the default 'Public' Access Role, by keeping the static_token property empty.","width":657,"height":252,"fill":"fill","x":-435,"y":-393,"id":"10a5c260-661c-5924-6a41-eada8dad7df7","largeFont":true,"color":"danger"}]}},{"name":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize User Client","id":"c88a7bda-a2b4-0caa-5b8d-667a5367b4f9","graph":{"connections":[{"fromId":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","fromProperty":"out-Failure","toId":"e58a5161-ef2f-f840-5598-8c2ddc54478e","toProperty":"Failure"},{"fromId":"18699b7c-97c7-f2ac-23d7-b33fd0ebb84d","fromProperty":"Enable Cross-Domain cookies","toId":"5cde0dbb-40d3-4289-085a-e319948c2b33","toProperty":"value"},{"fromId":"5cde0dbb-40d3-4289-085a-e319948c2b33","fromProperty":"savedValue","toId":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","toProperty":"in-crossDomainCookies"},{"fromId":"18699b7c-97c7-f2ac-23d7-b33fd0ebb84d","fromProperty":"Do","toId":"e886eeab-a95a-28db-2a54-8c77f67b4065","toProperty":"run"},{"fromId":"18699b7c-97c7-f2ac-23d7-b33fd0ebb84d","fromProperty":"mode","toId":"3135a9ba-ba32-155d-3597-69fcd91a9158","toProperty":"currentState"},{"fromId":"3135a9ba-ba32-155d-3597-69fcd91a9158","fromProperty":"currentState","toId":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","toProperty":"in-auth_token_mode"},{"fromId":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","fromProperty":"out-Success","toId":"e58a5161-ef2f-f840-5598-8c2ddc54478e","toProperty":"Success"},{"fromId":"18699b7c-97c7-f2ac-23d7-b33fd0ebb84d","fromProperty":"directusURL","toId":"9eb9daf5-ac3e-27c0-1e9e-00635bd323e5","toProperty":"value"},{"fromId":"9eb9daf5-ac3e-27c0-1e9e-00635bd323e5","fromProperty":"savedValue","toId":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","toProperty":"in-directusURL"},{"fromId":"e886eeab-a95a-28db-2a54-8c77f67b4065","fromProperty":"out-Do","toId":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","toProperty":"run"}],"roots":[{"id":"18699b7c-97c7-f2ac-23d7-b33fd0ebb84d","type":"Component Inputs","x":-714,"y":39,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"directusURL","plug":"output","type":{"name":"*"},"index":1},{"name":"Enable Cross-Domain cookies","plug":"output","type":{"name":"*"},"index":3,"group":"Auth Token Management"},{"name":"mode","plug":"output","type":{"name":"*"},"group":"Auth Token Management","index":2}],"dynamicports":[],"children":[]},{"id":"e58a5161-ef2f-f840-5598-8c2ddc54478e","type":"Component Outputs","x":411,"y":154,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"4c74fa1b-e2ff-c41a-b728-2b74a0cf1dff","type":"JavaScriptFunction","x":175.20000000000005,"y":83.4000015258789,"parameters":{"functionScript":"const project_url = Inputs.directusURL ?? null;\r\nconst crossDomainCookies = !!Inputs.crossDomainCookies ?? null;\r\nconst auth_token_mode = Inputs.auth_token_mode ?? \"cookie\";\r\n\r\nif (!project_url || !(new URL(project_url))) return; // throw new Error(\"Invalid Directus Project URL!\");\r\n\r\ntry {\r\n    var client = {};\r\n    if (crossDomainCookies) {\r\n        client = Directus.createDirectus(project_url).with(Directus.authentication(auth_token_mode, { credentials: 'include' })).with(Directus.rest({ credentials: 'include' }));\r\n    } else {\r\n        client = Directus.createDirectus(project_url).with(Directus.authentication(auth_token_mode)).with(Directus.rest());\r\n    }\r\n    \r\n    Noodl.Objects.DirectusSDK = {\r\n        ...Noodl.Objects.DirectusSDK.data,\r\n        Client: client\r\n    }\r\n    Outputs.Success();\r\n} catch (err) {\r\n    console.error(err);\r\n    Outputs.Failure();\r\n}"},"ports":[],"dynamicports":[{"name":"in-directusURL","displayName":"directusURL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-crossDomainCookies","displayName":"crossDomainCookies","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-auth_token_mode","displayName":"auth_token_mode","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"9eb9daf5-ac3e-27c0-1e9e-00635bd323e5","type":"String","x":-230.73333333333323,"y":53.533335367838504,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5cde0dbb-40d3-4289-085a-e319948c2b33","type":"Boolean","x":-229.6333333333332,"y":155.38333574930823,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e886eeab-a95a-28db-2a54-8c77f67b4065","type":"JavaScriptFunction","x":-228,"y":-67,"parameters":{"functionScript":"const url = Noodl.Objects.DirectusSDK?.Client?.url?.origin || null;\r\n\r\nif(!url) Outputs.Do()"},"ports":[],"dynamicports":[{"name":"out-Do","displayName":"Do","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"3135a9ba-ba32-155d-3597-69fcd91a9158","type":"States","label":"mode","x":-227.26111111111118,"y":256.45278029971655,"parameters":{"states":"cookie,session,json","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To cookie","name":"to-cookie","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At cookie","name":"at-cookie","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached cookie","name":"reached-cookie","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To session","name":"to-session","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At session","name":"at-session","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached session","name":"reached-session","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To json","name":"to-json","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At json","name":"at-json","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached json","name":"reached-json","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["cookie","session","json"]},"group":"States","displayName":"State","name":"currentState","default":"cookie","index":15}],"children":[]}],"visualRoots":[],"comments":[{"text":"1. Before using this component, do make sure that you have imported the Directus SDK. To do so, you could add the following code in the 'Head Code' setting:\n--------------------------------\n<script type=\"module\">\n  import * as Directus from \"https://esm.sh/@directus/sdk\";\n  window.Directus = Directus;\n</script>\n--------------------------------","width":664,"height":264,"fill":"fill","x":-435,"y":-406,"id":"bde58ba2-1d68-d96a-3597-770da5fb65f8","color":"danger","largeFont":true}]}},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","id":"d1b73e81-e823-62ce-364b-d130218a0486","graph":{"connections":[{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"collection","toId":"72e973e4-9d61-ccc9-8ff1-d0a061f95beb","toProperty":"value"},{"fromId":"72e973e4-9d61-ccc9-8ff1-d0a061f95beb","fromProperty":"savedValue","toId":"42d2a07c-4d75-2f46-7bed-69dc7ae2ba66","toProperty":"in-collection"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"SDK Client to use","toId":"21ddf0fb-7473-41c2-692e-07c73768be23","toProperty":"currentState"},{"fromId":"42d2a07c-4d75-2f46-7bed-69dc7ae2ba66","fromProperty":"out-Done","toId":"a84e075d-b453-aa00-2140-02d30af14fe4","toProperty":"start"},{"fromId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","fromProperty":"Success","toId":"f054c47e-4d9e-5fde-a792-c3f0ff78c83e","toProperty":"Success"},{"fromId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","fromProperty":"Failure","toId":"f054c47e-4d9e-5fde-a792-c3f0ff78c83e","toProperty":"Failure"},{"fromId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","fromProperty":"result","toId":"f054c47e-4d9e-5fde-a792-c3f0ff78c83e","toProperty":"result"},{"fromId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","fromProperty":"error","toId":"f054c47e-4d9e-5fde-a792-c3f0ff78c83e","toProperty":"error"},{"fromId":"42d2a07c-4d75-2f46-7bed-69dc7ae2ba66","fromProperty":"out-collection","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"collection"},{"fromId":"21ddf0fb-7473-41c2-692e-07c73768be23","fromProperty":"currentState","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"client"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"Create Single or Multiple","toId":"03033cf7-dc03-c3fb-c4ee-5be6f4a4dd75","toProperty":"currentState"},{"fromId":"03033cf7-dc03-c3fb-c4ee-5be6f4a4dd75","fromProperty":"currentState","toId":"482c0f02-33c7-1f89-6238-cecb931a4b87","toProperty":"in-data_qty"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"Data","toId":"482c0f02-33c7-1f89-6238-cecb931a4b87","toProperty":"in-data"},{"fromId":"a84e075d-b453-aa00-2140-02d30af14fe4","fromProperty":"timerFinished","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"CreateData"},{"fromId":"482c0f02-33c7-1f89-6238-cecb931a4b87","fromProperty":"out-data_qty","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"data_qty"},{"fromId":"482c0f02-33c7-1f89-6238-cecb931a4b87","fromProperty":"out-data","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"data"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"Do","toId":"482c0f02-33c7-1f89-6238-cecb931a4b87","toProperty":"run"},{"fromId":"a6653079-b031-adc1-4245-47b16db34caa","fromProperty":"query","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"query"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"limit","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Limit"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"Get all fields","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Get all fields"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"fields","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Fields"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"sort","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Sort"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"offset","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Offset"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"page","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Page"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"search","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"Search"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"aggregate","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"aggregate"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"groupBy","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"groupBy"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"filter","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"filter"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"deep","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"deep"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"alias","toId":"a6653079-b031-adc1-4245-47b16db34caa","toProperty":"alias"},{"fromId":"21ddf0fb-7473-41c2-692e-07c73768be23","fromProperty":"currentState","toId":"8972693a-4da8-a91f-f2db-c9f52fa4bad4","toProperty":"State"},{"fromId":"8972693a-4da8-a91f-f2db-c9f52fa4bad4","fromProperty":"Success","toId":"42d2a07c-4d75-2f46-7bed-69dc7ae2ba66","toProperty":"run"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"Do","toId":"8972693a-4da8-a91f-f2db-c9f52fa4bad4","toProperty":"Do"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"Map incoming ID field","toId":"05e3c7cd-d4ec-e68c-efdb-0371fadd97f9","toProperty":"currentState"},{"fromId":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","fromProperty":"ID new name","toId":"05e3c7cd-d4ec-e68c-efdb-0371fadd97f9","toProperty":"value-Yes-new_id"},{"fromId":"05e3c7cd-d4ec-e68c-efdb-0371fadd97f9","fromProperty":"new_id","toId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","toProperty":"id_new"},{"fromId":"d7da1478-cbc9-37b5-1762-2cf8fb4f5e7e","fromProperty":"result","toId":"f054c47e-4d9e-5fde-a792-c3f0ff78c83e","toProperty":"record ID"},{"fromId":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","fromProperty":"result","toId":"d7da1478-cbc9-37b5-1762-2cf8fb4f5e7e","toProperty":"result"}],"roots":[{"id":"ff658c05-6cf3-c262-ab7c-a52d8cad838f","type":"Component Inputs","x":-1039,"y":450,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"collection","plug":"output","type":{"name":"*"},"group":"Config","index":2},{"name":"Multiple Items","plug":"output","type":{"name":"*"},"group":"Response - Get Multiple Items","index":5},{"name":"fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":9},{"name":"Get all fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":8},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":10},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":11},{"name":"page","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":12},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":17},{"name":"groupBy","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":15},{"name":"aggregate","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":14},{"name":"alias","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":18},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":16},{"name":"search","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":13},{"name":"Create Single or Multiple","plug":"output","type":{"name":"*"},"group":"Create Data","index":3},{"name":"Data","plug":"output","type":{"name":"*"},"group":"Create Data","index":4},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Response - Get Multiple Items","index":6},{"name":"Get All Items","plug":"output","type":{"name":"*"},"group":"Response - Get All Items","index":7},{"name":"Map incoming ID field","plug":"output","type":{"name":"*"},"group":"Map ID field in Returned Data","index":19},{"name":"ID new name","plug":"output","type":{"name":"*"},"group":"Map ID field in Returned Data","index":20}],"dynamicports":[],"children":[]},{"id":"f054c47e-4d9e-5fde-a792-c3f0ff78c83e","type":"Component Outputs","x":685,"y":420,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2},{"name":"record ID","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"72e973e4-9d61-ccc9-8ff1-d0a061f95beb","type":"String","label":"Collection","x":-690,"y":265,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"42d2a07c-4d75-2f46-7bed-69dc7ae2ba66","type":"JavaScriptFunction","x":-223,"y":133,"parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (!collection || typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"21ddf0fb-7473-41c2-692e-07c73768be23","type":"States","label":"Client type","x":-690,"y":163,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"a84e075d-b453-aa00-2140-02d30af14fe4","type":"Timer","x":-11,"y":131,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"37a5e0b7-288f-0ed6-f19d-0ef63b86b9ff","type":"Javascript2","x":313,"y":416,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    query: \"object\",\r\n    data_qty: \"single\",\r\n    id_new: \"string\"\r\n}\r\n\r\nfunction map_id_field(data, id_new) {\r\n    if (id_new && id_new != \"\" && data) {\r\n        if (Array.isArray(data) && data.length > 0) {\r\n\r\n            let temp_res = data.map(i => {\r\n                let temp = {\r\n                    ...i\r\n                };\r\n                if (i.id) temp[id_new] = i.id;\r\n                return temp;\r\n            });\r\n            return temp_res;\r\n\r\n        } else if (typeof (data) == \"object\") {\r\n\r\n            let temp = {\r\n                ...data\r\n            };\r\n            if (data.id) temp[id_new] = data.id;\r\n            return temp;\r\n\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n\r\nScript.Signals.CreateData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection ?? null;\r\n\r\n    const data_qty = Script.Inputs.data_qty ?? null;\r\n    const data = Script.Inputs.data ?? null;\r\n    const id_new = Script.Inputs.id_new || null;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && collection && data_qty && data) {\r\n            let result;\r\n            switch (data_qty) {\r\n                case \"single\":\r\n                    result = await sdk_client.request(Directus.createItem(collection, data, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.createItems(collection, data, query));\r\n                    break;\r\n            }\r\n                        \r\n            result = map_id_field(result, id_new); // Map the id field in the incoming data to a new field, if set\r\n\r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":8},{"name":"data_qty","plug":"input","type":{"name":"single"},"group":"Inputs","index":9},{"name":"id_new","plug":"input","type":{"name":"string"},"group":"Inputs","index":10},{"name":"CreateData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":12},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":15},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":16}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"03033cf7-dc03-c3fb-c4ee-5be6f4a4dd75","type":"States","label":"Create type","x":-689.7,"y":361.1000015258789,"parameters":{"states":"single,multiple","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To single","name":"to-single","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At single","name":"at-single","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached single","name":"reached-single","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To multiple","name":"to-multiple","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At multiple","name":"at-multiple","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached multiple","name":"reached-multiple","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["single","multiple"]},"group":"States","displayName":"State","name":"currentState","default":"single","index":12}],"children":[]},{"id":"482c0f02-33c7-1f89-6238-cecb931a4b87","type":"JavaScriptFunction","x":-364.70000000000005,"y":386.1000015258789,"parameters":{"functionScript":"const data_qty = Inputs.data_qty ?? null;\r\nconst data = Inputs.data ?? {};\r\n\r\nlet status = false;\r\n\r\nif (data && data_qty) {\r\n    const data_type = Array.isArray(data) ? \"array\" : (typeof (data) == \"object\" ? \"object\" : typeof (data));\r\n\r\n    if (data_qty == \"multiple\" && data_type == \"array\") {\r\n        status = true;\r\n    } else if (data_qty == \"single\" && data_type == \"object\") {\r\n        status = true;\r\n    } else {\r\n        throw new Error(\"Invalid data config!\");\r\n    }\r\n    if (status) {\r\n        Outputs.data_qty = data_qty;\r\n        Outputs.data = data;\r\n    }\r\n} else {\r\n    throw new Error(\"Invalid request!\")\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-data_qty","displayName":"data_qty","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-data_qty","displayName":"data_qty","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a6653079-b031-adc1-4245-47b16db34caa","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Create)","x":-365.45000000000005,"y":519.500001780192,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8972693a-4da8-a91f-f2db-c9f52fa4bad4","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","x":-460.73749999999995,"y":57.47500040266249,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"05e3c7cd-d4ec-e68c-efdb-0371fadd97f9","type":"States","x":-663,"y":861,"parameters":{"states":"No,Yes","useTransitions":false,"values":"new_id","type-new_id":"string","value-Yes-new_id":"directus_id","value-No-new_id":""},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"new_id","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"new_id","name":"type-new_id","index":7},{"plug":"input","type":"string","group":"No Values","name":"value-No-new_id","displayName":"new_id","editorName":"No|new_id","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To No","name":"to-No","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At No","name":"at-No","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached No","name":"reached-No","group":"Current state","index":11},{"plug":"input","type":"string","group":"Yes Values","name":"value-Yes-new_id","displayName":"new_id","editorName":"Yes|new_id","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Yes","name":"to-Yes","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Yes","name":"at-Yes","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Yes","name":"reached-Yes","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["No","Yes"]},"group":"States","displayName":"State","name":"currentState","default":"No","index":16}],"children":[]},{"id":"d7da1478-cbc9-37b5-1762-2cf8fb4f5e7e","type":"Expression","x":502.6177083333332,"y":577.7645837695511,"parameters":{"expression":"result.id"},"ports":[],"dynamicports":[{"group":"Parameters","name":"result","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Delete Data","id":"df4ffc2b-e5bf-8580-e48a-05333ba51931","graph":{"connections":[{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"collection","toId":"ac7fd740-3abd-20c6-6499-407d7c47d8b6","toProperty":"value"},{"fromId":"ac7fd740-3abd-20c6-6499-407d7c47d8b6","fromProperty":"savedValue","toId":"342574e7-0562-5cd1-5ba1-8285cf9dd3e6","toProperty":"in-collection"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"SDK Client to use","toId":"0ef12fb1-baef-c629-689f-6c709c615d7f","toProperty":"currentState"},{"fromId":"342574e7-0562-5cd1-5ba1-8285cf9dd3e6","fromProperty":"out-Done","toId":"8126c805-0ef0-db04-0142-dd0a62bd66ff","toProperty":"start"},{"fromId":"1a16c3ec-677a-9f99-d973-41e450b022a5","fromProperty":"Success","toId":"ed028e80-72c9-225e-b327-994c655a4bf7","toProperty":"Success"},{"fromId":"1a16c3ec-677a-9f99-d973-41e450b022a5","fromProperty":"Failure","toId":"ed028e80-72c9-225e-b327-994c655a4bf7","toProperty":"Failure"},{"fromId":"1a16c3ec-677a-9f99-d973-41e450b022a5","fromProperty":"result","toId":"ed028e80-72c9-225e-b327-994c655a4bf7","toProperty":"result"},{"fromId":"1a16c3ec-677a-9f99-d973-41e450b022a5","fromProperty":"error","toId":"ed028e80-72c9-225e-b327-994c655a4bf7","toProperty":"error"},{"fromId":"342574e7-0562-5cd1-5ba1-8285cf9dd3e6","fromProperty":"out-collection","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"collection"},{"fromId":"0ef12fb1-baef-c629-689f-6c709c615d7f","fromProperty":"currentState","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"client"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"sort","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Sort"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"offset","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Offset"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"page","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Page"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"search","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Search"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"filter","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"filter"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"deep","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"deep"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"limit","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Limit"},{"fromId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","fromProperty":"query","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"query"},{"fromId":"8126c805-0ef0-db04-0142-dd0a62bd66ff","fromProperty":"timerFinished","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"DeleteData"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"Delete Type","toId":"5196c43d-1ef6-a7ce-6d7b-b00f23b6164f","toProperty":"currentState"},{"fromId":"5196c43d-1ef6-a7ce-6d7b-b00f23b6164f","fromProperty":"currentState","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Delete Type"},{"fromId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","fromProperty":"itemID","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"item_id"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"data","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"data"},{"fromId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","fromProperty":"operation","toId":"1a16c3ec-677a-9f99-d973-41e450b022a5","toProperty":"operation"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"Do","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Do"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"Item ID","toId":"5949e2a9-638b-38de-bbec-bd8a920f8d14","toProperty":"Item ID"},{"fromId":"735fb838-9ea5-55a2-5bb9-287089b23042","fromProperty":"Do","toId":"0117ddf2-ac98-f4e1-68ac-cd826bc77609","toProperty":"Do"},{"fromId":"0ef12fb1-baef-c629-689f-6c709c615d7f","fromProperty":"currentState","toId":"0117ddf2-ac98-f4e1-68ac-cd826bc77609","toProperty":"State"},{"fromId":"0117ddf2-ac98-f4e1-68ac-cd826bc77609","fromProperty":"Success","toId":"342574e7-0562-5cd1-5ba1-8285cf9dd3e6","toProperty":"run"}],"roots":[{"id":"735fb838-9ea5-55a2-5bb9-287089b23042","type":"Component Inputs","x":1576,"y":2196,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"collection","plug":"output","type":{"name":"*"},"group":"Config","index":2},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":8},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":9},{"name":"page","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":10},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":13},{"name":"Item ID","plug":"output","type":{"name":"*"},"group":"Delete Data","index":5},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":12},{"name":"search","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":11},{"name":"data","plug":"output","type":{"name":"*"},"group":"Delete Data","index":6},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Delete by Query Parameters","index":7},{"name":"Delete Type","plug":"output","type":{"name":"*"},"group":"Delete Data","index":3}],"dynamicports":[],"children":[]},{"id":"ed028e80-72c9-225e-b327-994c655a4bf7","type":"Component Outputs","x":3147,"y":2132,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"ac7fd740-3abd-20c6-6499-407d7c47d8b6","type":"String","label":"Collection","x":1920,"y":1985,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"342574e7-0562-5cd1-5ba1-8285cf9dd3e6","type":"JavaScriptFunction","x":2386,"y":1897,"parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"0ef12fb1-baef-c629-689f-6c709c615d7f","type":"States","label":"Client type","x":1922,"y":1893,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"8126c805-0ef0-db04-0142-dd0a62bd66ff","type":"Timer","x":2604,"y":1898,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"1a16c3ec-677a-9f99-d973-41e450b022a5","type":"Javascript2","x":2922,"y":2136,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    query: \"object\",\r\n    operation: \"string\"\r\n}\r\n\r\n\r\nScript.Signals.DeleteData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection;\r\n\r\n    const operation = Script.Inputs.operation ?? null;\r\n    const item_id = Script.Inputs.item_id ?? null;\r\n    \r\n    let data = Script.Inputs.data ?? null;\r\n    const query = Script.Inputs.query || {};\r\n\r\n    if(Object.keys(query).length > 0) data = { ...query };\r\n\r\n    try {\r\n        if (sdk_client && collection && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if(!item_id) throw new Error(\"Provide valid Item ID!\");\r\n                    result = item_id ? await sdk_client.request(Directus.deleteItem(collection, item_id)) : null;\r\n                    break;\r\n                case \"multiple\":\r\n                    result = data ? await sdk_client.request(Directus.deleteItems(collection, data)) : null;\r\n                    break;\r\n                case \"all\":\r\n                    data = {\r\n                        limit : -1\r\n                    }\r\n                    result = await sdk_client.request(Directus.deleteItems(collection, data));\r\n                    break;\r\n            }\r\n            \r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":7},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"DeleteData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"item_id","displayName":"item_id","plug":"input","type":"*","group":"Inputs","index":10},{"name":"data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":11},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":14},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":15}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"5949e2a9-638b-38de-bbec-bd8a920f8d14","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Delete)","x":2206.128205128205,"y":2287.0782067714595,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5196c43d-1ef6-a7ce-6d7b-b00f23b6164f","type":"States","x":1908.594017094017,"y":2200.406518756834,"parameters":{"states":"Delete Single by ID,Delete Multiple by Filter,Delete All"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Delete Single by ID","name":"to-Delete Single by ID","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Delete Single by ID","name":"at-Delete Single by ID","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Delete Single by ID","name":"reached-Delete Single by ID","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Delete Multiple by Filter","name":"to-Delete Multiple by Filter","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Delete Multiple by Filter","name":"at-Delete Multiple by Filter","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Delete Multiple by Filter","name":"reached-Delete Multiple by Filter","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Delete All","name":"to-Delete All","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Delete All","name":"at-Delete All","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Delete All","name":"reached-Delete All","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["Delete Single by ID","Delete Multiple by Filter","Delete All"]},"group":"States","displayName":"State","name":"currentState","default":"Delete Single by ID","index":15}],"children":[]},{"id":"0117ddf2-ac98-f4e1-68ac-cd826bc77609","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","x":2144,"y":1785,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"Either set the Query Parameters or one of : \n- Item ID (for Single)\n- Data (for Multiple)\n\nNote: If Query parameters are set, then the data property will be ignored","width":260,"height":272,"fill":"transparent","x":1541,"y":1783,"id":"f99f645d-4136-66d0-3783-15645c8a4610","largeFont":true,"color":"notice"}]}},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","id":"77939c5d-41ce-427e-d0e1-89525acdb791","graph":{"connections":[{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"collection","toId":"0285be49-3f8a-2f96-abcb-85ce64479a0c","toProperty":"value"},{"fromId":"0285be49-3f8a-2f96-abcb-85ce64479a0c","fromProperty":"savedValue","toId":"acf64de8-7571-c399-483d-0cb25660d18f","toProperty":"in-collection"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"SDK Client to use","toId":"dd30d40d-b97e-c186-f57b-3a232f71c9e4","toProperty":"currentState"},{"fromId":"acf64de8-7571-c399-483d-0cb25660d18f","fromProperty":"out-Done","toId":"7df48982-e9c6-019c-6b19-b863ac1a9864","toProperty":"start"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"Do","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Set"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"aggregate","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"aggregate"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"groupBy","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"groupBy"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"filter","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"filter"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"deep","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"deep"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"alias","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"alias"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"item ID","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Item ID"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"limit","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Limit"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"Get all fields","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Get all fields"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"fields","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Fields"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"sort","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Sort"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"offset","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Offset"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"page","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Page"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"search","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Search"},{"fromId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","fromProperty":"query","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"query"},{"fromId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","fromProperty":"operation","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"operation"},{"fromId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","fromProperty":"itemID","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"itemID"},{"fromId":"7df48982-e9c6-019c-6b19-b863ac1a9864","fromProperty":"timerFinished","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"GetData"},{"fromId":"d2843154-7503-912b-aba1-63dba4c7a82a","fromProperty":"Success","toId":"f6708ad4-6f81-f63e-6d62-a77e946456e5","toProperty":"Success"},{"fromId":"d2843154-7503-912b-aba1-63dba4c7a82a","fromProperty":"Failure","toId":"f6708ad4-6f81-f63e-6d62-a77e946456e5","toProperty":"Failure"},{"fromId":"d2843154-7503-912b-aba1-63dba4c7a82a","fromProperty":"result","toId":"f6708ad4-6f81-f63e-6d62-a77e946456e5","toProperty":"result"},{"fromId":"d2843154-7503-912b-aba1-63dba4c7a82a","fromProperty":"error","toId":"f6708ad4-6f81-f63e-6d62-a77e946456e5","toProperty":"error"},{"fromId":"acf64de8-7571-c399-483d-0cb25660d18f","fromProperty":"out-collection","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"collection"},{"fromId":"dd30d40d-b97e-c186-f57b-3a232f71c9e4","fromProperty":"currentState","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"client"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"Item Get type","toId":"3d6bfbe8-1d1e-8c24-964a-cd3ea122f907","toProperty":"currentState"},{"fromId":"3d6bfbe8-1d1e-8c24-964a-cd3ea122f907","fromProperty":"currentState","toId":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","toProperty":"Get Type"},{"fromId":"dd30d40d-b97e-c186-f57b-3a232f71c9e4","fromProperty":"currentState","toId":"7c5dc8d2-f8eb-5cb1-a13c-249315356739","toProperty":"State"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"Do","toId":"7c5dc8d2-f8eb-5cb1-a13c-249315356739","toProperty":"Do"},{"fromId":"7c5dc8d2-f8eb-5cb1-a13c-249315356739","fromProperty":"Success","toId":"acf64de8-7571-c399-483d-0cb25660d18f","toProperty":"run"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"Map incoming ID field","toId":"901aec65-f66b-250d-fcbf-fb1e0a05c5ae","toProperty":"currentState"},{"fromId":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","fromProperty":"ID new name","toId":"901aec65-f66b-250d-fcbf-fb1e0a05c5ae","toProperty":"value-Yes-new_id"},{"fromId":"901aec65-f66b-250d-fcbf-fb1e0a05c5ae","fromProperty":"new_id","toId":"d2843154-7503-912b-aba1-63dba4c7a82a","toProperty":"id_new"}],"roots":[{"id":"8e8469f8-8eb9-3749-43ad-0e2141ea91c9","type":"Component Inputs","x":-1060,"y":320,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":5},{"name":"collection","plug":"output","type":{"name":"*"},"group":"Config","index":2},{"name":"fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":7},{"name":"Get all fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":6},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":8},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":9},{"name":"page","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":10},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":15},{"name":"groupBy","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":13},{"name":"aggregate","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":12},{"name":"alias","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":16},{"name":"item ID","plug":"output","type":{"name":"*"},"group":"What to Get","index":4},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":14},{"name":"search","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":11},{"name":"Item Get type","plug":"output","type":{"name":"*"},"group":"What to Get","index":3},{"name":"Map incoming ID field","plug":"output","type":{"name":"*"},"group":"Map ID field","index":17},{"name":"ID new name","plug":"output","type":{"name":"*"},"group":"Map ID field","index":18}],"dynamicports":[],"children":[]},{"id":"f6708ad4-6f81-f63e-6d62-a77e946456e5","type":"Component Outputs","x":515.0278684333703,"y":281.160111934135,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"0285be49-3f8a-2f96-abcb-85ce64479a0c","type":"String","label":"Collection","x":-717.0311384224406,"y":145.03933031980006,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"acf64de8-7571-c399-483d-0cb25660d18f","type":"JavaScriptFunction","x":-254.86883361498792,"y":41.91530084178885,"parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"dd30d40d-b97e-c186-f57b-3a232f71c9e4","type":"States","label":"Client type","x":-718.8506931928334,"y":37.23896749460039,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false,"currentState":"User SDK Client"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"7df48982-e9c6-019c-6b19-b863ac1a9864","type":"Timer","x":-36.483010757231796,"y":42.6441192217863,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"06d2b3a5-86e0-f973-cb4e-950a3fa0fe97","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","x":-421.86744630779845,"y":330.1155290943941,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"d2843154-7503-912b-aba1-63dba4c7a82a","type":"Javascript2","x":281.42005339425987,"y":280.5398400765414,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    itemID: \"string\",\r\n    query: \"object\",\r\n    id_new: \"string\"\r\n}\r\n\r\nfunction map_id_field(data, id_new) {\r\n    if (id_new && id_new != \"\" && data) {\r\n        if (Array.isArray(data) && data.length > 0) {\r\n\r\n            let temp_res = data.map(i => {\r\n                let temp = {\r\n                    ...i\r\n                };\r\n                if (i.id) temp[id_new] = i.id;\r\n                return temp;\r\n            });\r\n            return temp_res;\r\n\r\n        } else if (typeof (data) == \"object\") {\r\n\r\n            let temp = {\r\n                ...data\r\n            };\r\n            if (data.id) temp[id_new] = data.id;\r\n            return temp;\r\n\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection;\r\n    const operation = Script.Inputs.operation;\r\n    const id_new = Script.Inputs.id_new || null;\r\n\r\n    const itemID = Script.Inputs.itemID;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && collection && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if (!itemID) throw new Error(\"Provide valid ID!\");\r\n                    result = await sdk_client.request(Directus.readItem(collection, itemID, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.readItems(collection, query));\r\n                    break;\r\n                case \"all\":\r\n                    query.limit = -1;\r\n                    result = await sdk_client.request(Directus.readItems(collection, query));\r\n                    break;\r\n                case \"singleton\":\r\n                    result = await sdk_client.request(Directus.readSingleton(collection));\r\n                    break;\r\n            }\r\n\r\n            result = map_id_field(result, id_new); // Map the id field in the incoming data to a new field, if set\r\n\r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"itemID","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":9},{"name":"id_new","plug":"input","type":{"name":"string"},"group":"Inputs","index":10},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":14},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":15}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"3d6bfbe8-1d1e-8c24-964a-cd3ea122f907","type":"States","label":"Get Type","x":-719.5269848854084,"y":259.36393813385837,"parameters":{"states":"Get Single by ID,Get Multiple by Filter,Get All,Get Singleton"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Single by ID","name":"to-Get Single by ID","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Get Single by ID","name":"at-Get Single by ID","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Get Single by ID","name":"reached-Get Single by ID","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Multiple by Filter","name":"to-Get Multiple by Filter","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Get Multiple by Filter","name":"at-Get Multiple by Filter","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Get Multiple by Filter","name":"reached-Get Multiple by Filter","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get All","name":"to-Get All","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Get All","name":"at-Get All","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Get All","name":"reached-Get All","group":"Current state","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Singleton","name":"to-Get Singleton","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Get Singleton","name":"at-Get Singleton","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Get Singleton","name":"reached-Get Singleton","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["Get Single by ID","Get Multiple by Filter","Get All","Get Singleton"]},"group":"States","displayName":"State","name":"currentState","default":"Get Single by ID","index":18}],"children":[]},{"id":"7c5dc8d2-f8eb-5cb1-a13c-249315356739","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","x":-483,"y":-28,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"901aec65-f66b-250d-fcbf-fb1e0a05c5ae","type":"States","x":-739,"y":730,"parameters":{"states":"No,Yes","useTransitions":false,"values":"new_id","type-new_id":"string","value-Yes-new_id":"directus_id"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"new_id","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"new_id","name":"type-new_id","index":7},{"plug":"input","type":"string","group":"No Values","name":"value-No-new_id","displayName":"new_id","editorName":"No|new_id","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To No","name":"to-No","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At No","name":"at-No","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached No","name":"reached-No","group":"Current state","index":11},{"plug":"input","type":"string","group":"Yes Values","name":"value-Yes-new_id","displayName":"new_id","editorName":"Yes|new_id","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Yes","name":"to-Yes","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Yes","name":"at-Yes","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Yes","name":"reached-Yes","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["No","Yes"]},"group":"States","displayName":"State","name":"currentState","default":"No","index":16}],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Update Data","id":"7d0226c0-3179-c3ad-f4d4-68a251801eb7","graph":{"connections":[{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"collection","toId":"17e353d9-b666-de28-be31-9898d39dec8c","toProperty":"value"},{"fromId":"17e353d9-b666-de28-be31-9898d39dec8c","fromProperty":"savedValue","toId":"c0cc55c7-ee34-8f54-fcec-387ea9f3926b","toProperty":"in-collection"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"SDK Client to use","toId":"b779db83-fa27-2188-d287-40c908a19d81","toProperty":"currentState"},{"fromId":"c0cc55c7-ee34-8f54-fcec-387ea9f3926b","fromProperty":"out-Done","toId":"283886a7-cf26-6828-fe48-badce86d6b24","toProperty":"start"},{"fromId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","fromProperty":"Success","toId":"1660721c-301a-5ea9-ca8f-30c3a327fd67","toProperty":"Success"},{"fromId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","fromProperty":"Failure","toId":"1660721c-301a-5ea9-ca8f-30c3a327fd67","toProperty":"Failure"},{"fromId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","fromProperty":"result","toId":"1660721c-301a-5ea9-ca8f-30c3a327fd67","toProperty":"result"},{"fromId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","fromProperty":"error","toId":"1660721c-301a-5ea9-ca8f-30c3a327fd67","toProperty":"error"},{"fromId":"c0cc55c7-ee34-8f54-fcec-387ea9f3926b","fromProperty":"out-collection","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"collection"},{"fromId":"b779db83-fa27-2188-d287-40c908a19d81","fromProperty":"currentState","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"client"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"limit","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Limit"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"offset","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Offset"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"page","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Page"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"search","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Search"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"filter","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"filter"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"deep","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"deep"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"Do","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Set"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"Update Type","toId":"884b1f92-95ff-69e7-4b0b-bd5abaf9f012","toProperty":"currentState"},{"fromId":"884b1f92-95ff-69e7-4b0b-bd5abaf9f012","fromProperty":"currentState","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Update Type"},{"fromId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","fromProperty":"query","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"query"},{"fromId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","fromProperty":"operation","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"operation"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"Item ID","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Item ID"},{"fromId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","fromProperty":"itemID","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"itemID"},{"fromId":"283886a7-cf26-6828-fe48-badce86d6b24","fromProperty":"timerFinished","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"UpdateData"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"Item ID Array","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Item IDs Array"},{"fromId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","fromProperty":"itemIDArray","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"itemIDArray"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"data","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"data"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"sort","toId":"e38a429b-43a3-fc4e-2d83-e2fef880148e","toProperty":"Sort"},{"fromId":"b779db83-fa27-2188-d287-40c908a19d81","fromProperty":"currentState","toId":"ec92ebf1-1275-3ca1-f459-906524d4589c","toProperty":"State"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"Do","toId":"ec92ebf1-1275-3ca1-f459-906524d4589c","toProperty":"Do"},{"fromId":"ec92ebf1-1275-3ca1-f459-906524d4589c","fromProperty":"Success","toId":"c0cc55c7-ee34-8f54-fcec-387ea9f3926b","toProperty":"run"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"Map incoming ID field","toId":"0c8762f4-656a-5793-8cd0-c7c5d06d7a80","toProperty":"currentState"},{"fromId":"e1f23e6a-4173-6920-e4ce-dd2864cde149","fromProperty":"ID new name","toId":"0c8762f4-656a-5793-8cd0-c7c5d06d7a80","toProperty":"value-Yes-new_id"},{"fromId":"0c8762f4-656a-5793-8cd0-c7c5d06d7a80","fromProperty":"new_id","toId":"302e6414-0f79-0b75-9f82-e70ee2e397c1","toProperty":"id_new"}],"roots":[{"id":"e1f23e6a-4173-6920-e4ce-dd2864cde149","type":"Component Inputs","x":1676,"y":1858.0000000000002,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":8},{"name":"collection","plug":"output","type":{"name":"*"},"group":"Config","index":2},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":9},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":10},{"name":"page","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":11},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":14},{"name":"Item ID","plug":"output","type":{"name":"*"},"group":"Update Item by ID","index":5},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":13},{"name":"search","plug":"output","type":{"name":"*"},"group":"Update Multiple Items","index":12},{"name":"Update Type","plug":"output","type":{"name":"*"},"group":"What to Update","index":3},{"name":"Item ID Array","plug":"output","type":{"name":"*"},"group":"Update Item by ID","index":6},{"name":"data","plug":"output","type":{"name":"*"},"group":"Data","index":16},{"name":"Map incoming ID field","plug":"output","type":{"name":"*"},"group":"Map ID field","index":17},{"name":"ID new name","plug":"output","type":{"name":"*"},"group":"Map ID field","index":18}],"dynamicports":[],"children":[]},{"id":"1660721c-301a-5ea9-ca8f-30c3a327fd67","type":"Component Outputs","x":3223,"y":1846,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"17e353d9-b666-de28-be31-9898d39dec8c","type":"String","label":"Collection","x":2018,"y":1596,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c0cc55c7-ee34-8f54-fcec-387ea9f3926b","type":"JavaScriptFunction","x":2484,"y":1508,"parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"b779db83-fa27-2188-d287-40c908a19d81","type":"States","label":"Client type","x":2020,"y":1503,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"283886a7-cf26-6828-fe48-badce86d6b24","type":"Timer","x":2702,"y":1509,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"302e6414-0f79-0b75-9f82-e70ee2e397c1","type":"Javascript2","x":3020,"y":1747,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    itemID: \"string\",\r\n    itemIDArray: \"array\",\r\n    query: \"object\",\r\n    data: \"object\",\r\n    id_new: \"string\"\r\n}\r\n\r\nfunction map_id_field(data, id_new) {\r\n    if (id_new && id_new != \"\" && data) {\r\n        if (Array.isArray(data) && data.length > 0) {\r\n\r\n            let temp_res = data.map(i => {\r\n                let temp = {\r\n                    ...i\r\n                };\r\n                if (i.id) temp[id_new] = i.id;\r\n                return temp;\r\n            });\r\n            return temp_res;\r\n\r\n        } else if (typeof (data) == \"object\") {\r\n\r\n            let temp = {\r\n                ...data\r\n            };\r\n            if (data.id) temp[id_new] = data.id;\r\n            return temp;\r\n\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n\r\n\r\nScript.Signals.UpdateData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection;\r\n    const operation = Script.Inputs.operation;\r\n    const id_new = Script.Inputs.id_new || null;\r\n\r\n    const itemID = Script.Inputs.itemID;\r\n    const itemIDArray = Script.Inputs.itemIDArray;\r\n\r\n    const data = Script.Inputs.data || {};\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && collection && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    result = await sdk_client.request(Directus.updateItem(collection, itemID, data));\r\n                    break;\r\n                case \"multiple\":\r\n                    let query_obj = {};\r\n\r\n                    if (query) query_obj = structuredClone(query);\r\n\r\n                    if (Object.keys(query_obj).length == 0 || query_obj == {}) {\r\n                        throw new Error(\"Provide a valid Query object\")\r\n                    }\r\n\r\n                    result = await sdk_client.request(Directus.updateItems(collection, query_obj, data));\r\n                    break;\r\n                case \"multipleByIDs\":\r\n                    result = await sdk_client.request(Directus.updateItems(collection, itemIDArray, data));\r\n                    break;\r\n                case \"singleton\":\r\n                    result = await sdk_client.request(Directus.updateSingleton(collection, data));\r\n                    break;\r\n                case \"all\":\r\n                    result = await sdk_client.request(Directus.updateItems(collection, [], data));\r\n                    break;\r\n            }\r\n\r\n            result = map_id_field(result, id_new); // Map the id field in the incoming data to a new field, if set\r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"itemID","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"itemIDArray","plug":"input","type":{"name":"array"},"group":"Inputs","index":9},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":10},{"name":"data","plug":"input","type":{"name":"object"},"group":"Inputs","index":11},{"name":"id_new","plug":"input","type":{"name":"string"},"group":"Inputs","index":12},{"name":"UpdateData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":13},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":16},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":17}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"884b1f92-95ff-69e7-4b0b-bd5abaf9f012","type":"States","label":"Update Type","x":2016,"y":1745,"parameters":{"states":"Update Single by ID,Update Multiple by Filter,Update Singleton,Update Multiple by IDs","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Update Single by ID","name":"to-Update Single by ID","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Update Single by ID","name":"at-Update Single by ID","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Update Single by ID","name":"reached-Update Single by ID","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Update Multiple by Filter","name":"to-Update Multiple by Filter","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Update Multiple by Filter","name":"at-Update Multiple by Filter","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Update Multiple by Filter","name":"reached-Update Multiple by Filter","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Update Singleton","name":"to-Update Singleton","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Update Singleton","name":"at-Update Singleton","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Update Singleton","name":"reached-Update Singleton","group":"Current state","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Update Multiple by IDs","name":"to-Update Multiple by IDs","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Update Multiple by IDs","name":"at-Update Multiple by IDs","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Update Multiple by IDs","name":"reached-Update Multiple by IDs","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["Update Single by ID","Update Multiple by Filter","Update Singleton","Update Multiple by IDs"]},"group":"States","displayName":"State","name":"currentState","default":"Update Single by ID","index":18}],"children":[]},{"id":"e38a429b-43a3-fc4e-2d83-e2fef880148e","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Update)","x":2390.000855253826,"y":1834.4763713017426,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"ec92ebf1-1275-3ca1-f459-906524d4589c","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","x":2236,"y":1406,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"0c8762f4-656a-5793-8cd0-c7c5d06d7a80","type":"States","x":2007,"y":2233,"parameters":{"states":"No,Yes","useTransitions":false,"values":"new_id","type-new_id":"string","value-Yes-new_id":"directus_id"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"new_id","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"new_id","name":"type-new_id","index":7},{"plug":"input","type":"string","group":"No Values","name":"value-No-new_id","displayName":"new_id","editorName":"No|new_id","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To No","name":"to-No","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At No","name":"at-No","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached No","name":"reached-No","group":"Current state","index":11},{"plug":"input","type":"string","group":"Yes Values","name":"value-Yes-new_id","displayName":"new_id","editorName":"Yes|new_id","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Yes","name":"to-Yes","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At Yes","name":"at-Yes","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached Yes","name":"reached-Yes","group":"Current state","index":15},{"plug":"input","type":{"name":"enum","enums":["No","Yes"]},"group":"States","displayName":"State","name":"currentState","default":"No","index":16}],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Files/Directus - Create File Download URL","id":"4503327f-be3d-36f6-ccec-0404ef647514","graph":{"connections":[{"fromId":"376cd2ca-7171-d25f-ee4c-7b274dd856ef","fromProperty":"file id","toId":"e8da2917-78df-8705-a50c-a97c0beea7ca","toProperty":"value"},{"fromId":"e8da2917-78df-8705-a50c-a97c0beea7ca","fromProperty":"savedValue","toId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","toProperty":"in-file_id"},{"fromId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","fromProperty":"out-Success","toId":"6eb2be0d-5c43-4a7c-acb4-6e86e47ccb92","toProperty":"Success"},{"fromId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","fromProperty":"out-Failure","toId":"6eb2be0d-5c43-4a7c-acb4-6e86e47ccb92","toProperty":"Failure"},{"fromId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","fromProperty":"out-error","toId":"6eb2be0d-5c43-4a7c-acb4-6e86e47ccb92","toProperty":"error"},{"fromId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","fromProperty":"out-downloadURL","toId":"6eb2be0d-5c43-4a7c-acb4-6e86e47ccb92","toProperty":"downloadURL"},{"fromId":"a64d82ad-1a2c-1cb3-2e45-a1c5b160b677","fromProperty":"currentState","toId":"d8daa70a-a5be-2106-4165-378a49468d34","toProperty":"in-SDKClient"},{"fromId":"06375602-78d9-0138-4d77-75dd8d1c70dc","fromProperty":"timerFinished","toId":"d8daa70a-a5be-2106-4165-378a49468d34","toProperty":"run"},{"fromId":"d8daa70a-a5be-2106-4165-378a49468d34","fromProperty":"out-Done","toId":"70e0bd4f-18f4-0edd-e712-386c3c989f70","toProperty":"start"},{"fromId":"376cd2ca-7171-d25f-ee4c-7b274dd856ef","fromProperty":"Do","toId":"06375602-78d9-0138-4d77-75dd8d1c70dc","toProperty":"start"},{"fromId":"376cd2ca-7171-d25f-ee4c-7b274dd856ef","fromProperty":"SDK Client to use","toId":"a64d82ad-1a2c-1cb3-2e45-a1c5b160b677","toProperty":"currentState"},{"fromId":"70e0bd4f-18f4-0edd-e712-386c3c989f70","fromProperty":"timerFinished","toId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","toProperty":"run"},{"fromId":"a64d82ad-1a2c-1cb3-2e45-a1c5b160b677","fromProperty":"currentState","toId":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","toProperty":"in-client"}],"roots":[{"id":"376cd2ca-7171-d25f-ee4c-7b274dd856ef","type":"Component Inputs","x":419,"y":727,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"file id","plug":"output","type":{"name":"*"},"group":"Data","index":2},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"6eb2be0d-5c43-4a7c-acb4-6e86e47ccb92","type":"Component Outputs","x":1506,"y":797,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"downloadURL","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"8dab9801-9c8c-8bd4-ec03-6fd6168840b5","type":"JavaScriptFunction","x":1204.5333333333333,"y":786.4000015258789,"parameters":{"functionScript":"const client_selection = Inputs.client ?? null;\r\nconst sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\nconst file_id = Inputs.file_id || null;\r\nconst download_as_user = (client_selection) ? true : false;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const baseURL = sdk_client.url.href || null;\r\n\r\n        if (baseURL && file_id) {\r\n            const fileURL = new URL(baseURL + \"assets/\" + file_id);\r\n            fileURL.searchParams.append(\"download\", \"\");\r\n\r\n            const access_token = await sdk_client.getToken() || null;\r\n\r\n            if (access_token) {           \r\n                fileURL.searchParams.append(\"access_token\", access_token);\r\n            }\r\n\r\n            Outputs.downloadURL = fileURL.href;\r\n            Outputs.Success();\r\n        } else {\r\n            Outputs.downloadURL = null;\r\n            Outputs.Failure();\r\n        }\r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"in-client","displayName":"client","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-file_id","displayName":"file_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-downloadURL","displayName":"downloadURL","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"e8da2917-78df-8705-a50c-a97c0beea7ca","type":"String","x":765.5333333333334,"y":803.4000015258789,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"a64d82ad-1a2c-1cb3-2e45-a1c5b160b677","type":"States","label":"Client type","x":764,"y":617,"parameters":{"states":"User SDK Client,Public,Site SDK Client","useTransitions":false,"currentState":"Public"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Public","name":"to-Public","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Public","name":"at-Public","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Public","name":"reached-Public","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Public","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":15}],"children":[]},{"id":"d8daa70a-a5be-2106-4165-378a49468d34","type":"JavaScriptFunction","x":1003,"y":559,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\" || state == \"Public\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"70e0bd4f-18f4-0edd-e712-386c3c989f70","type":"Timer","x":1240,"y":558,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"06375602-78d9-0138-4d77-75dd8d1c70dc","type":"Timer","x":765,"y":532,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"https://docs.directus.io/reference/files.html#downloading-a-file","width":632,"height":53,"fill":"transparent","x":476,"y":290,"id":"bd915b20-e38f-cc1d-6672-e41cc5d568ab","color":"notice","largeFont":true}]}},{"name":"/#Directus/Directus Prefab/Components/Files/Directus - Download File","id":"5ab2ac87-7dc1-1acd-70be-dac06c484159","graph":{"connections":[{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"SDK Client to use","toId":"79216a39-acb8-6a51-1a12-7f587eac5e37","toProperty":"currentState"},{"fromId":"79216a39-acb8-6a51-1a12-7f587eac5e37","fromProperty":"currentState","toId":"41909240-3206-66a9-5131-5fdffa07fbc3","toProperty":"in-SDKClient"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"Do","toId":"b307cdc7-8065-989b-4209-96d1a2591c5b","toProperty":"start"},{"fromId":"b307cdc7-8065-989b-4209-96d1a2591c5b","fromProperty":"timerFinished","toId":"41909240-3206-66a9-5131-5fdffa07fbc3","toProperty":"run"},{"fromId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","fromProperty":"Success","toId":"5f492453-e15d-3ecb-4067-8daf86bf33c1","toProperty":"Success"},{"fromId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","fromProperty":"Failure","toId":"5f492453-e15d-3ecb-4067-8daf86bf33c1","toProperty":"Failure"},{"fromId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","fromProperty":"result","toId":"5f492453-e15d-3ecb-4067-8daf86bf33c1","toProperty":"result"},{"fromId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","fromProperty":"error","toId":"5f492453-e15d-3ecb-4067-8daf86bf33c1","toProperty":"error"},{"fromId":"79216a39-acb8-6a51-1a12-7f587eac5e37","fromProperty":"currentState","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"client"},{"fromId":"41909240-3206-66a9-5131-5fdffa07fbc3","fromProperty":"out-Done","toId":"2055e68b-e895-0c27-ebe8-972c68711421","toProperty":"start"},{"fromId":"14941443-f3ad-7086-6eef-01baefb65339","fromProperty":"query","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"query"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"Do","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"Set"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"Transformation Type","toId":"f5523841-f76b-1df9-7f6f-5bc4201b40b1","toProperty":"currentState"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"key","toId":"7162c911-7eac-5f7c-a48d-5e721d077171","toProperty":"in-key"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"File ID","toId":"7162c911-7eac-5f7c-a48d-5e721d077171","toProperty":"in-file_id"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"key","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"key"},{"fromId":"7162c911-7eac-5f7c-a48d-5e721d077171","fromProperty":"out-transformation","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"transformation"},{"fromId":"7162c911-7eac-5f7c-a48d-5e721d077171","fromProperty":"out-Done","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"GetData"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"fit","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"fit"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"width","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"width"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"height","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"height"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"quality","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"quality"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"withoutEnlargement","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"withoutEnlargement"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"format","toId":"14941443-f3ad-7086-6eef-01baefb65339","toProperty":"format"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"File ID","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"fileID"},{"fromId":"f5523841-f76b-1df9-7f6f-5bc4201b40b1","fromProperty":"currentState","toId":"7162c911-7eac-5f7c-a48d-5e721d077171","toProperty":"in-transformation_raw"},{"fromId":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","fromProperty":"File ID","toId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","toProperty":"File ID"},{"fromId":"2055e68b-e895-0c27-ebe8-972c68711421","fromProperty":"timerFinished","toId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","toProperty":"Do"},{"fromId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","fromProperty":"Success","toId":"7162c911-7eac-5f7c-a48d-5e721d077171","toProperty":"run"},{"fromId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","fromProperty":"Failure","toId":"5f492453-e15d-3ecb-4067-8daf86bf33c1","toProperty":"Failure"},{"fromId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","fromProperty":"error","toId":"5f492453-e15d-3ecb-4067-8daf86bf33c1","toProperty":"error"},{"fromId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","fromProperty":"result","toId":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","toProperty":"fileObj"},{"fromId":"79216a39-acb8-6a51-1a12-7f587eac5e37","fromProperty":"currentState","toId":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","toProperty":"SDK Client to use"}],"roots":[{"id":"e4527cc0-b4d2-075c-829f-d5fa9f19def0","type":"Component Inputs","x":-1060,"y":320,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"File ID","plug":"output","type":{"name":"*"},"group":"Config","index":3},{"name":"key","plug":"output","type":{"name":"*"},"group":"Preset Transformations","index":4},{"name":"fit","plug":"output","type":{"name":"*"},"group":"Custom Transformations","index":5},{"name":"width","plug":"output","type":{"name":"*"},"group":"Custom Transformations","index":6},{"name":"height","plug":"output","type":{"name":"*"},"group":"Custom Transformations","index":7},{"name":"quality","plug":"output","type":{"name":"*"},"group":"Custom Transformations","index":8},{"name":"withoutEnlargement","plug":"output","type":{"name":"*"},"group":"Custom Transformations","index":9},{"name":"format","plug":"output","type":{"name":"*"},"group":"Custom Transformations","index":10},{"name":"Transformation Type","plug":"output","type":{"name":"*"},"group":"Config","index":2}],"dynamicports":[],"children":[]},{"id":"5f492453-e15d-3ecb-4067-8daf86bf33c1","type":"Component Outputs","x":574.0278684333703,"y":371.160111934135,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"79216a39-acb8-6a51-1a12-7f587eac5e37","type":"States","label":"Client type","x":-718.8506931928334,"y":37.23896749460039,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"41909240-3206-66a9-5131-5fdffa07fbc3","type":"JavaScriptFunction","x":-480.61664838642173,"y":-21.01383290325157,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2055e68b-e895-0c27-ebe8-972c68711421","type":"Timer","x":-243.4830107572318,"y":-22.355880778213702,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"b307cdc7-8065-989b-4209-96d1a2591c5b","type":"Timer","x":-718,"y":-48,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"7446f34c-e5ef-9832-8b74-1cd5d8f7496e","type":"Javascript2","x":278.42005339425987,"y":312.5398400765414,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    fileID: \"string\",\r\n    fileObj: \"object\",\r\n    query: \"object\",\r\n    transformation: \"string\",\r\n    key: \"string\"\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const fileID = Script.Inputs.fileID ?? null;\r\n    const fileObj = Script.Inputs.fileObj ?? null;\r\n\r\n    const fileName = ( fileObj?.title ? fileObj.title + fileObj.filename_download.split('.').at(-1) : filename_download ) ?? null;\r\n\r\n    const transformation = Script.Inputs.transformation ?? null;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && fileID && fileName && transformation) {\r\n            let result;\r\n\r\n            switch (transformation) {\r\n                case \"none\":\r\n                    result = await sdk_client.request(Directus.readAssetRaw(fileID));\r\n                    break;\r\n                case \"key\":\r\n                    result = await sdk_client.request(Directus.readAssetRaw(fileID, { key }));\r\n                    break;\r\n                case \"custom\":\r\n                    result = await sdk_client.request(Directus.readAssetRaw(fileID, query));\r\n                    break;\r\n            }\r\n\r\n            const file_output = new File([result], fileName, {type: result.type});\r\n\r\n            if (result) {\r\n                Script.Outputs.result = file_output;\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.result = null;\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"fileID","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"fileObj","plug":"input","type":{"name":"object"},"group":"Inputs","index":7},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":8},{"name":"transformation","plug":"input","type":{"name":"string"},"group":"Inputs","index":9},{"name":"key","plug":"input","type":{"name":"string"},"group":"Inputs","index":10},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":14},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":15}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"14941443-f3ad-7086-6eef-01baefb65339","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for File Download)","x":-495.41076241134033,"y":187.0720763094415,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f5523841-f76b-1df9-7f6f-5bc4201b40b1","type":"States","x":-504.6307624113406,"y":546.0120764620294,"parameters":{"useTransitions":false,"states":"None,Preset,Custom"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To None","name":"to-None","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At None","name":"at-None","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached None","name":"reached-None","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Preset","name":"to-Preset","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Preset","name":"at-Preset","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Preset","name":"reached-Preset","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Custom","name":"to-Custom","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Custom","name":"at-Custom","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Custom","name":"reached-Custom","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["None","Preset","Custom"]},"group":"States","displayName":"State","name":"currentState","default":"None","index":15}],"children":[]},{"id":"7162c911-7eac-5f7c-a48d-5e721d077171","type":"JavaScriptFunction","x":-131.03821725905982,"y":472.0281524809103,"parameters":{"functionScript":"const file_id = Inputs.file_id ?? null;\r\n\r\nconst transformation_raw = Inputs.transformation_raw ?? \"none\";\r\nconst key = Inputs.key ?? null;\r\n\r\nlet transformation = null;\r\n\r\nif(!file_id) throw new Error(\"Provide a valid File ID\");\r\n\r\nswitch (transformation_raw){\r\n    case \"None\":\r\n        transformation = \"none\";\r\n        break;\r\n    case \"Preset\":\r\n        if(!key) throw new Error(\"Provide a valid key value\");\r\n        transformation = \"preset\";\r\n        break;\r\n    case \"Custom\":\r\n        transformation = \"custom\";\r\n        break;\r\n}\r\n\r\nOutputs.transformation = transformation;\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"in-file_id","displayName":"file_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-transformation_raw","displayName":"transformation_raw","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-key","displayName":"key","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-transformation","displayName":"transformation","plug":"output","type":"*","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"4b4d1e81-6344-a0f8-3072-ec8feacb37d9","type":"/#Directus/Directus Prefab/Components/Files/Directus - Get Files","label":"Get the File Object","x":-3.058217259059802,"y":14.368152633498084,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"https://docs.directus.io/reference/files.html#requesting-a-thumbnail","width":632,"height":47,"fill":"transparent","x":-710,"y":-196,"id":"6980ad10-4971-eceb-5f9e-1584324c7116","color":"notice","largeFont":true}]}},{"name":"/#Directus/Directus Prefab/Components/Files/Directus - Get Files","id":"e737e892-d338-c24b-bbbf-e6fb3d8ac6f3","graph":{"connections":[{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"SDK Client to use","toId":"3e11db1f-680f-b5ef-86c4-7175343a9a4f","toProperty":"currentState"},{"fromId":"3e11db1f-680f-b5ef-86c4-7175343a9a4f","fromProperty":"currentState","toId":"1ba3223d-1f67-b04e-a92c-509adda594aa","toProperty":"in-SDKClient"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"Do","toId":"97a4c71a-34e6-df8d-5df0-8a59c4d27eb1","toProperty":"start"},{"fromId":"97a4c71a-34e6-df8d-5df0-8a59c4d27eb1","fromProperty":"timerFinished","toId":"1ba3223d-1f67-b04e-a92c-509adda594aa","toProperty":"run"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"Do","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Set"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"aggregate","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"aggregate"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"groupBy","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"groupBy"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"filter","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"filter"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"deep","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"deep"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"alias","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"alias"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"File ID","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Item ID"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"limit","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Limit"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"Get all fields","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Get all fields"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"fields","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Fields"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"sort","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Sort"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"offset","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Offset"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"page","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Page"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"search","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Search"},{"fromId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","fromProperty":"query","toId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","toProperty":"query"},{"fromId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","fromProperty":"operation","toId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","toProperty":"operation"},{"fromId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","fromProperty":"itemID","toId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","toProperty":"itemID"},{"fromId":"32cd5409-f711-bc8a-ba1e-71f241db8a7a","fromProperty":"timerFinished","toId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","toProperty":"GetData"},{"fromId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","fromProperty":"Success","toId":"f19d9729-c26b-2f14-ed43-8a7e2891005a","toProperty":"Success"},{"fromId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","fromProperty":"Failure","toId":"f19d9729-c26b-2f14-ed43-8a7e2891005a","toProperty":"Failure"},{"fromId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","fromProperty":"result","toId":"f19d9729-c26b-2f14-ed43-8a7e2891005a","toProperty":"result"},{"fromId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","fromProperty":"error","toId":"f19d9729-c26b-2f14-ed43-8a7e2891005a","toProperty":"error"},{"fromId":"3e11db1f-680f-b5ef-86c4-7175343a9a4f","fromProperty":"currentState","toId":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","toProperty":"client"},{"fromId":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","fromProperty":"File Get type","toId":"372e5c2c-d3df-70b8-5c68-4d3f0ca3d0cb","toProperty":"currentState"},{"fromId":"372e5c2c-d3df-70b8-5c68-4d3f0ca3d0cb","fromProperty":"currentState","toId":"73ee9d23-a322-3dbf-046c-bf8d27f96429","toProperty":"Get Type"},{"fromId":"1ba3223d-1f67-b04e-a92c-509adda594aa","fromProperty":"out-Done","toId":"32cd5409-f711-bc8a-ba1e-71f241db8a7a","toProperty":"start"}],"roots":[{"id":"92a926fa-b1ec-5ab0-bb89-1a51c85296a2","type":"Component Inputs","x":-1060,"y":320,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":5},{"name":"fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":7},{"name":"Get all fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":6},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":8},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":9},{"name":"page","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":10},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":15},{"name":"groupBy","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":13},{"name":"aggregate","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":12},{"name":"alias","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":16},{"name":"File ID","plug":"output","type":{"name":"*"},"group":"What to Get","index":4},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":14},{"name":"search","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":11},{"name":"File Get type","plug":"output","type":{"name":"*"},"group":"What to Get","index":3}],"dynamicports":[],"children":[]},{"id":"f19d9729-c26b-2f14-ed43-8a7e2891005a","type":"Component Outputs","x":515.0278684333703,"y":281.160111934135,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"3e11db1f-680f-b5ef-86c4-7175343a9a4f","type":"States","label":"Client type","x":-718.8506931928334,"y":37.23896749460039,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"1ba3223d-1f67-b04e-a92c-509adda594aa","type":"JavaScriptFunction","x":-480.61664838642173,"y":-21.01383290325157,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"32cd5409-f711-bc8a-ba1e-71f241db8a7a","type":"Timer","x":-243.4830107572318,"y":-22.355880778213702,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"97a4c71a-34e6-df8d-5df0-8a59c4d27eb1","type":"Timer","x":-718,"y":-48,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"73ee9d23-a322-3dbf-046c-bf8d27f96429","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","x":-421.86744630779845,"y":330.1155290943941,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"a0af5780-00a1-c6e8-7139-0a5e76ff1461","type":"Javascript2","x":281.42005339425987,"y":280.5398400765414,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    operation: \"string\",\r\n    itemID: \"string\",\r\n    query: \"object\"\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const operation = Script.Inputs.operation;\r\n    const itemID = Script.Inputs.itemID;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if(!itemID) throw new Error(\"Provide valid ID!\");\r\n                    result = await sdk_client.request(Directus.readFile(itemID, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.readFiles(query));\r\n                    break;\r\n                case \"all\":\r\n                    query.limit = -1;\r\n                    result = await sdk_client.request(Directus.readFiles(query));\r\n                    break;\r\n            }\r\n            \r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"itemID","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":8},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":12},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"372e5c2c-d3df-70b8-5c68-4d3f0ca3d0cb","type":"States","label":"Get Type","x":-719.5269848854084,"y":259.36393813385837,"parameters":{"states":"Get Single by ID,Get Multiple by Filter,Get All"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Single by ID","name":"to-Get Single by ID","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Get Single by ID","name":"at-Get Single by ID","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Get Single by ID","name":"reached-Get Single by ID","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Multiple by Filter","name":"to-Get Multiple by Filter","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Get Multiple by Filter","name":"at-Get Multiple by Filter","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Get Multiple by Filter","name":"reached-Get Multiple by Filter","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get All","name":"to-Get All","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Get All","name":"at-Get All","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Get All","name":"reached-Get All","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["Get Single by ID","Get Multiple by Filter","Get All"]},"group":"States","displayName":"State","name":"currentState","default":"Get Single by ID","index":15}],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Files/Directus - Get Folders","id":"e937e525-53c5-0858-eae6-a9d9b336c2a2","graph":{"connections":[{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"SDK Client to use","toId":"ce1c26ad-309e-fc79-c078-b3aaf8740e2f","toProperty":"currentState"},{"fromId":"ce1c26ad-309e-fc79-c078-b3aaf8740e2f","fromProperty":"currentState","toId":"f4ea058a-7648-1bc6-7eba-0faab13411f9","toProperty":"in-SDKClient"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"Do","toId":"69dd2883-ba0e-c367-f4d9-868e4abe7b70","toProperty":"start"},{"fromId":"69dd2883-ba0e-c367-f4d9-868e4abe7b70","fromProperty":"timerFinished","toId":"f4ea058a-7648-1bc6-7eba-0faab13411f9","toProperty":"run"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"Do","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Set"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"aggregate","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"aggregate"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"groupBy","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"groupBy"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"filter","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"filter"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"deep","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"deep"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"alias","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"alias"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"Folder ID","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Item ID"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"limit","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Limit"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"Get all fields","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Get all fields"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"fields","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Fields"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"sort","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Sort"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"offset","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Offset"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"page","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Page"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"search","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Search"},{"fromId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","fromProperty":"query","toId":"56894595-1e43-26ce-ae6b-632a50d533b6","toProperty":"query"},{"fromId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","fromProperty":"operation","toId":"56894595-1e43-26ce-ae6b-632a50d533b6","toProperty":"operation"},{"fromId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","fromProperty":"itemID","toId":"56894595-1e43-26ce-ae6b-632a50d533b6","toProperty":"itemID"},{"fromId":"6b8a5083-c2d3-e0c7-d8d1-cbac3c3905ab","fromProperty":"timerFinished","toId":"56894595-1e43-26ce-ae6b-632a50d533b6","toProperty":"GetData"},{"fromId":"56894595-1e43-26ce-ae6b-632a50d533b6","fromProperty":"Success","toId":"b77cee2b-3988-65d1-284c-6a3bf377be8c","toProperty":"Success"},{"fromId":"56894595-1e43-26ce-ae6b-632a50d533b6","fromProperty":"Failure","toId":"b77cee2b-3988-65d1-284c-6a3bf377be8c","toProperty":"Failure"},{"fromId":"56894595-1e43-26ce-ae6b-632a50d533b6","fromProperty":"result","toId":"b77cee2b-3988-65d1-284c-6a3bf377be8c","toProperty":"result"},{"fromId":"56894595-1e43-26ce-ae6b-632a50d533b6","fromProperty":"error","toId":"b77cee2b-3988-65d1-284c-6a3bf377be8c","toProperty":"error"},{"fromId":"ce1c26ad-309e-fc79-c078-b3aaf8740e2f","fromProperty":"currentState","toId":"56894595-1e43-26ce-ae6b-632a50d533b6","toProperty":"client"},{"fromId":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","fromProperty":"Folder Get type","toId":"64e4f9e4-efbe-00bf-cb8a-b4f6c2464fc4","toProperty":"currentState"},{"fromId":"64e4f9e4-efbe-00bf-cb8a-b4f6c2464fc4","fromProperty":"currentState","toId":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","toProperty":"Get Type"},{"fromId":"f4ea058a-7648-1bc6-7eba-0faab13411f9","fromProperty":"out-Done","toId":"6b8a5083-c2d3-e0c7-d8d1-cbac3c3905ab","toProperty":"start"}],"roots":[{"id":"a4f039c3-84a8-0e66-7355-7b0e2995d3ff","type":"Component Inputs","x":-1060,"y":320,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":5},{"name":"fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":7},{"name":"Get all fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":6},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":8},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":9},{"name":"page","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":10},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":15},{"name":"groupBy","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":13},{"name":"aggregate","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":12},{"name":"alias","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":16},{"name":"Folder ID","plug":"output","type":{"name":"*"},"group":"What to Get","index":4},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":14},{"name":"search","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":11},{"name":"Folder Get type","plug":"output","type":{"name":"*"},"group":"What to Get","index":3}],"dynamicports":[],"children":[]},{"id":"b77cee2b-3988-65d1-284c-6a3bf377be8c","type":"Component Outputs","x":515.0278684333703,"y":281.160111934135,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"ce1c26ad-309e-fc79-c078-b3aaf8740e2f","type":"States","label":"Client type","x":-718.8506931928334,"y":37.23896749460039,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"f4ea058a-7648-1bc6-7eba-0faab13411f9","type":"JavaScriptFunction","x":-480.61664838642173,"y":-21.01383290325157,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"6b8a5083-c2d3-e0c7-d8d1-cbac3c3905ab","type":"Timer","x":-243.4830107572318,"y":-22.355880778213702,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"69dd2883-ba0e-c367-f4d9-868e4abe7b70","type":"Timer","x":-718,"y":-48,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"9dac0200-1ec7-a72a-3f4a-3f9656c4ac11","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","x":-421.86744630779845,"y":330.1155290943941,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"56894595-1e43-26ce-ae6b-632a50d533b6","type":"Javascript2","x":281.42005339425987,"y":280.5398400765414,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    operation: \"string\",\r\n    itemID: \"string\",\r\n    query: \"object\"\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const operation = Script.Inputs.operation;\r\n    const itemID = Script.Inputs.itemID;\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    if(!itemID) throw new Error(\"Provide valid ID!\");\r\n                    result = await sdk_client.request(Directus.readFolder(itemID, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.readFolders(query));\r\n                    break;\r\n                case \"all\":\r\n                    query.limit = -1;\r\n                    result = await sdk_client.request(Directus.readFolders(query));\r\n                    break;\r\n            }\r\n            \r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"itemID","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":8},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":9},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":12},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"64e4f9e4-efbe-00bf-cb8a-b4f6c2464fc4","type":"States","label":"Get Type","x":-719.5269848854084,"y":259.36393813385837,"parameters":{"states":"Get Single by ID,Get Multiple by Filter,Get All"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Single by ID","name":"to-Get Single by ID","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Get Single by ID","name":"at-Get Single by ID","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Get Single by ID","name":"reached-Get Single by ID","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Multiple by Filter","name":"to-Get Multiple by Filter","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Get Multiple by Filter","name":"at-Get Multiple by Filter","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Get Multiple by Filter","name":"reached-Get Multiple by Filter","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get All","name":"to-Get All","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Get All","name":"at-Get All","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Get All","name":"reached-Get All","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["Get Single by ID","Get Multiple by Filter","Get All"]},"group":"States","displayName":"State","name":"currentState","default":"Get Single by ID","index":15}],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Files/Directus - Import File","id":"a5d86ee4-856f-63e6-e7c5-69bc5f5a8c73","graph":{"connections":[{"fromId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","fromProperty":"out-Failure","toId":"4ed6d9dd-23ec-2c9e-3db3-9bb132fb2bfd","toProperty":"Failure"},{"fromId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","fromProperty":"out-error","toId":"4ed6d9dd-23ec-2c9e-3db3-9bb132fb2bfd","toProperty":"error"},{"fromId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","fromProperty":"out-Success","toId":"4ed6d9dd-23ec-2c9e-3db3-9bb132fb2bfd","toProperty":"Success"},{"fromId":"df36ec1f-7f42-5990-6c03-dc87fda679b4","fromProperty":"file object","toId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","toProperty":"in-file_object"},{"fromId":"d42102e7-605a-1e93-bb2d-dc355aed7db9","fromProperty":"currentState","toId":"bbcd7bb7-b8b5-a476-2fc7-f778fd8187d6","toProperty":"in-SDKClient"},{"fromId":"c5299a8e-1999-b996-597a-4c891ef332cf","fromProperty":"timerFinished","toId":"bbcd7bb7-b8b5-a476-2fc7-f778fd8187d6","toProperty":"run"},{"fromId":"bbcd7bb7-b8b5-a476-2fc7-f778fd8187d6","fromProperty":"out-Done","toId":"cf28c92b-07c9-15cd-904c-5988a23a84b4","toProperty":"start"},{"fromId":"df36ec1f-7f42-5990-6c03-dc87fda679b4","fromProperty":"Do","toId":"c5299a8e-1999-b996-597a-4c891ef332cf","toProperty":"start"},{"fromId":"df36ec1f-7f42-5990-6c03-dc87fda679b4","fromProperty":"SDK Client to use","toId":"d42102e7-605a-1e93-bb2d-dc355aed7db9","toProperty":"currentState"},{"fromId":"cf28c92b-07c9-15cd-904c-5988a23a84b4","fromProperty":"timerFinished","toId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","toProperty":"run"},{"fromId":"d42102e7-605a-1e93-bb2d-dc355aed7db9","fromProperty":"currentState","toId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","toProperty":"in-client"},{"fromId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","fromProperty":"out-result","toId":"4ed6d9dd-23ec-2c9e-3db3-9bb132fb2bfd","toProperty":"result"},{"fromId":"df36ec1f-7f42-5990-6c03-dc87fda679b4","fromProperty":"file url","toId":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","toProperty":"in-file_url"}],"roots":[{"id":"df36ec1f-7f42-5990-6c03-dc87fda679b4","type":"Component Inputs","x":222,"y":506,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"file url","plug":"output","type":{"name":"*"},"group":"Data","index":2},{"name":"file object","plug":"output","type":{"name":"*"},"group":"Data","index":3},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"4ed6d9dd-23ec-2c9e-3db3-9bb132fb2bfd","type":"Component Outputs","x":1634,"y":587,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2},{"name":"result","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"cdb92a21-f194-2ef8-a385-bfd3e906cfe4","type":"JavaScriptFunction","x":1364,"y":525,"parameters":{"functionScript":"const file_url = Inputs.file_url;\r\nconst file_object = Inputs.file_object || {};\r\n\r\nif (!file_url) return;\r\n\r\nconst client_selection = Inputs.client || null;\r\nconst sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await sdk_client.request(Directus.importFile(file_url, file_object));\r\n\r\n        Outputs.result = result;\r\n        Outputs.Success();\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"in-file_url","displayName":"file_url","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-file_object","displayName":"file_object","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-client","displayName":"client","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d42102e7-605a-1e93-bb2d-dc355aed7db9","type":"States","label":"Client type","x":553,"y":308,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"bbcd7bb7-b8b5-a476-2fc7-f778fd8187d6","type":"JavaScriptFunction","x":792,"y":249,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"cf28c92b-07c9-15cd-904c-5988a23a84b4","type":"Timer","x":1029,"y":248,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"c5299a8e-1999-b996-597a-4c891ef332cf","type":"Timer","x":554,"y":222,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Files/Directus - Upload File","id":"e399804a-fea3-e319-3448-80ae29c9b7c1","graph":{"connections":[{"fromId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","fromProperty":"out-Failure","toId":"2b42046b-dc6b-322c-395d-c169feff80da","toProperty":"Failure"},{"fromId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","fromProperty":"out-error","toId":"2b42046b-dc6b-322c-395d-c169feff80da","toProperty":"error"},{"fromId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","fromProperty":"out-Success","toId":"2b42046b-dc6b-322c-395d-c169feff80da","toProperty":"Success"},{"fromId":"d20b91a0-4ce7-811f-0c94-dc567459bbea","fromProperty":"file","toId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","toProperty":"in-raw_file"},{"fromId":"d20b91a0-4ce7-811f-0c94-dc567459bbea","fromProperty":"file object","toId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","toProperty":"in-file_object"},{"fromId":"bbd8cc04-b3ac-4f33-81d0-854ebb730efb","fromProperty":"currentState","toId":"0d9ff8dd-b7ed-14c6-a36d-5b2f8e36a49c","toProperty":"in-SDKClient"},{"fromId":"e9cc1e66-5bf3-6801-d32b-9e93759b87f8","fromProperty":"timerFinished","toId":"0d9ff8dd-b7ed-14c6-a36d-5b2f8e36a49c","toProperty":"run"},{"fromId":"0d9ff8dd-b7ed-14c6-a36d-5b2f8e36a49c","fromProperty":"out-Done","toId":"10801ee3-84d9-ece7-a3d1-dbff2a25872f","toProperty":"start"},{"fromId":"d20b91a0-4ce7-811f-0c94-dc567459bbea","fromProperty":"Do","toId":"e9cc1e66-5bf3-6801-d32b-9e93759b87f8","toProperty":"start"},{"fromId":"d20b91a0-4ce7-811f-0c94-dc567459bbea","fromProperty":"SDK Client to use","toId":"bbd8cc04-b3ac-4f33-81d0-854ebb730efb","toProperty":"currentState"},{"fromId":"10801ee3-84d9-ece7-a3d1-dbff2a25872f","fromProperty":"timerFinished","toId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","toProperty":"run"},{"fromId":"bbd8cc04-b3ac-4f33-81d0-854ebb730efb","fromProperty":"currentState","toId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","toProperty":"in-client"},{"fromId":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","fromProperty":"out-result","toId":"2b42046b-dc6b-322c-395d-c169feff80da","toProperty":"result"}],"roots":[{"id":"d20b91a0-4ce7-811f-0c94-dc567459bbea","type":"Component Inputs","x":222,"y":506,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"file","plug":"output","type":{"name":"*"},"group":"Data","index":2},{"name":"file object","plug":"output","type":{"name":"*"},"group":"Data","index":3},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"2b42046b-dc6b-322c-395d-c169feff80da","type":"Component Outputs","x":1634,"y":587,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2},{"name":"result","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"182ff671-5078-0edb-a9ab-a2bdd0f37b6b","type":"JavaScriptFunction","x":1364,"y":525,"parameters":{"functionScript":"const raw_file = Inputs.raw_file;\r\nconst file_object = Inputs.file_object || {};\r\n\r\nif (!raw_file) return;\r\n\r\nconst client_selection = Inputs.client || null;\r\nconst sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const formData = new FormData();\r\n\r\n        if (Object.keys(file_object).length > 0) {\r\n            for (const key in file_object) {\r\n                formData.append(key, file_object[key]);\r\n            }\r\n        }\r\n        formData.append('file', raw_file);\r\n\r\n        const result = await sdk_client.request(Directus.uploadFiles(formData));\r\n\r\n        Outputs.result = result;\r\n        Outputs.Success();\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"in-raw_file","displayName":"raw_file","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-file_object","displayName":"file_object","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-client","displayName":"client","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"bbd8cc04-b3ac-4f33-81d0-854ebb730efb","type":"States","label":"Client type","x":553,"y":308,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"0d9ff8dd-b7ed-14c6-a36d-5b2f8e36a49c","type":"JavaScriptFunction","x":792,"y":249,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"10801ee3-84d9-ece7-a3d1-dbff2a25872f","type":"Timer","x":1029,"y":248,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"e9cc1e66-5bf3-6801-d32b-9e93759b87f8","type":"Timer","x":554,"y":222,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Flows/Directus - List Flows","id":"813fb965-96d0-179a-c4c1-8a9003089e64","graph":{"connections":[{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"SDK Client to use","toId":"39e827e7-95b8-34cd-aeaf-66442ac68349","toProperty":"currentState"},{"fromId":"39e827e7-95b8-34cd-aeaf-66442ac68349","fromProperty":"currentState","toId":"c2cb8383-f148-4f74-55a9-9c6049a6e945","toProperty":"in-SDKClient"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"Do","toId":"7954fdc6-9ed9-daff-fe3e-df22dafc9990","toProperty":"start"},{"fromId":"7954fdc6-9ed9-daff-fe3e-df22dafc9990","fromProperty":"timerFinished","toId":"c2cb8383-f148-4f74-55a9-9c6049a6e945","toProperty":"run"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"search","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Search"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"filter","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"filter"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"aggregate","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"aggregate"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"alias","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"alias"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"deep","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"deep"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"groupBy","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"groupBy"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"page","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Page"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"offset","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Offset"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"sort","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Sort"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"fields","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Fields"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"Get all fields","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Get all fields"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"limit","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Limit"},{"fromId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","fromProperty":"query","toId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","toProperty":"query"},{"fromId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","fromProperty":"operation","toId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","toProperty":"operation"},{"fromId":"39e827e7-95b8-34cd-aeaf-66442ac68349","fromProperty":"currentState","toId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","toProperty":"client"},{"fromId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","fromProperty":"result","toId":"ce5a0bfe-1dd1-fd4c-9c3d-5ab371c1f010","toProperty":"result"},{"fromId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","fromProperty":"error","toId":"ce5a0bfe-1dd1-fd4c-9c3d-5ab371c1f010","toProperty":"error"},{"fromId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","fromProperty":"Success","toId":"ce5a0bfe-1dd1-fd4c-9c3d-5ab371c1f010","toProperty":"Success"},{"fromId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","fromProperty":"Failure","toId":"ce5a0bfe-1dd1-fd4c-9c3d-5ab371c1f010","toProperty":"Failure"},{"fromId":"769efe84-75c8-0fd5-e773-109df2103359","fromProperty":"timerFinished","toId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","toProperty":"GetData"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"Do","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Set"},{"fromId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","fromProperty":"itemID","toId":"c76977ac-09a6-a518-4d1c-189197c4a5fc","toProperty":"flowID"},{"fromId":"c2cb8383-f148-4f74-55a9-9c6049a6e945","fromProperty":"out-Done","toId":"769efe84-75c8-0fd5-e773-109df2103359","toProperty":"start"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"Flow Get Type","toId":"b318278a-3f03-63e8-08dc-5fe90782fb65","toProperty":"currentState"},{"fromId":"b318278a-3f03-63e8-08dc-5fe90782fb65","fromProperty":"currentState","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Get Type"},{"fromId":"280d4163-fae4-9576-cec9-ab6abc28e7fd","fromProperty":"flow ID","toId":"32af85ba-d2e6-e826-d080-08461dc54ee2","toProperty":"value"},{"fromId":"32af85ba-d2e6-e826-d080-08461dc54ee2","fromProperty":"savedValue","toId":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","toProperty":"Item ID"}],"roots":[{"id":"280d4163-fae4-9576-cec9-ab6abc28e7fd","type":"Component Inputs","x":-1129,"y":360,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"limit","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":4},{"name":"fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":6},{"name":"Get all fields","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":5},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"sort","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":7},{"name":"offset","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":8},{"name":"page","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":9},{"name":"deep","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":14},{"name":"groupBy","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":12},{"name":"aggregate","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":11},{"name":"alias","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":15},{"name":"flow ID","plug":"output","type":{"name":"*"},"group":"What to Get","index":3},{"name":"filter","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":13},{"name":"search","plug":"output","type":{"name":"*"},"group":"Query Parameters","index":10},{"name":"Flow Get Type","plug":"output","type":{"name":"*"},"group":"What to Get","index":2}],"dynamicports":[],"children":[]},{"id":"ce5a0bfe-1dd1-fd4c-9c3d-5ab371c1f010","type":"Component Outputs","x":444.39524712057164,"y":227.19478058025948,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"39e827e7-95b8-34cd-aeaf-66442ac68349","type":"States","label":"Client type","x":-820.4779330568291,"y":145.72752752390454,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"c2cb8383-f148-4f74-55a9-9c6049a6e945","type":"JavaScriptFunction","x":-553.366821945718,"y":9.30530538645337,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7954fdc6-9ed9-daff-fe3e-df22dafc9990","type":"Timer","x":-819.1417116197696,"y":39.644554599795924,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"1ea21733-35e6-04a4-cb55-8384e82b9dfb","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","x":-491.6710890800407,"y":353.62181075958597,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c76977ac-09a6-a518-4d1c-189197c4a5fc","type":"Javascript2","x":167,"y":226,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    operation: \"string\",\r\n    flowID: \"string\",\r\n}\r\n\r\n\r\nScript.Signals.GetData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const operation = Script.Inputs.operation;\r\n    const flowID = Script.Inputs.flowID;\r\n    \r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    result = await sdk_client.request(Directus.readFlow( flowID, query));\r\n                    break;\r\n                case \"multiple\":\r\n                    result = await sdk_client.request(Directus.readFlows( query));\r\n                    break;\r\n                case \"all\":\r\n                    query.limit = -1;\r\n                    result = await sdk_client.request(Directus.readFlows( query));\r\n                    break;\r\n            }\r\n            \r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"flowID","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"GetData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":8},{"name":"query","displayName":"query","plug":"input","type":"*","group":"Inputs","index":9},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":12},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"769efe84-75c8-0fd5-e773-109df2103359","type":"Timer","x":-309.2644678530828,"y":31.630738656299854,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"b318278a-3f03-63e8-08dc-5fe90782fb65","type":"States","label":"Get Type","x":-823,"y":279,"parameters":{"states":"Get Single by ID,Get Multiple by Filter,Get All","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Single by ID","name":"to-Get Single by ID","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Get Single by ID","name":"at-Get Single by ID","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Get Single by ID","name":"reached-Get Single by ID","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get Multiple by Filter","name":"to-Get Multiple by Filter","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Get Multiple by Filter","name":"at-Get Multiple by Filter","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Get Multiple by Filter","name":"reached-Get Multiple by Filter","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Get All","name":"to-Get All","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Get All","name":"at-Get All","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Get All","name":"reached-Get All","group":"Current state","index":14},{"plug":"input","type":{"name":"enum","enums":["Get Single by ID","Get Multiple by Filter","Get All"]},"group":"States","displayName":"State","name":"currentState","default":"Get Single by ID","index":15}],"children":[]},{"id":"32af85ba-d2e6-e826-d080-08461dc54ee2","type":"String","label":"flow ID","x":-830.0807529372075,"y":389.8583034710232,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Flows/Directus - Run Flow","id":"f373d66e-60cc-eefe-9ac3-0ec00859963d","graph":{"connections":[{"fromId":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","fromProperty":"SDK Client to use","toId":"62bb914a-2d54-653d-55ae-3a47aa00415b","toProperty":"currentState"},{"fromId":"62bb914a-2d54-653d-55ae-3a47aa00415b","fromProperty":"currentState","toId":"c18eac87-1dae-11c5-a9af-127b3ce4b235","toProperty":"in-SDKClient"},{"fromId":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","fromProperty":"Do","toId":"acea9b77-7b40-dc56-ac06-2c459639ee48","toProperty":"start"},{"fromId":"acea9b77-7b40-dc56-ac06-2c459639ee48","fromProperty":"timerFinished","toId":"c18eac87-1dae-11c5-a9af-127b3ce4b235","toProperty":"run"},{"fromId":"62bb914a-2d54-653d-55ae-3a47aa00415b","fromProperty":"currentState","toId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","toProperty":"client"},{"fromId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","fromProperty":"result","toId":"c4cd24f6-39e0-0246-dec0-fb7a8ce5d45d","toProperty":"result"},{"fromId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","fromProperty":"error","toId":"c4cd24f6-39e0-0246-dec0-fb7a8ce5d45d","toProperty":"error"},{"fromId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","fromProperty":"Success","toId":"c4cd24f6-39e0-0246-dec0-fb7a8ce5d45d","toProperty":"Success"},{"fromId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","fromProperty":"Failure","toId":"c4cd24f6-39e0-0246-dec0-fb7a8ce5d45d","toProperty":"Failure"},{"fromId":"c18eac87-1dae-11c5-a9af-127b3ce4b235","fromProperty":"out-Done","toId":"30aca2d0-0a15-3139-d9e3-9574424b937d","toProperty":"start"},{"fromId":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","fromProperty":"Trigger type","toId":"8553e4af-7388-c2b6-e6ef-8751be6ae312","toProperty":"currentState"},{"fromId":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","fromProperty":"flow ID","toId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","toProperty":"flowID"},{"fromId":"30aca2d0-0a15-3139-d9e3-9574424b937d","fromProperty":"timerFinished","toId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","toProperty":"RunFlow"},{"fromId":"8553e4af-7388-c2b6-e6ef-8751be6ae312","fromProperty":"currentState","toId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","toProperty":"trigger_type"},{"fromId":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","fromProperty":"payload_data","toId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","toProperty":"payload_data"},{"fromId":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","fromProperty":"query_params","toId":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","toProperty":"query_params"}],"roots":[{"id":"8dc6ebfc-b162-d8d3-f69a-97c38654ad33","type":"Component Inputs","x":487,"y":943,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"SDK Client to use","plug":"output","type":{"name":"*"},"group":"Config","index":1},{"name":"flow ID","plug":"output","type":{"name":"*"},"group":"Config","index":3},{"name":"Trigger type","plug":"output","type":{"name":"*"},"group":"Config","index":2},{"name":"payload_data","plug":"output","type":{"name":"*"},"group":"POST trigger","index":4},{"name":"query_params","plug":"output","type":{"name":"*"},"group":"GET trigger","index":6}],"dynamicports":[],"children":[]},{"id":"c4cd24f6-39e0-0246-dec0-fb7a8ce5d45d","type":"Component Outputs","x":1893.9499783441859,"y":961.9948695737628,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":3},{"name":"result","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"62bb914a-2d54-653d-55ae-3a47aa00415b","type":"States","label":"Client type","x":772,"y":773,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"c18eac87-1dae-11c5-a9af-127b3ce4b235","type":"JavaScriptFunction","x":1033,"y":724,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        throw new Error(\"Directus Site Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        throw new Error(\"Directus User Client has not yet been set up!\");\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"acea9b77-7b40-dc56-ac06-2c459639ee48","type":"Timer","x":773,"y":667,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"65bb922f-04d8-68a3-fbe8-b021d81b13a1","type":"Javascript2","x":1641.9499783441859,"y":840.9948695737628,"parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    flowID: \"string\",\r\n    trigger_type: \"string\"\r\n}\r\n\r\n\r\nScript.Signals.RunFlow = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const trigger_type = Script.Inputs.trigger_type ?? null;\r\n    const flowID = Script.Inputs.flowID ?? null;\r\n\r\n    const query_params = Script.Inputs.query_params ?? {};\r\n    const payload_data = Script.Inputs.payload_data ?? {};\r\n\r\n    try {\r\n        if (sdk_client && trigger_type && flowID) {\r\n            let result;\r\n\r\n            if (trigger_type == \"GET\") {\r\n                result = await sdk_client.request(Directus.triggerFlow('GET', flowID, query_params ));\r\n            }\r\n            \r\n            if (trigger_type == \"POST\") {\r\n                result = await sdk_client.request(Directus.triggerFlow('POST', flowID, payload_data));\r\n            }\r\n\r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            console.error(err);\r\n\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"flowID","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"trigger_type","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"RunFlow","plug":"input","type":{"name":"signal"},"group":"Inputs","index":8},{"name":"query_params","displayName":"query_params","plug":"input","type":"*","group":"Inputs","index":9},{"name":"payload_data","displayName":"payload_data","plug":"input","type":"*","group":"Inputs","index":10},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":13},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":14}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"30aca2d0-0a15-3139-d9e3-9574424b937d","type":"Timer","x":1261,"y":726,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"8553e4af-7388-c2b6-e6ef-8751be6ae312","type":"States","x":775.2667031543157,"y":905.8165685219599,"parameters":{"states":"GET,POST","useTransitions":false,"currentState":"POST"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To GET","name":"to-GET","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At GET","name":"at-GET","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached GET","name":"reached-GET","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To POST","name":"to-POST","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At POST","name":"at-POST","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached POST","name":"reached-POST","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["GET","POST"]},"group":"States","displayName":"State","name":"currentState","default":"GET","index":12}],"children":[]}],"visualRoots":[],"comments":[{"text":"                                     Warning  \n\nThe usage of Flows, especially as Cloud Functions, has to be properly secured.\n\nDo check out the Docs to ensure that the Security of your Directus backend has been ensured before you execute Flows using this component!","width":544,"height":241,"fill":"transparent","x":823,"y":329,"id":"04ae28b4-849b-c1b7-c8f0-170970f97d8f","color":"danger","largeFont":true},{"text":"1. It is recommended to use POST based Flows, whenever possible\n2. In the case of GET based Flows, make sure to provide valid 'query parameters' only","width":792,"height":80,"fill":"transparent","x":810,"y":1257,"id":"2ba8203c-fb4a-eecc-127d-b3cd638bd2f5","color":"notice","largeFont":true}]}},{"name":"/#Directus/Directus Prefab/Components/Other/Directus - Ping Server","id":"cbef7bcf-2c31-9700-3c91-2c57e04c57b4","graph":{"connections":[{"fromId":"1f57b6bf-42c3-40ad-437c-24393e6aa786","fromProperty":"Do","toId":"492d373f-33d2-badd-1444-8dadd884bae4","toProperty":"run"},{"fromId":"492d373f-33d2-badd-1444-8dadd884bae4","fromProperty":"out-Success","toId":"a8899498-bd93-660b-ad1b-85b2a4d9f690","toProperty":"Success"},{"fromId":"492d373f-33d2-badd-1444-8dadd884bae4","fromProperty":"out-Failure","toId":"a8899498-bd93-660b-ad1b-85b2a4d9f690","toProperty":"Failure"},{"fromId":"492d373f-33d2-badd-1444-8dadd884bae4","fromProperty":"out-error","toId":"a8899498-bd93-660b-ad1b-85b2a4d9f690","toProperty":"error"}],"roots":[{"id":"1f57b6bf-42c3-40ad-437c-24393e6aa786","type":"Component Inputs","x":-224,"y":-12,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"a8899498-bd93-660b-ad1b-85b2a4d9f690","type":"Component Outputs","x":278,"y":-11,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"492d373f-33d2-badd-1444-8dadd884bae4","type":"JavaScriptFunction","x":23.200000000000045,"y":-12.099998474121094,"parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK.Client ?? Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\nconst main = async function () {\r\n    try {\r\n        if (client) {\r\n            const result = await client.request(Directus.serverPing());\r\n\r\n            if (result == \"pong\") {\r\n                Outputs.Success();\r\n            } else {\r\n                Outputs.error = \"Unable to reach server!\"\r\n                Outputs.Failure();\r\n            }\r\n        } else {\r\n            throw new Error(\"Invalid Intitialization!\");\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Other/Directus - Server info","id":"002e9bb7-7302-6c52-f365-be01f2df3629","graph":{"connections":[{"fromId":"036ea9f4-3bdf-3042-d9af-2fd45ce7c4e7","fromProperty":"out-Success","toId":"61defd62-f7b4-083e-22ed-23974c7a1f69","toProperty":"Success"},{"fromId":"036ea9f4-3bdf-3042-d9af-2fd45ce7c4e7","fromProperty":"out-Failure","toId":"61defd62-f7b4-083e-22ed-23974c7a1f69","toProperty":"Failure"},{"fromId":"036ea9f4-3bdf-3042-d9af-2fd45ce7c4e7","fromProperty":"out-error","toId":"61defd62-f7b4-083e-22ed-23974c7a1f69","toProperty":"error"},{"fromId":"47b570c9-0086-d734-fe3f-67242a1c3795","fromProperty":"Do","toId":"6ee4de60-197e-6c63-3f5f-3074392cab8f","toProperty":"Do"},{"fromId":"6ee4de60-197e-6c63-3f5f-3074392cab8f","fromProperty":"Done","toId":"036ea9f4-3bdf-3042-d9af-2fd45ce7c4e7","toProperty":"run"},{"fromId":"6ee4de60-197e-6c63-3f5f-3074392cab8f","fromProperty":"client","toId":"036ea9f4-3bdf-3042-d9af-2fd45ce7c4e7","toProperty":"in-client"}],"roots":[{"id":"47b570c9-0086-d734-fe3f-67242a1c3795","type":"Component Inputs","x":-499,"y":-8,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"61defd62-f7b4-083e-22ed-23974c7a1f69","type":"Component Outputs","x":278,"y":-11,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"036ea9f4-3bdf-3042-d9af-2fd45ce7c4e7","type":"JavaScriptFunction","x":23.200000000000045,"y":-12.099998474121094,"parameters":{"functionScript":"const client = Inputs.client || null;\r\n\r\nconst main = async function () {\r\n    try {\r\n        if (client) {\r\n            const result = await client.request(Directus.serverInfo());\r\n\r\n            if (result) {\r\n                Outputs.Success();\r\n            } else {\r\n                Outputs.error = \"Unable to reach server!\"\r\n                Outputs.Failure();\r\n            }\r\n        } else {\r\n            throw new Error(\"Invalid Intitialization!\");\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Outputs.error = err?.errors.map(i => i.message).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"in-client","displayName":"client","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"6ee4de60-197e-6c63-3f5f-3074392cab8f","type":"/#Directus/Directus Prefab/Components/Utils/Get a SDK client","x":-247.0666666666666,"y":-8.966664632161496,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","id":"a50b65c5-a03a-13ce-1887-2cb203973c4d","graph":{"connections":[{"fromId":"217429e0-1ea3-acc2-ffff-efe33a910ac0","fromProperty":"Do","toId":"f4359637-583f-e9b4-7389-c492d84ae0b8","toProperty":"run"},{"fromId":"f4359637-583f-e9b4-7389-c492d84ae0b8","fromProperty":"out-Success","toId":"5d9896d5-0cd3-c6c4-0f58-eb7586901fa5","toProperty":"Success"},{"fromId":"f4359637-583f-e9b4-7389-c492d84ae0b8","fromProperty":"out-Failure","toId":"5d9896d5-0cd3-c6c4-0f58-eb7586901fa5","toProperty":"Failure"},{"fromId":"f4359637-583f-e9b4-7389-c492d84ae0b8","fromProperty":"out-error","toId":"5d9896d5-0cd3-c6c4-0f58-eb7586901fa5","toProperty":"error"},{"fromId":"f4359637-583f-e9b4-7389-c492d84ae0b8","fromProperty":"out-Failure","toId":"5591c9c0-a312-fddd-7fac-2421b5c14764","toProperty":"sendEvent"}],"roots":[{"id":"217429e0-1ea3-acc2-ffff-efe33a910ac0","type":"Component Inputs","x":-258,"y":-12,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"5d9896d5-0cd3-c6c4-0f58-eb7586901fa5","type":"Component Outputs","x":331,"y":-14,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"f4359637-583f-e9b4-7389-c492d84ae0b8","type":"JavaScriptFunction","x":23.200000000000045,"y":-12.099998474121094,"parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK.Client ?? null;\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.request(Directus.readMe());\r\n\r\n        Noodl.Objects[\"Current User\"] = result;\r\n        Noodl.Objects[\"Current User\"].authenticated = true;\r\n\r\n        if(result?.avatar){\r\n            const token = await client.getToken();\r\n            Noodl.Objects[\"Current User\"].avatar = Noodl.Objects.DirectusSDK.Client.url.origin + \"/assets/\" + result.avatar + \"?access_token=\" + token ?? null;\r\n        }\r\n\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        \r\n        Noodl.Objects[\"Current User\"].authenticated = false;\r\n\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5591c9c0-a312-fddd-7fac-2421b5c14764","type":"Event Sender","x":328,"y":149,"parameters":{"channelName":"User-Logged-Out"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/User/Directus - Update Current User","id":"1420c141-cc1d-ce6e-1a71-aaa477d30ee5","graph":{"connections":[{"fromId":"15d8a8df-8e32-472f-d0e3-6b958e86de57","fromProperty":"Do","toId":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","toProperty":"run"},{"fromId":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","fromProperty":"out-Success","toId":"b92bef76-6752-2998-34b0-10adfcebc984","toProperty":"Success"},{"fromId":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","fromProperty":"out-error","toId":"b92bef76-6752-2998-34b0-10adfcebc984","toProperty":"error"},{"fromId":"15d8a8df-8e32-472f-d0e3-6b958e86de57","fromProperty":"data","toId":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","toProperty":"in-data"},{"fromId":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","fromProperty":"out-Success","toId":"a1a36905-960a-78ac-9795-ac8269019b25","toProperty":"sendEvent"},{"fromId":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","fromProperty":"out-Failure","toId":"e5e549a5-cea9-5dc3-c7a5-a7d230605bcc","toProperty":"Do"},{"fromId":"e5e549a5-cea9-5dc3-c7a5-a7d230605bcc","fromProperty":"Success","toId":"b92bef76-6752-2998-34b0-10adfcebc984","toProperty":"Failure"},{"fromId":"e5e549a5-cea9-5dc3-c7a5-a7d230605bcc","fromProperty":"Failure","toId":"b92bef76-6752-2998-34b0-10adfcebc984","toProperty":"Failure"}],"roots":[{"id":"15d8a8df-8e32-472f-d0e3-6b958e86de57","type":"Component Inputs","x":-224,"y":-12,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"data","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"b92bef76-6752-2998-34b0-10adfcebc984","type":"Component Outputs","x":533,"y":-14,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"error","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"a4f084e1-56dd-4f3e-1c11-59779ba63f08","type":"JavaScriptFunction","x":23.200000000000045,"y":-12.099998474121094,"parameters":{"functionScript":"const client = Noodl.Objects.DirectusSDK.Client ?? null;\r\n\r\nconst data = Inputs.data || {};\r\n\r\nconst main = async function () {\r\n    try {\r\n        const result = await client.request(Directus.updateMe(data));\r\n\r\n        Noodl.Objects[\"Current User\"] = result;\r\n\r\n        if(result?.avatar){\r\n            const token = await client.getToken();\r\n            Noodl.Objects[\"Current User\"].avatar = Noodl.Objects.DirectusSDK.Client.url.origin + \"/assets/\" + result.avatar + \"?access_token=\" + token ?? null;\r\n        }\r\n\r\n        Outputs.Success();\r\n        \r\n    } catch (err) {\r\n        console.error(err);\r\n        \r\n        Noodl.Objects[\"Current User\"].authenticated = false;\r\n\r\n        Outputs.error = err?.errors.map(i => i.message ).join(\"\\n\");\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nmain();\r\n"},"ports":[],"dynamicports":[{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a1a36905-960a-78ac-9795-ac8269019b25","type":"Event Sender","x":279.6531553094667,"y":-150.77754756471768,"parameters":{"channelName":"User-Updated"},"ports":[],"dynamicports":[],"children":[]},{"id":"e5e549a5-cea9-5dc3-c7a5-a7d230605bcc","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","x":293.8132888273666,"y":111.18061501616921,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Create)","id":"b814d1f1-dbf9-0c90-e8f9-26ab39b6e24c","graph":{"connections":[{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Search","toId":"ca6803ce-10b3-d1d9-e8b2-46c2a967235c","toProperty":"value"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"filter","toId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","toProperty":"in-filter"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"aggregate","toId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","toProperty":"in-aggregate"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"alias","toId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","toProperty":"in-alias"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"deep","toId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","toProperty":"in-deep"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"groupBy","toId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","toProperty":"in-groupBy"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Page","toId":"8e40dcee-6b71-ecaa-cbe5-f70a61afe0d9","toProperty":"value"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Offset","toId":"dd59b47a-ff05-5d67-8480-f112ea03c30c","toProperty":"value"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Sort","toId":"b43ac5f3-4677-de3d-4390-95bf88c56d3d","toProperty":"value"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Fields","toId":"125e0009-5872-0995-a523-2aaef3596dc0","toProperty":"value"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Get all fields","toId":"8f964b31-a37d-a514-a6cb-827b1f7296c8","toProperty":"value"},{"fromId":"972253b4-b00e-c2af-bc85-ac51e421da7e","fromProperty":"Limit","toId":"e887c487-b4df-6747-9551-b5e913025e73","toProperty":"value"},{"fromId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","fromProperty":"out-filter","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-filter"},{"fromId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","fromProperty":"out-aggregate","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-aggregate"},{"fromId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","fromProperty":"out-groupBy","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-groupBy"},{"fromId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","fromProperty":"out-deep","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-deep"},{"fromId":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","fromProperty":"out-alias","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-alias"},{"fromId":"b43ac5f3-4677-de3d-4390-95bf88c56d3d","fromProperty":"savedValue","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-sort"},{"fromId":"dd59b47a-ff05-5d67-8480-f112ea03c30c","fromProperty":"savedValue","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-offset"},{"fromId":"8e40dcee-6b71-ecaa-cbe5-f70a61afe0d9","fromProperty":"savedValue","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-page"},{"fromId":"ca6803ce-10b3-d1d9-e8b2-46c2a967235c","fromProperty":"savedValue","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-search"},{"fromId":"6d841178-faa7-932b-a52d-217f041ed461","fromProperty":"out-query","toId":"82eb4205-63cd-7f95-737e-496c564506c4","toProperty":"query"},{"fromId":"1711ec95-9c1e-c32d-db3d-8e5f2c6d0fae","fromProperty":"out-limit","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-limit"},{"fromId":"e887c487-b4df-6747-9551-b5e913025e73","fromProperty":"savedValue","toId":"1711ec95-9c1e-c32d-db3d-8e5f2c6d0fae","toProperty":"in-limit_raw"},{"fromId":"8f964b31-a37d-a514-a6cb-827b1f7296c8","fromProperty":"savedValue","toId":"d036a513-2414-a5a9-3e66-4867c7e50eac","toProperty":"in-get_all_fields"},{"fromId":"125e0009-5872-0995-a523-2aaef3596dc0","fromProperty":"savedValue","toId":"d036a513-2414-a5a9-3e66-4867c7e50eac","toProperty":"in-fields"},{"fromId":"d036a513-2414-a5a9-3e66-4867c7e50eac","fromProperty":"out-result","toId":"6d841178-faa7-932b-a52d-217f041ed461","toProperty":"in-fields"}],"roots":[{"id":"ca6803ce-10b3-d1d9-e8b2-46c2a967235c","type":"String","label":"Search","x":2,"y":1054,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"a388404c-e15a-6766-db3b-9f2eb7fc1d28","type":"JavaScriptFunction","x":0,"y":1155,"parameters":{"functionScript":"const aggregate = Inputs.aggregate;\r\nconst groupBy = Inputs.groupBy;\r\nconst filter = Inputs.filter;\r\nconst deep = Inputs.deep;\r\nconst alias = Inputs.alias;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[],"dynamicports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"8e40dcee-6b71-ecaa-cbe5-f70a61afe0d9","type":"Number","label":"Page","x":3,"y":953,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"dd59b47a-ff05-5d67-8480-f112ea03c30c","type":"Number","label":"Offset","x":4,"y":853,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b43ac5f3-4677-de3d-4390-95bf88c56d3d","type":"String","label":"Sort","x":4,"y":756,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"125e0009-5872-0995-a523-2aaef3596dc0","type":"String","label":"Fields","x":5,"y":658,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8f964b31-a37d-a514-a6cb-827b1f7296c8","type":"Boolean","label":"Get all fields","x":5,"y":563,"parameters":{"value":true},"ports":[],"dynamicports":[],"children":[]},{"id":"e887c487-b4df-6747-9551-b5e913025e73","type":"Number","label":"Limit","x":8,"y":464,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"972253b4-b00e-c2af-bc85-ac51e421da7e","type":"Component Inputs","x":-459.66425978928964,"y":675.3553739167942,"parameters":{},"ports":[{"name":"Search","plug":"output","type":{"name":"*"},"index":13},{"name":"filter","plug":"output","type":{"name":"*"},"index":16},{"name":"aggregate","plug":"output","type":{"name":"*"},"index":14},{"name":"alias","plug":"output","type":{"name":"*"},"index":18},{"name":"deep","plug":"output","type":{"name":"*"},"index":17},{"name":"groupBy","plug":"output","type":{"name":"*"},"index":15},{"name":"Page","plug":"output","type":{"name":"*"},"index":12},{"name":"Offset","plug":"output","type":{"name":"*"},"index":11},{"name":"Sort","plug":"output","type":{"name":"*"},"index":10},{"name":"Fields","plug":"output","type":{"name":"*"},"index":9},{"name":"Get all fields","plug":"output","type":{"name":"*"},"index":8},{"name":"Limit","plug":"output","type":{"name":"*"},"index":5},{"name":"Set","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"6d841178-faa7-932b-a52d-217f041ed461","type":"JavaScriptFunction","x":726.2412815279195,"y":684.314172687856,"parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst aggregate = Inputs.aggregate ?? null;\r\nconst groupBy = Inputs.groupBy ?? null;\r\nconst deep = Inputs.deep ?? null;\r\nconst alias = Inputs.alias ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (aggregate) query.aggregate = aggregate;\r\nif (groupBy) query.groupBy = groupBy;\r\nif (deep) query.deep = deep;\r\nif (alias) query.alias = alias;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":16}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"82eb4205-63cd-7f95-737e-496c564506c4","type":"Component Outputs","x":982.2849626492933,"y":685.439768508006,"parameters":{},"ports":[{"name":"query","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"1711ec95-9c1e-c32d-db3d-8e5f2c6d0fae","type":"JavaScriptFunction","x":370.48310590666244,"y":475.42144282220636,"parameters":{"functionScript":"const limit_raw = Inputs.limit_raw ?? null;\r\n\r\nif(limit_raw){\r\n    Outputs.limit = limit_raw > 0 ? limit_raw : 1;\r\n} else {\r\n    Outputs.limit = null;\r\n}"},"ports":[],"dynamicports":[{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"d036a513-2414-a5a9-3e66-4867c7e50eac","type":"JavaScriptFunction","x":381.7202678994827,"y":604.1461691931453,"parameters":{"functionScript":"Outputs.result = (Inputs.get_all_fields ?? true) ? '*' : (Inputs.fields || '*');"},"ports":[],"dynamicports":[{"name":"in-get_all_fields","displayName":"get_all_fields","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Delete)","id":"1e6192b5-d81a-711b-3a51-01c0a3aa003b","graph":{"connections":[{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Search","toId":"728a95ed-11ec-f09b-d17c-a6c1d9f4337e","toProperty":"value"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"filter","toId":"464d5c6d-3523-29a5-95c2-0d0ef84fb914","toProperty":"in-filter"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"deep","toId":"464d5c6d-3523-29a5-95c2-0d0ef84fb914","toProperty":"in-deep"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Page","toId":"7ffd1afd-a4f0-b208-3ee1-3044d6ed994f","toProperty":"value"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Offset","toId":"f0aabec5-e377-e1c5-1d9c-2de5bef83bb5","toProperty":"value"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Sort","toId":"78f6eabe-716b-c8db-80db-be0ddeb99232","toProperty":"value"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Limit","toId":"99b02c37-f76b-7e9b-461a-78ab28ad5383","toProperty":"value"},{"fromId":"464d5c6d-3523-29a5-95c2-0d0ef84fb914","fromProperty":"out-filter","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-filter"},{"fromId":"464d5c6d-3523-29a5-95c2-0d0ef84fb914","fromProperty":"out-deep","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-deep"},{"fromId":"78f6eabe-716b-c8db-80db-be0ddeb99232","fromProperty":"savedValue","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-sort"},{"fromId":"728a95ed-11ec-f09b-d17c-a6c1d9f4337e","fromProperty":"savedValue","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-search"},{"fromId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","fromProperty":"out-query","toId":"a852965a-7438-87df-e80e-c9b18a357041","toProperty":"query"},{"fromId":"f0aabec5-e377-e1c5-1d9c-2de5bef83bb5","fromProperty":"savedValue","toId":"fcf6da70-114b-4386-afb8-1d765e626421","toProperty":"in-value"},{"fromId":"fcf6da70-114b-4386-afb8-1d765e626421","fromProperty":"out-result","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-offset"},{"fromId":"7ffd1afd-a4f0-b208-3ee1-3044d6ed994f","fromProperty":"savedValue","toId":"08a528fc-e373-2fb8-954c-042b9537c562","toProperty":"in-value"},{"fromId":"08a528fc-e373-2fb8-954c-042b9537c562","fromProperty":"out-result","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-page"},{"fromId":"99b02c37-f76b-7e9b-461a-78ab28ad5383","fromProperty":"savedValue","toId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","toProperty":"in-limit_raw"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Item ID","toId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","toProperty":"in-item_id"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Delete Type","toId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","toProperty":"in-delete_type"},{"fromId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","fromProperty":"out-operation","toId":"a852965a-7438-87df-e80e-c9b18a357041","toProperty":"operation"},{"fromId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","fromProperty":"out-limit","toId":"30441a40-17ee-2e7a-ba74-a73a18cc29df","toProperty":"in-limit"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Item IDs Array","toId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","toProperty":"in-item_id_array"},{"fromId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","fromProperty":"out-itemID","toId":"a852965a-7438-87df-e80e-c9b18a357041","toProperty":"itemID"},{"fromId":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","fromProperty":"Do","toId":"5ddebf95-60c5-13e6-995e-c230673f8b3c","toProperty":"run"}],"roots":[{"id":"728a95ed-11ec-f09b-d17c-a6c1d9f4337e","type":"String","label":"Search","x":-184,"y":1052,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"464d5c6d-3523-29a5-95c2-0d0ef84fb914","type":"JavaScriptFunction","x":-186,"y":1153,"parameters":{"functionScript":"const aggregate = Inputs.aggregate;\r\nconst groupBy = Inputs.groupBy;\r\nconst filter = Inputs.filter;\r\nconst deep = Inputs.deep;\r\nconst alias = Inputs.alias;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[],"dynamicports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7ffd1afd-a4f0-b208-3ee1-3044d6ed994f","type":"Number","label":"Page","x":-184,"y":952,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f0aabec5-e377-e1c5-1d9c-2de5bef83bb5","type":"Number","label":"Offset","x":-182,"y":851,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"78f6eabe-716b-c8db-80db-be0ddeb99232","type":"String","label":"Sort","x":-182,"y":754,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"99b02c37-f76b-7e9b-461a-78ab28ad5383","type":"Number","label":"Limit","x":-182.31578947368416,"y":652.3684210526316,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"1b1665ea-087f-3f7c-acc0-45f91f4be2d8","type":"Component Inputs","x":-674.2958387366577,"y":514.9869528641626,"parameters":{},"ports":[{"name":"Search","plug":"output","type":{"name":"*"},"index":10},{"name":"filter","plug":"output","type":{"name":"*"},"index":13},{"name":"aggregate","plug":"output","type":{"name":"*"},"index":11},{"name":"deep","plug":"output","type":{"name":"*"},"index":14},{"name":"groupBy","plug":"output","type":{"name":"*"},"index":12},{"name":"Page","plug":"output","type":{"name":"*"},"index":9},{"name":"Offset","plug":"output","type":{"name":"*"},"index":8},{"name":"Sort","plug":"output","type":{"name":"*"},"index":7},{"name":"Fields","plug":"output","type":{"name":"*"},"index":6},{"name":"Get all fields","plug":"output","type":{"name":"*"},"index":5},{"name":"Limit","plug":"output","type":{"name":"*"},"index":4},{"name":"Delete Type","plug":"output","type":{"name":"*"},"index":1},{"name":"Item ID","plug":"output","type":{"name":"*"},"index":2},{"name":"Item IDs Array","plug":"output","type":{"name":"*"},"index":3},{"name":"Do","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"30441a40-17ee-2e7a-ba74-a73a18cc29df","type":"JavaScriptFunction","x":431.5570710016035,"y":845.0510147931192,"parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst deep = Inputs.deep ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (deep) query.deep = deep;\r\n\r\nOutputs.query = query;"},"ports":[],"dynamicports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":12}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"a852965a-7438-87df-e80e-c9b18a357041","type":"Component Outputs","x":740.390225807188,"y":759.597663244848,"parameters":{},"ports":[{"name":"query","plug":"input","type":{"name":"*"},"index":1},{"name":"operation","plug":"input","type":{"name":"*"},"index":2},{"name":"itemID","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"08a528fc-e373-2fb8-954c-042b9537c562","type":"JavaScriptFunction","x":94,"y":967,"parameters":{"functionScript":"const value = Inputs.value ?? null;\r\nif(value && value > 0) Outputs.result = value\r\nelse Outputs.result = null;"},"ports":[],"dynamicports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"fcf6da70-114b-4386-afb8-1d765e626421","type":"JavaScriptFunction","x":98,"y":862,"parameters":{"functionScript":"const value = Inputs.value ?? null;\r\nif(value && value > 0) Outputs.result = value\r\nelse Outputs.result = null;"},"ports":[],"dynamicports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5ddebf95-60c5-13e6-995e-c230673f8b3c","type":"JavaScriptFunction","x":94,"y":513,"parameters":{"functionScript":"const delete_type = Inputs.delete_type ?? null;\r\nconst item_id = Inputs.item_id ?? null;\r\nconst item_ids = Inputs.item_id_array ?? null;\r\nconst limit_raw = Inputs.limit_raw ?? null;\r\n\r\nlet operation = null;\r\nlet limit = null;\r\nlet itemID = null;\r\nlet itemIDArray = [];\r\n\r\n///////////////////////////////////\r\n\r\nif (delete_type) {\r\n    if (delete_type == \"Delete Single by ID\") {\r\n        if (item_id) {\r\n            operation = \"single\";\r\n            itemID = item_id;\r\n        } else {\r\n            throw new Error(\"Provide valid Item ID\");\r\n        }\r\n    } else if (delete_type == \"Delete Multiple by Filter\") {\r\n\r\n        if(limit_raw){\r\n            if(limit_raw <= 0){\r\n                limit = 1\r\n            } else {\r\n                limit = limit_raw;\r\n            }\r\n        }\r\n        operation = \"multiple\";\r\n\r\n    } else if (delete_type == \"Delete All\") {\r\n\r\n        limit = -1;\r\n        operation = \"all\";\r\n\r\n    } else {\r\n        operation = null;\r\n    }\r\n    \r\n    Outputs.operation = operation;\r\n    Outputs.itemID = itemID;\r\n    Outputs.limit = limit;\r\n    Outputs.Done();\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-delete_type","displayName":"delete_type","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-item_id","displayName":"item_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-item_id_array","displayName":"item_id_array","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-itemID","displayName":"itemID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for File Download)","id":"be31141d-604d-3d28-79c6-c85104f3e201","graph":{"connections":[{"fromId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","fromProperty":"out-query","toId":"79fd12a4-1a2c-a27a-8ac3-b80392dfc69a","toProperty":"query"},{"fromId":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","fromProperty":"fit","toId":"861f7c8b-481c-ba88-43ad-e028d0ac82bc","toProperty":"value"},{"fromId":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","fromProperty":"width","toId":"8b80b6ca-6f23-b390-7030-3c9491ad07c0","toProperty":"value"},{"fromId":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","fromProperty":"height","toId":"c7d5202a-d3a7-57de-3cc6-f8fd73ebe356","toProperty":"value"},{"fromId":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","fromProperty":"quality","toId":"680cd318-2778-56d0-eee0-1084bbca1a4a","toProperty":"value"},{"fromId":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","fromProperty":"withoutEnlargement","toId":"084bfa81-bf5f-76c6-22b9-08eed8b47938","toProperty":"value"},{"fromId":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","fromProperty":"format","toId":"3d299da5-bb6c-244a-806e-651f726c7bbf","toProperty":"value"},{"fromId":"861f7c8b-481c-ba88-43ad-e028d0ac82bc","fromProperty":"savedValue","toId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","toProperty":"in-fit"},{"fromId":"8b80b6ca-6f23-b390-7030-3c9491ad07c0","fromProperty":"savedValue","toId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","toProperty":"in-width"},{"fromId":"c7d5202a-d3a7-57de-3cc6-f8fd73ebe356","fromProperty":"savedValue","toId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","toProperty":"in-height"},{"fromId":"680cd318-2778-56d0-eee0-1084bbca1a4a","fromProperty":"savedValue","toId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","toProperty":"in-quality"},{"fromId":"084bfa81-bf5f-76c6-22b9-08eed8b47938","fromProperty":"savedValue","toId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","toProperty":"in-withoutEnlargement"},{"fromId":"3d299da5-bb6c-244a-806e-651f726c7bbf","fromProperty":"savedValue","toId":"20d0693e-2039-cdf8-dc71-84f52657a6c1","toProperty":"in-format"}],"roots":[{"id":"a40388b3-330a-3eeb-beeb-f96b2887ac7a","type":"Component Inputs","x":-60.664259789289645,"y":637.3553739167942,"parameters":{},"ports":[{"name":"Set","plug":"output","type":{"name":"*"},"index":0},{"name":"fit","plug":"output","type":{"name":"*"},"index":19},{"name":"width","plug":"output","type":{"name":"*"},"index":20},{"name":"height","plug":"output","type":{"name":"*"},"index":21},{"name":"quality","plug":"output","type":{"name":"*"},"index":22},{"name":"withoutEnlargement","plug":"output","type":{"name":"*"},"index":23},{"name":"format","plug":"output","type":{"name":"*"},"index":24}],"dynamicports":[],"children":[]},{"id":"20d0693e-2039-cdf8-dc71-84f52657a6c1","type":"JavaScriptFunction","x":611.2412815279195,"y":660.314172687856,"parameters":{"functionScript":"const fit = Inputs.fit;\r\nconst width = Inputs.width;\r\nconst height = Inputs.height ?? null;\r\nconst quality = Inputs.quality ?? null;\r\nconst withoutEnlargement = Inputs.withoutEnlargement ?? null;\r\nconst format = Inputs.format ?? null;\r\n\r\nconst query = {};\r\n\r\nif (fit) query.fit = fit;\r\nif (width) query.width = width;\r\nif (height) query.height = height;\r\nif (quality) query.quality = quality;\r\nif (withoutEnlargement) query.withoutEnlargement = withoutEnlargement;\r\nif (format) query.format = format;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"in-fit","displayName":"fit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-width","displayName":"width","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-height","displayName":"height","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-quality","displayName":"quality","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-withoutEnlargement","displayName":"withoutEnlargement","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-format","displayName":"format","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"79fd12a4-1a2c-a27a-8ac3-b80392dfc69a","type":"Component Outputs","x":855.2849626492932,"y":757.439768508006,"parameters":{},"ports":[{"name":"query","plug":"input","type":{"name":"*"},"index":1},{"name":"operation","plug":"input","type":{"name":"*"},"index":2},{"name":"itemID","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"861f7c8b-481c-ba88-43ad-e028d0ac82bc","type":"String","label":"fit","x":257.71246033753255,"y":481.5622565345449,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8b80b6ca-6f23-b390-7030-3c9491ad07c0","type":"Number","label":"width","x":258.71246033753255,"y":577.5622565345449,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"680cd318-2778-56d0-eee0-1084bbca1a4a","type":"Number","label":"quality","x":259,"y":771,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c7d5202a-d3a7-57de-3cc6-f8fd73ebe356","type":"Number","label":"height","x":259,"y":674,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"3d299da5-bb6c-244a-806e-651f726c7bbf","type":"String","label":"format","x":258,"y":962,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"084bfa81-bf5f-76c6-22b9-08eed8b47938","type":"Boolean","label":"withoutEnlargement","x":259.3478175104979,"y":866.4389728895031,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Read)","id":"59de780f-7381-4c13-35d3-a76154d1c304","graph":{"connections":[{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Search","toId":"4728bcc5-132f-c86d-4f9d-c2cb2d170361","toProperty":"value"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"filter","toId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","toProperty":"in-filter"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"aggregate","toId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","toProperty":"in-aggregate"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"alias","toId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","toProperty":"in-alias"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"deep","toId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","toProperty":"in-deep"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"groupBy","toId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","toProperty":"in-groupBy"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Page","toId":"781f5b17-793c-dfca-e627-90345d90549d","toProperty":"value"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Offset","toId":"7fe94818-d8eb-585e-e509-c8d63c06e21b","toProperty":"value"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Sort","toId":"412de96e-9f10-5079-d464-dfb1e7760e69","toProperty":"value"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Fields","toId":"5d75ff13-2c93-015d-f6fa-e6a032444dc7","toProperty":"value"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Get all fields","toId":"5b76b8e0-2aed-02d8-0094-574a6acbb76c","toProperty":"value"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Limit","toId":"e6660faf-d288-21c8-d96e-3f18a0a95e73","toProperty":"value"},{"fromId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","fromProperty":"out-filter","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-filter"},{"fromId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","fromProperty":"out-aggregate","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-aggregate"},{"fromId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","fromProperty":"out-groupBy","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-groupBy"},{"fromId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","fromProperty":"out-deep","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-deep"},{"fromId":"a93d635e-8b7a-9304-c1ea-0f74636873d2","fromProperty":"out-alias","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-alias"},{"fromId":"412de96e-9f10-5079-d464-dfb1e7760e69","fromProperty":"savedValue","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-sort"},{"fromId":"7fe94818-d8eb-585e-e509-c8d63c06e21b","fromProperty":"savedValue","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-offset"},{"fromId":"781f5b17-793c-dfca-e627-90345d90549d","fromProperty":"savedValue","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-page"},{"fromId":"4728bcc5-132f-c86d-4f9d-c2cb2d170361","fromProperty":"savedValue","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-search"},{"fromId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","fromProperty":"out-query","toId":"7b541b4d-9d8f-b4e2-37a1-35fc7203e4f7","toProperty":"query"},{"fromId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","fromProperty":"out-itemID","toId":"7b541b4d-9d8f-b4e2-37a1-35fc7203e4f7","toProperty":"itemID"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Set","toId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","toProperty":"run"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Get Type","toId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","toProperty":"in-get_type"},{"fromId":"e6660faf-d288-21c8-d96e-3f18a0a95e73","fromProperty":"savedValue","toId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","toProperty":"in-limit_raw"},{"fromId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","fromProperty":"out-limit","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-limit"},{"fromId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","fromProperty":"out-operation","toId":"7b541b4d-9d8f-b4e2-37a1-35fc7203e4f7","toProperty":"operation"},{"fromId":"5b76b8e0-2aed-02d8-0094-574a6acbb76c","fromProperty":"savedValue","toId":"9725794e-40de-dac8-cbff-f5f09113dec5","toProperty":"in-get_all_fields"},{"fromId":"5d75ff13-2c93-015d-f6fa-e6a032444dc7","fromProperty":"savedValue","toId":"9725794e-40de-dac8-cbff-f5f09113dec5","toProperty":"in-fields"},{"fromId":"9725794e-40de-dac8-cbff-f5f09113dec5","fromProperty":"out-result","toId":"4c086dab-e00c-6576-b265-14b2a9e96aa4","toProperty":"in-fields"},{"fromId":"afc87c26-262c-a421-7455-6a76f955ab26","fromProperty":"Item ID","toId":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","toProperty":"in-item_id"}],"roots":[{"id":"4728bcc5-132f-c86d-4f9d-c2cb2d170361","type":"String","label":"Search","x":2,"y":1054,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"a93d635e-8b7a-9304-c1ea-0f74636873d2","type":"JavaScriptFunction","x":0,"y":1155,"parameters":{"functionScript":"const aggregate = Inputs.aggregate;\r\nconst groupBy = Inputs.groupBy;\r\nconst filter = Inputs.filter;\r\nconst deep = Inputs.deep;\r\nconst alias = Inputs.alias;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[],"dynamicports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"781f5b17-793c-dfca-e627-90345d90549d","type":"Number","label":"Page","x":3,"y":953,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7fe94818-d8eb-585e-e509-c8d63c06e21b","type":"Number","label":"Offset","x":4,"y":853,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"412de96e-9f10-5079-d464-dfb1e7760e69","type":"String","label":"Sort","x":4,"y":756,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5d75ff13-2c93-015d-f6fa-e6a032444dc7","type":"String","label":"Fields","x":5,"y":658,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5b76b8e0-2aed-02d8-0094-574a6acbb76c","type":"Boolean","label":"Get all fields","x":5,"y":563,"parameters":{"value":true},"ports":[],"dynamicports":[],"children":[]},{"id":"00920ca7-d0c4-f4a1-b651-e708d2bbd258","type":"JavaScriptFunction","x":326,"y":336,"parameters":{"functionScript":"const get_type = Inputs.get_type ?? null;\r\nconst item_id = Inputs.item_id ?? null;\r\nconst limit_raw = Inputs.limit_raw ?? null;\r\n\r\nlet operation = null;\r\nlet limit = null;\r\nlet itemID = null;\r\n\r\n///////////////////////////////////\r\n\r\nif (get_type) {\r\n    if (get_type == \"Get Single by ID\") {\r\n        if (item_id) {\r\n            operation = \"single\";\r\n            itemID = item_id;\r\n        } else {\r\n            throw new Error(\"Provide valid Item ID\");\r\n        }\r\n    } else if (get_type == \"Get Single by Filter\") {\r\n        operation = \"single\";\r\n    } else if (get_type == \"Get Multiple by Filter\") {\r\n\r\n        if(limit_raw){\r\n            if(limit_raw <= 0){\r\n                limit = 1\r\n            } else {\r\n                limit = limit_raw;\r\n            }\r\n        }\r\n        operation = \"multiple\";\r\n\r\n    } else if (get_type == \"Get All\") {\r\n\r\n        limit = -1;\r\n        operation = \"all\";\r\n\r\n    } else if (get_type == \"Get Singleton\") {\r\n        operation = \"singleton\";\r\n    } else {\r\n        operation = null;\r\n    }\r\n    \r\n    Outputs.operation = operation;\r\n    Outputs.limit = limit;\r\n    Outputs.itemID = itemID;\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-get_type","displayName":"get_type","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-item_id","displayName":"item_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-itemID","displayName":"itemID","plug":"output","type":"*","group":"Outputs","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"e6660faf-d288-21c8-d96e-3f18a0a95e73","type":"Number","label":"Limit","x":4,"y":459,"parameters":{"value":50},"ports":[],"dynamicports":[],"children":[]},{"id":"afc87c26-262c-a421-7455-6a76f955ab26","type":"Component Inputs","x":-433.66425978928964,"y":335.3553739167942,"parameters":{},"ports":[{"name":"Search","plug":"output","type":{"name":"*"},"index":13},{"name":"Item ID","plug":"output","type":{"name":"*"},"index":3},{"name":"filter","plug":"output","type":{"name":"*"},"index":16},{"name":"aggregate","plug":"output","type":{"name":"*"},"index":14},{"name":"alias","plug":"output","type":{"name":"*"},"index":18},{"name":"deep","plug":"output","type":{"name":"*"},"index":17},{"name":"groupBy","plug":"output","type":{"name":"*"},"index":15},{"name":"Page","plug":"output","type":{"name":"*"},"index":12},{"name":"Offset","plug":"output","type":{"name":"*"},"index":11},{"name":"Sort","plug":"output","type":{"name":"*"},"index":10},{"name":"Fields","plug":"output","type":{"name":"*"},"index":9},{"name":"Get all fields","plug":"output","type":{"name":"*"},"index":8},{"name":"Limit","plug":"output","type":{"name":"*"},"index":5},{"name":"Set","plug":"output","type":{"name":"*"},"index":0},{"name":"Get Type","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"4c086dab-e00c-6576-b265-14b2a9e96aa4","type":"JavaScriptFunction","x":856.2412815279195,"y":597.314172687856,"parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst aggregate = Inputs.aggregate ?? null;\r\nconst groupBy = Inputs.groupBy ?? null;\r\nconst deep = Inputs.deep ?? null;\r\nconst alias = Inputs.alias ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (aggregate) query.aggregate = aggregate;\r\nif (groupBy) query.groupBy = groupBy;\r\nif (deep) query.deep = deep;\r\nif (alias) query.alias = alias;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":16}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"7b541b4d-9d8f-b4e2-37a1-35fc7203e4f7","type":"Component Outputs","x":1138.2849626492932,"y":602.439768508006,"parameters":{},"ports":[{"name":"query","plug":"input","type":{"name":"*"},"index":1},{"name":"operation","plug":"input","type":{"name":"*"},"index":2},{"name":"itemID","plug":"input","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"9725794e-40de-dac8-cbff-f5f09113dec5","type":"JavaScriptFunction","x":325,"y":599,"parameters":{"functionScript":"Outputs.result = (Inputs.get_all_fields ?? true) ? '*' : (Inputs.fields || '*');"},"ports":[],"dynamicports":[{"name":"in-get_all_fields","displayName":"get_all_fields","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Update)","id":"683af39d-391f-96e8-a097-b15448053ff3","graph":{"connections":[{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Search","toId":"59cc7677-d860-a965-9f13-56bcd961b608","toProperty":"value"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"filter","toId":"5d201951-b389-111d-6c67-98b056a26a28","toProperty":"in-filter"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"aggregate","toId":"5d201951-b389-111d-6c67-98b056a26a28","toProperty":"in-aggregate"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"alias","toId":"5d201951-b389-111d-6c67-98b056a26a28","toProperty":"in-alias"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"deep","toId":"5d201951-b389-111d-6c67-98b056a26a28","toProperty":"in-deep"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"groupBy","toId":"5d201951-b389-111d-6c67-98b056a26a28","toProperty":"in-groupBy"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Page","toId":"02c2f043-e47a-5efa-bfe5-b0ab1f7e7131","toProperty":"value"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Offset","toId":"6cf31258-e57d-f300-c613-11a1f7599128","toProperty":"value"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Sort","toId":"06e1c9a8-56b1-1457-79af-3c1ba6d593fa","toProperty":"value"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Fields","toId":"6484a600-0384-e082-58a8-0e59ef49867d","toProperty":"value"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Get all fields","toId":"9ef3159e-7db6-eff7-9f8b-07d7f28c0eb8","toProperty":"value"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Limit","toId":"28a11e8b-d1f8-d4dd-213a-4fbb419891f4","toProperty":"value"},{"fromId":"5d201951-b389-111d-6c67-98b056a26a28","fromProperty":"out-filter","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-filter"},{"fromId":"5d201951-b389-111d-6c67-98b056a26a28","fromProperty":"out-aggregate","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-aggregate"},{"fromId":"5d201951-b389-111d-6c67-98b056a26a28","fromProperty":"out-groupBy","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-groupBy"},{"fromId":"5d201951-b389-111d-6c67-98b056a26a28","fromProperty":"out-deep","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-deep"},{"fromId":"5d201951-b389-111d-6c67-98b056a26a28","fromProperty":"out-alias","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-alias"},{"fromId":"06e1c9a8-56b1-1457-79af-3c1ba6d593fa","fromProperty":"savedValue","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-sort"},{"fromId":"6cf31258-e57d-f300-c613-11a1f7599128","fromProperty":"savedValue","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-offset"},{"fromId":"02c2f043-e47a-5efa-bfe5-b0ab1f7e7131","fromProperty":"savedValue","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-page"},{"fromId":"59cc7677-d860-a965-9f13-56bcd961b608","fromProperty":"savedValue","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-search"},{"fromId":"dd658f76-de65-fa5f-d918-55af835bf42d","fromProperty":"out-query","toId":"2a1a8285-448f-8d39-68d1-dd080d826644","toProperty":"query"},{"fromId":"28a11e8b-d1f8-d4dd-213a-4fbb419891f4","fromProperty":"savedValue","toId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","toProperty":"in-limit_raw"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Set","toId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","toProperty":"run"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Update Type","toId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","toProperty":"in-update_type"},{"fromId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","fromProperty":"out-limit","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-limit"},{"fromId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","fromProperty":"out-operation","toId":"2a1a8285-448f-8d39-68d1-dd080d826644","toProperty":"operation"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Item ID","toId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","toProperty":"in-item_id"},{"fromId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","fromProperty":"out-itemID","toId":"2a1a8285-448f-8d39-68d1-dd080d826644","toProperty":"itemID"},{"fromId":"9ef3159e-7db6-eff7-9f8b-07d7f28c0eb8","fromProperty":"savedValue","toId":"2f9efcbe-10d9-b193-271d-6333bff963b5","toProperty":"in-get_all_fields"},{"fromId":"6484a600-0384-e082-58a8-0e59ef49867d","fromProperty":"savedValue","toId":"2f9efcbe-10d9-b193-271d-6333bff963b5","toProperty":"in-fields"},{"fromId":"2f9efcbe-10d9-b193-271d-6333bff963b5","fromProperty":"out-result","toId":"dd658f76-de65-fa5f-d918-55af835bf42d","toProperty":"in-fields"},{"fromId":"7aa52076-4de7-8e42-78b0-5162c12a3447","fromProperty":"Item IDs Array","toId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","toProperty":"in-item_id_array"},{"fromId":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","fromProperty":"out-itemIDArray","toId":"2a1a8285-448f-8d39-68d1-dd080d826644","toProperty":"itemIDArray"}],"roots":[{"id":"59cc7677-d860-a965-9f13-56bcd961b608","type":"String","label":"Search","x":2,"y":1054,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5d201951-b389-111d-6c67-98b056a26a28","type":"JavaScriptFunction","x":0,"y":1155,"parameters":{"functionScript":"const aggregate = Inputs.aggregate;\r\nconst groupBy = Inputs.groupBy;\r\nconst filter = Inputs.filter;\r\nconst deep = Inputs.deep;\r\nconst alias = Inputs.alias;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[],"dynamicports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"02c2f043-e47a-5efa-bfe5-b0ab1f7e7131","type":"Number","label":"Page","x":3,"y":953,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6cf31258-e57d-f300-c613-11a1f7599128","type":"Number","label":"Offset","x":4,"y":853,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"06e1c9a8-56b1-1457-79af-3c1ba6d593fa","type":"String","label":"Sort","x":4,"y":756,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6484a600-0384-e082-58a8-0e59ef49867d","type":"String","label":"Fields","x":5,"y":658,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"9ef3159e-7db6-eff7-9f8b-07d7f28c0eb8","type":"Boolean","label":"Get all fields","x":5,"y":563,"parameters":{"value":true},"ports":[],"dynamicports":[],"children":[]},{"id":"28a11e8b-d1f8-d4dd-213a-4fbb419891f4","type":"Number","label":"Limit","x":8,"y":446,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7aa52076-4de7-8e42-78b0-5162c12a3447","type":"Component Inputs","x":-518.6642597892896,"y":351.3553739167942,"parameters":{},"ports":[{"name":"Search","plug":"output","type":{"name":"*"},"index":10},{"name":"filter","plug":"output","type":{"name":"*"},"index":13},{"name":"aggregate","plug":"output","type":{"name":"*"},"index":11},{"name":"alias","plug":"output","type":{"name":"*"},"index":15},{"name":"deep","plug":"output","type":{"name":"*"},"index":14},{"name":"groupBy","plug":"output","type":{"name":"*"},"index":12},{"name":"Page","plug":"output","type":{"name":"*"},"index":9},{"name":"Offset","plug":"output","type":{"name":"*"},"index":8},{"name":"Sort","plug":"output","type":{"name":"*"},"index":7},{"name":"Fields","plug":"output","type":{"name":"*"},"index":6},{"name":"Get all fields","plug":"output","type":{"name":"*"},"index":5},{"name":"Limit","plug":"output","type":{"name":"*"},"index":4},{"name":"Set","plug":"output","type":{"name":"*"},"index":0},{"name":"Update Type","plug":"output","type":{"name":"*"},"index":1},{"name":"Item ID","plug":"output","type":{"name":"*"},"index":2},{"name":"Item IDs Array","plug":"output","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"dd658f76-de65-fa5f-d918-55af835bf42d","type":"JavaScriptFunction","x":726.2412815279195,"y":684.314172687856,"parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst aggregate = Inputs.aggregate ?? null;\r\nconst groupBy = Inputs.groupBy ?? null;\r\nconst deep = Inputs.deep ?? null;\r\nconst alias = Inputs.alias ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (aggregate) query.aggregate = aggregate;\r\nif (groupBy) query.groupBy = groupBy;\r\nif (deep) query.deep = deep;\r\nif (alias) query.alias = alias;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[],"dynamicports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":16}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2a1a8285-448f-8d39-68d1-dd080d826644","type":"Component Outputs","x":982.2849626492933,"y":505.43976850800595,"parameters":{},"ports":[{"name":"query","plug":"input","type":{"name":"*"},"index":1},{"name":"operation","plug":"input","type":{"name":"*"},"index":2},{"name":"itemID","plug":"input","type":{"name":"*"},"index":3},{"name":"itemIDArray","plug":"input","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"2688de51-cfc5-ec33-1899-dd9bae1e2c79","type":"JavaScriptFunction","x":363,"y":347,"parameters":{"functionScript":"const update_type = Inputs.update_type ?? null;\r\nconst item_id = Inputs.item_id ?? null;\r\nconst item_ids = Inputs.item_id_array ?? null;\r\nconst limit_raw = Inputs.limit_raw ?? null;\r\n\r\nlet operation = null;\r\nlet limit = null;\r\nlet itemID = null;\r\nlet itemIDArray = null;\r\n\r\n///////////////////////////////////\r\n\r\nif (update_type) {\r\n    if (update_type == \"Update Single by ID\") {\r\n        if (item_id) {\r\n            operation = \"single\";\r\n            itemID = item_id;\r\n        } else {\r\n            throw new Error(\"Provide valid Item ID\");\r\n        }\r\n    } else if (update_type == \"Update Multiple by IDs\") {\r\n        if(!item_ids || !Array.isArray(item_ids) || (item_ids || []).length <= 0 ) throw new Error(\"Provide valid array of Item IDs!\");\r\n        operation = \"multipleByIDs\";\r\n        itemIDArray = [].concat(item_ids);\r\n    } else if (update_type == \"Update Multiple by Filter\") {\r\n        if(limit_raw){\r\n            if(limit_raw <= 0){\r\n                limit = 1\r\n            } else {\r\n                limit = limit_raw;\r\n            }\r\n        }\r\n        operation = \"multiple\";\r\n\r\n    } else if (update_type == \"Update All\") {\r\n\r\n        limit = -1;\r\n        operation = \"all\";\r\n\r\n    } else if (update_type == \"Update Singleton\") {\r\n        operation = \"singleton\";\r\n    } else {\r\n        operation = null;\r\n    }\r\n    \r\n    Outputs.operation = operation;\r\n    Outputs.limit = limit;\r\n    if(itemID) Outputs.itemID = itemID;\r\n    if(itemIDArray) Outputs.itemIDArray = itemIDArray;\r\n}\r\n"},"ports":[],"dynamicports":[{"name":"in-update_type","displayName":"update_type","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-item_id","displayName":"item_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-item_id_array","displayName":"item_id_array","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-itemID","displayName":"itemID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-itemIDArray","displayName":"itemIDArray","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"2f9efcbe-10d9-b193-271d-6333bff963b5","type":"JavaScriptFunction","x":362,"y":621,"parameters":{"functionScript":"Outputs.result = (Inputs.get_all_fields ?? true) ? '*' : (Inputs.fields || '*');"},"ports":[],"dynamicports":[{"name":"in-get_all_fields","displayName":"get_all_fields","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils/Delay with retry limit","id":"fe569d79-6f7b-91f3-7b99-9f5f7ebf6431","graph":{"connections":[{"fromId":"b11493e9-9dfa-8e6f-0535-084a5154760d","fromProperty":"savedValue","toId":"81c0c391-2c67-eb27-4067-8828b0954747","toProperty":"limitsMax"},{"fromId":"81c0c391-2c67-eb27-4067-8828b0954747","fromProperty":"countChanged","toId":"e3fafedd-3dd9-d782-5eaa-ffa1f5eb822b","toProperty":"restart"},{"fromId":"81c0c391-2c67-eb27-4067-8828b0954747","fromProperty":"countChanged","toId":"27a81685-23fc-5dae-e531-87a84fa60587","toProperty":"run"},{"fromId":"b11493e9-9dfa-8e6f-0535-084a5154760d","fromProperty":"savedValue","toId":"27a81685-23fc-5dae-e531-87a84fa60587","toProperty":"in-max_count"},{"fromId":"81c0c391-2c67-eb27-4067-8828b0954747","fromProperty":"currentCount","toId":"27a81685-23fc-5dae-e531-87a84fa60587","toProperty":"in-current_count"},{"fromId":"43f717e4-74ae-d1f2-81be-06f294c3c140","fromProperty":"Start","toId":"e3fafedd-3dd9-d782-5eaa-ffa1f5eb822b","toProperty":"start"},{"fromId":"43f717e4-74ae-d1f2-81be-06f294c3c140","fromProperty":"Restart","toId":"81c0c391-2c67-eb27-4067-8828b0954747","toProperty":"increase"},{"fromId":"e3fafedd-3dd9-d782-5eaa-ffa1f5eb822b","fromProperty":"timerFinished","toId":"7864bfbe-2963-d895-34a6-351d1d92c963","toProperty":"Finished"},{"fromId":"43f717e4-74ae-d1f2-81be-06f294c3c140","fromProperty":"Max. Retries","toId":"b11493e9-9dfa-8e6f-0535-084a5154760d","toProperty":"value"},{"fromId":"43f717e4-74ae-d1f2-81be-06f294c3c140","fromProperty":"Error Message","toId":"1f151b91-8f44-d3c3-bd4b-20ad5e0c7b38","toProperty":"value"},{"fromId":"1f151b91-8f44-d3c3-bd4b-20ad5e0c7b38","fromProperty":"savedValue","toId":"27a81685-23fc-5dae-e531-87a84fa60587","toProperty":"in-error_message"},{"fromId":"43f717e4-74ae-d1f2-81be-06f294c3c140","fromProperty":"Delay Duration","toId":"e3fafedd-3dd9-d782-5eaa-ffa1f5eb822b","toProperty":"duration"}],"roots":[{"id":"e3fafedd-3dd9-d782-5eaa-ffa1f5eb822b","type":"Timer","x":-2185,"y":-222,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"81c0c391-2c67-eb27-4067-8828b0954747","type":"Counter","x":-1882,"y":-418,"parameters":{"limitsEnabled":true},"ports":[],"dynamicports":[],"children":[]},{"id":"b11493e9-9dfa-8e6f-0535-084a5154760d","type":"Number","label":"Max Retries","x":-2173,"y":-506,"parameters":{"value":10},"ports":[],"dynamicports":[],"children":[]},{"id":"27a81685-23fc-5dae-e531-87a84fa60587","type":"JavaScriptFunction","x":-1607,"y":-508,"parameters":{"functionScript":"const max_count = Inputs.max_count\r\nconst current_count = Inputs.current_count\r\n\r\nconst error_message = Inputs.error_message || \"Directus Site Client has not yet been set up!\";\r\n\r\nif(current_count >= max_count){\r\n    throw new Error(error_message)\r\n}"},"ports":[],"dynamicports":[{"name":"in-max_count","displayName":"max_count","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-current_count","displayName":"current_count","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-error_message","displayName":"error_message","plug":"input","type":"*","group":"Inputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"43f717e4-74ae-d1f2-81be-06f294c3c140","type":"Component Inputs","x":-2476,"y":-368,"parameters":{},"ports":[{"name":"Start","plug":"output","type":{"name":"*"},"index":0},{"name":"Restart","plug":"output","type":{"name":"*"},"index":2},{"name":"Max. Retries","plug":"output","type":{"name":"*"},"index":3},{"name":"Error Message","plug":"output","type":{"name":"*"},"index":4},{"name":"Delay Duration","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"7864bfbe-2963-d895-34a6-351d1d92c963","type":"Component Outputs","x":-1870,"y":-204,"parameters":{},"ports":[{"name":"Finished","plug":"input","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"1f151b91-8f44-d3c3-bd4b-20ad5e0c7b38","type":"String","label":"Error Message","x":-1597,"y":-304,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Components/Utils/Get a SDK client","id":"1f8671dc-b1dc-763a-57aa-36321cd5fa6c","graph":{"connections":[{"fromId":"bf31311d-d3a8-4c6e-c51f-b39b6a131ab5","fromProperty":"Do","toId":"29603167-d54c-e134-dbb3-57e35bc84e66","toProperty":"run"},{"fromId":"29603167-d54c-e134-dbb3-57e35bc84e66","fromProperty":"out-Done","toId":"0cd077b3-d72a-296d-55bf-9027e08ec92d","toProperty":"Done"},{"fromId":"29603167-d54c-e134-dbb3-57e35bc84e66","fromProperty":"out-client","toId":"0cd077b3-d72a-296d-55bf-9027e08ec92d","toProperty":"client"}],"roots":[{"id":"29603167-d54c-e134-dbb3-57e35bc84e66","type":"JavaScriptFunction","x":0,"y":0,"parameters":{"functionScript":"const client = (!!Noodl.Objects.DirectusSDK?.SiteClient?.url?.href || false) ? Noodl.Objects.DirectusSDK?.SiteClient : Noodl.Objects.DirectusSDK?.Client;\r\n\r\nif(client){\r\n    Outputs.client = client;\r\n    Outputs.Done();\r\n} else {\r\n    throw new Error(\"No SDK Client found!\");\r\n}"},"ports":[],"dynamicports":[{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-client","displayName":"client","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"bf31311d-d3a8-4c6e-c51f-b39b6a131ab5","type":"Component Inputs","x":-238.4000000000001,"y":2.4000015258789062,"parameters":{},"ports":[{"name":"Do","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"0cd077b3-d72a-296d-55bf-9027e08ec92d","type":"Component Outputs","x":257.5999999999999,"y":1.4000015258789062,"parameters":{},"ports":[{"name":"Done","plug":"input","type":{"name":"*"},"index":1},{"name":"client","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"This Utility component tries to first retrieve the Site SDK Client, if installed, and if not, the User SDK Client then.\nOutputs the retrieved Client.\n\nIf none is available, throws an error.","width":597,"height":172,"fill":"transparent","x":-208,"y":-272,"id":"01845ccf-3293-0062-9cb2-a095e886616d","largeFont":true,"color":"notice"}]}},{"name":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","id":"14fc1944-7fa3-fe86-2c73-1df4536b55cb","graph":{"connections":[{"fromId":"26b6924e-d147-efd0-664d-ca3b007f2a72","fromProperty":"currentState","toId":"ca5030dd-825c-574c-00d7-689bc8d1d0cd","toProperty":"in-SDKClient"},{"fromId":"9c956551-6805-733c-7745-cdabca9a7ef5","fromProperty":"State","toId":"26b6924e-d147-efd0-664d-ca3b007f2a72","toProperty":"currentState"},{"fromId":"ca5030dd-825c-574c-00d7-689bc8d1d0cd","fromProperty":"out-Done","toId":"8dda9e06-2cb8-adde-a3f9-7e962b5ee1bd","toProperty":"Success"},{"fromId":"9c956551-6805-733c-7745-cdabca9a7ef5","fromProperty":"Do","toId":"63a31526-9c98-41c6-b4e2-82d4ce468372","toProperty":"Start"},{"fromId":"63a31526-9c98-41c6-b4e2-82d4ce468372","fromProperty":"Finished","toId":"ca5030dd-825c-574c-00d7-689bc8d1d0cd","toProperty":"run"},{"fromId":"ca5030dd-825c-574c-00d7-689bc8d1d0cd","fromProperty":"out-Failure","toId":"63a31526-9c98-41c6-b4e2-82d4ce468372","toProperty":"Restart"}],"roots":[{"id":"ca5030dd-825c-574c-00d7-689bc8d1d0cd","type":"JavaScriptFunction","x":380,"y":150,"parameters":{"functionScript":"const state = Inputs.SDKClient ?? null;\r\n\r\nlet res = true;\r\n\r\nif(state == \"Site SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.SiteClient || null;\r\n    if(!client){\r\n        res = false;\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif(state == \"User SDK Client\"){\r\n    const client = Noodl.Objects.DirectusSDK.Client || null;\r\n    if(!client){ \r\n        res = false;\r\n        Outputs.Failure();\r\n    }\r\n}\r\n\r\nif(res){\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-SDKClient","displayName":"SDKClient","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"26b6924e-d147-efd0-664d-ca3b007f2a72","type":"States","label":"Client type","x":142,"y":209,"parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To User SDK Client","name":"to-User SDK Client","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At User SDK Client","name":"at-User SDK Client","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached User SDK Client","name":"reached-User SDK Client","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Site SDK Client","name":"to-Site SDK Client","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Site SDK Client","name":"at-Site SDK Client","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Site SDK Client","name":"reached-Site SDK Client","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"group":"States","displayName":"State","name":"currentState","default":"User SDK Client","index":12}],"children":[]},{"id":"9c956551-6805-733c-7745-cdabca9a7ef5","type":"Component Inputs","x":-125,"y":149,"parameters":{},"ports":[{"name":"Do","plug":"output","type":{"name":"*"},"index":0},{"name":"State","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"8dda9e06-2cb8-adde-a3f9-7e962b5ee1bd","type":"Component Outputs","x":624,"y":150,"parameters":{},"ports":[{"name":"Success","plug":"input","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"63a31526-9c98-41c6-b4e2-82d4ce468372","type":"/#Directus/Directus Prefab/Components/Utils/Delay with retry limit","x":142,"y":92,"parameters":{"Delay Duration":100,"Max. Retries":25},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[],"comments":[{"text":"This component is used to make sure that the SDK Client is properly available.","width":614,"height":118,"fill":"transparent","x":-57,"y":-87,"id":"fa5846ad-3a58-1ccc-444b-daa0c1ba3e5c","color":"notice","largeFont":true}]}},{"name":"/#Directus/Directus Prefab/Components/Utils/User Validation Process","id":"4aecc262-6a85-ac99-2676-e483189069cf","graph":{"connections":[{"fromId":"ae1f66e6-dfdd-fa84-6ee5-97d35dcef65b","fromProperty":"value","toId":"8e01eb1d-60a0-52f1-2bbe-533b06e177a5","toProperty":"condition"},{"fromId":"ae1f66e6-dfdd-fa84-6ee5-97d35dcef65b","fromProperty":"fetched","toId":"8e01eb1d-60a0-52f1-2bbe-533b06e177a5","toProperty":"eval"},{"fromId":"8e01eb1d-60a0-52f1-2bbe-533b06e177a5","fromProperty":"ontrue","toId":"15423cff-0d10-9a06-6ecb-1f19330eed08","toProperty":"start"},{"fromId":"15423cff-0d10-9a06-6ecb-1f19330eed08","fromProperty":"timerFinished","toId":"ae1f66e6-dfdd-fa84-6ee5-97d35dcef65b","toProperty":"fetch"},{"fromId":"e52ecda1-b7f4-2a41-dbc8-34a6b06e95e5","fromProperty":"Fetch","toId":"ae1f66e6-dfdd-fa84-6ee5-97d35dcef65b","toProperty":"fetch"},{"fromId":"8e01eb1d-60a0-52f1-2bbe-533b06e177a5","fromProperty":"onfalse","toId":"c69e49a2-74cf-a733-78ac-ca7ed4f344b7","toProperty":"Done"}],"roots":[{"id":"15423cff-0d10-9a06-6ecb-1f19330eed08","type":"Timer","x":237,"y":285,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"ae1f66e6-dfdd-fa84-6ee5-97d35dcef65b","type":"Variable2","x":0,"y":90,"parameters":{"name":"Token Refresh Process"},"ports":[],"dynamicports":[],"children":[]},{"id":"8e01eb1d-60a0-52f1-2bbe-533b06e177a5","type":"Condition","x":489,"y":134,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e52ecda1-b7f4-2a41-dbc8-34a6b06e95e5","type":"Component Inputs","x":-260,"y":119,"parameters":{},"ports":[{"name":"Fetch","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"c69e49a2-74cf-a733-78ac-ca7ed4f344b7","type":"Component Outputs","x":699,"y":133,"parameters":{},"ports":[{"name":"Done","plug":"input","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/#Directus/Directus Prefab/Initial Set Up/Set up Directus - Option 1 (env)","id":"3ebd2eb8-be81-7ff6-a7c6-9a92a21dfe92","graph":{"connections":[{"fromId":"49c22c88-345c-45a2-58ce-4af23eb000ea","fromProperty":"prop-url","toId":"86a04fc0-5a4d-26d4-30a1-cec9584d7ba4","toProperty":"directusURL"},{"fromId":"49c22c88-345c-45a2-58ce-4af23eb000ea","fromProperty":"prop-url","toId":"d4af8962-8f52-944a-e2d5-1a7b2468192d","toProperty":"directusURL"},{"fromId":"86a04fc0-5a4d-26d4-30a1-cec9584d7ba4","fromProperty":"Success","toId":"ef3b32c2-2626-530f-2bd6-46496c1912f0","toProperty":"Do"},{"fromId":"49c22c88-345c-45a2-58ce-4af23eb000ea","fromProperty":"prop-static_token","toId":"d4af8962-8f52-944a-e2d5-1a7b2468192d","toProperty":"static_token"},{"fromId":"a0606673-220a-569d-3f7c-ed3c150401b3","fromProperty":"Done","toId":"49c22c88-345c-45a2-58ce-4af23eb000ea","toProperty":"fetch"},{"fromId":"49c22c88-345c-45a2-58ce-4af23eb000ea","fromProperty":"fetched","toId":"86a04fc0-5a4d-26d4-30a1-cec9584d7ba4","toProperty":"Do"},{"fromId":"49c22c88-345c-45a2-58ce-4af23eb000ea","fromProperty":"fetched","toId":"d4af8962-8f52-944a-e2d5-1a7b2468192d","toProperty":"Do"},{"fromId":"5e9a73e4-49ef-f970-a12e-b741c6c8ba89","fromProperty":"state","toId":"4f8634bd-fdd7-276d-f277-6ef98d24290b","toProperty":"input 0"},{"fromId":"5c925d43-4123-ab5b-dd93-727b83619c2f","fromProperty":"state","toId":"4f8634bd-fdd7-276d-f277-6ef98d24290b","toProperty":"input 1"},{"fromId":"4f8634bd-fdd7-276d-f277-6ef98d24290b","fromProperty":"result","toId":"a7ef97fb-88d0-51c3-a501-82259cc72ddf","toProperty":"Mounted"},{"fromId":"86a04fc0-5a4d-26d4-30a1-cec9584d7ba4","fromProperty":"Success","toId":"5e9a73e4-49ef-f970-a12e-b741c6c8ba89","toProperty":"on"},{"fromId":"d4af8962-8f52-944a-e2d5-1a7b2468192d","fromProperty":"Success","toId":"5c925d43-4123-ab5b-dd93-727b83619c2f","toProperty":"on"},{"fromId":"19702f81-67bd-cbc4-eb41-ce5de99ebece","fromProperty":"timerFinished","toId":"87ba106c-ee77-63db-2a25-344854ef1d02","toProperty":"run"},{"fromId":"87ba106c-ee77-63db-2a25-344854ef1d02","fromProperty":"out-Failure","toId":"a1af9cd3-c936-987d-1435-0b233cf865a2","toProperty":"increase"},{"fromId":"a1af9cd3-c936-987d-1435-0b233cf865a2","fromProperty":"currentCount","toId":"f510cbee-22e4-d5f3-9cfe-5657b4c1e8ff","toProperty":"in-count"},{"fromId":"f510cbee-22e4-d5f3-9cfe-5657b4c1e8ff","fromProperty":"out-Done","toId":"19702f81-67bd-cbc4-eb41-ce5de99ebece","toProperty":"restart"},{"fromId":"a1af9cd3-c936-987d-1435-0b233cf865a2","fromProperty":"countChanged","toId":"f510cbee-22e4-d5f3-9cfe-5657b4c1e8ff","toProperty":"run"},{"fromId":"4da90e12-f216-259e-51f8-553436a0034b","fromProperty":"Do","toId":"87ba106c-ee77-63db-2a25-344854ef1d02","toProperty":"run"},{"fromId":"87ba106c-ee77-63db-2a25-344854ef1d02","fromProperty":"out-Success","toId":"a0606673-220a-569d-3f7c-ed3c150401b3","toProperty":"Do"}],"roots":[{"id":"86a04fc0-5a4d-26d4-30a1-cec9584d7ba4","type":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize User Client","label":"Directus - Initialize","x":304,"y":211,"parameters":{"Enable Cross-Domain cookies":true},"ports":[],"dynamicports":[],"children":[]},{"id":"a0606673-220a-569d-3f7c-ed3c150401b3","type":"Javascript2","label":"env.json","x":-232,"y":285,"parameters":{"code":"Script.Signals.Do = async function(){\r\n    const file = await fetch(\"./env.json\");\r\n    const env = await file.json() ?? {};\r\n    for(const key in env){\r\n        Noodl.Objects.env[key] = env[key];\r\n    }\r\n    if(env?.url) Script.Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"Do","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5},{"name":"Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["code"]}}},{"id":"49c22c88-345c-45a2-58ce-4af23eb000ea","type":"Model2","x":21,"y":285,"parameters":{"modelId":"env","properties":"url,static_token"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-url","displayName":"url","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"url Changed","name":"changed-url","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-static_token","displayName":"static_token","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"static_token Changed","name":"changed-static_token","index":10}],"children":[]},{"id":"d4af8962-8f52-944a-e2d5-1a7b2468192d","type":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize Site Client","label":"Directus - Initialize Site Client","x":304,"y":349,"parameters":{"Enable Cross-Domain cookies":true},"ports":[],"dynamicports":[],"children":[]},{"id":"ef3b32c2-2626-530f-2bd6-46496c1912f0","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Refresh Token","x":609,"y":75,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4da90e12-f216-259e-51f8-553436a0034b","type":"Component Inputs","x":-748,"y":282,"parameters":{},"ports":[{"name":"Do","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"a7ef97fb-88d0-51c3-a501-82259cc72ddf","type":"Component Outputs","x":1058,"y":316,"parameters":{},"ports":[{"name":"Mounted","plug":"input","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"5e9a73e4-49ef-f970-a12e-b741c6c8ba89","type":"Switch","x":617,"y":246,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"5c925d43-4123-ab5b-dd93-727b83619c2f","type":"Switch","x":614,"y":371,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4f8634bd-fdd7-276d-f277-6ef98d24290b","type":"Or","x":840,"y":313,"parameters":{},"ports":[],"dynamicports":[{"name":"input 0","displayName":"Input 0","type":"boolean","plug":"input","index":1},{"name":"input 1","displayName":"Input 1","type":"boolean","plug":"input","index":2},{"name":"input 2","displayName":"Input 2","type":"boolean","plug":"input","index":3}],"children":[]},{"id":"87ba106c-ee77-63db-2a25-344854ef1d02","type":"JavaScriptFunction","x":-507,"y":451.00000000000006,"parameters":{"functionScript":"const sdk_installed = window.Directus ?? null;\r\nif(sdk_installed){\r\n    Outputs.Success();\r\n} else {\r\n    Outputs.Failure();\r\n}"},"ports":[],"dynamicports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"19702f81-67bd-cbc4-eb41-ce5de99ebece","type":"Timer","x":-504,"y":672,"parameters":{"duration":100},"ports":[],"dynamicports":[],"children":[]},{"id":"a1af9cd3-c936-987d-1435-0b233cf865a2","type":"Counter","x":-505,"y":551,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f510cbee-22e4-d5f3-9cfe-5657b4c1e8ff","type":"JavaScriptFunction","x":-309,"y":594,"parameters":{"functionScript":"const result = (Inputs.count || 0) >= 5 ? true: false;\r\n\r\nif(result){\r\n    location.reload()\r\n} else {\r\n    Outputs.Done();\r\n}"},"ports":[],"dynamicports":[{"name":"in-count","displayName":"count","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[],"comments":[{"text":"Make sure to have \"env.json\" set up properly","width":200,"height":186,"fill":"transparent","x":-256,"y":218,"id":"eb362f50-a4f1-a2c0-7f23-6435a0fd1b88"},{"text":"There are 2 options to include the URL of your Directus project's URL (and optionally, Static Token):\n\n1. Using an environment file (env.json) [For ease of management, and not security]\n2. Directly setting the URL\n\nPS: Choose only 1 and remove the other!","width":521,"height":257,"fill":"transparent","x":-202,"y":-337,"id":"67992a7a-e7db-1fc9-d681-2e7bc129d67e","largeFont":true},{"text":"This is Option 1 :\n\n- Use env.json","width":279,"height":119,"fill":"no-fill","x":-94,"y":-29,"id":"833cf90e-3c64-d0c2-f519-433ff33dbb96","largeFont":true,"color":"success"},{"text":"Is the SDK installed and ready to use?","width":416,"height":367,"fill":"transparent","x":-539,"y":406,"id":"09315472-e17b-88c3-b3b8-c63c419d53d3","color":"notice","largeFont":true}]}},{"name":"/#Directus/Directus Prefab/Initial Set Up/Set up Directus - Option 2 (manual)","id":"6bc7ac5b-4273-17e5-1760-dff8178c5edb","graph":{"connections":[{"fromId":"b48120a7-98a9-4f1c-6255-b42b0ae5241e","fromProperty":"Success","toId":"ef795047-6c14-dec8-6523-4cc6538d253f","toProperty":"Do"},{"fromId":"77cedf05-5694-9625-331a-93e8d84f7987","fromProperty":"Do","toId":"e6d3af1b-8bba-4200-5910-4ddcaccd8778","toProperty":"saveValue"},{"fromId":"77cedf05-5694-9625-331a-93e8d84f7987","fromProperty":"Do","toId":"279a72e3-c63d-e4d0-1dc6-7d4a440ec25a","toProperty":"saveValue"},{"fromId":"e6d3af1b-8bba-4200-5910-4ddcaccd8778","fromProperty":"stored","toId":"b48120a7-98a9-4f1c-6255-b42b0ae5241e","toProperty":"Do"},{"fromId":"e6d3af1b-8bba-4200-5910-4ddcaccd8778","fromProperty":"savedValue","toId":"b48120a7-98a9-4f1c-6255-b42b0ae5241e","toProperty":"directusURL"},{"fromId":"279a72e3-c63d-e4d0-1dc6-7d4a440ec25a","fromProperty":"stored","toId":"73e9d665-7c4e-ea72-4e0f-2ecca236b619","toProperty":"Do"},{"fromId":"279a72e3-c63d-e4d0-1dc6-7d4a440ec25a","fromProperty":"savedValue","toId":"73e9d665-7c4e-ea72-4e0f-2ecca236b619","toProperty":"static_token"},{"fromId":"e6d3af1b-8bba-4200-5910-4ddcaccd8778","fromProperty":"savedValue","toId":"73e9d665-7c4e-ea72-4e0f-2ecca236b619","toProperty":"directusURL"},{"fromId":"4fd1961a-1b54-d0a5-7331-37501e17c8a5","fromProperty":"savedValue","toId":"73e9d665-7c4e-ea72-4e0f-2ecca236b619","toProperty":"Enable Cross-Domain cookies"},{"fromId":"77cedf05-5694-9625-331a-93e8d84f7987","fromProperty":"Do","toId":"4fd1961a-1b54-d0a5-7331-37501e17c8a5","toProperty":"saveValue"},{"fromId":"df9dd58d-e4fa-5559-abe2-6c33cc3623d5","fromProperty":"state","toId":"e555b872-7fc3-f010-e663-8635533b0db4","toProperty":"input 0"},{"fromId":"dbda28ad-9ada-83e7-0314-0db5852f5a06","fromProperty":"state","toId":"e555b872-7fc3-f010-e663-8635533b0db4","toProperty":"input 1"},{"fromId":"e555b872-7fc3-f010-e663-8635533b0db4","fromProperty":"result","toId":"96f4463f-e6f7-ec49-bc94-7102203671c7","toProperty":"Mounted"},{"fromId":"b48120a7-98a9-4f1c-6255-b42b0ae5241e","fromProperty":"Success","toId":"df9dd58d-e4fa-5559-abe2-6c33cc3623d5","toProperty":"on"},{"fromId":"73e9d665-7c4e-ea72-4e0f-2ecca236b619","fromProperty":"Success","toId":"dbda28ad-9ada-83e7-0314-0db5852f5a06","toProperty":"on"}],"roots":[{"id":"b48120a7-98a9-4f1c-6255-b42b0ae5241e","type":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize User Client","label":"Directus - Initialize","x":245,"y":152,"parameters":{"Enable Cross-Domain cookies":true},"ports":[],"dynamicports":[],"children":[]},{"id":"73e9d665-7c4e-ea72-4e0f-2ecca236b619","type":"/#Directus/Directus Prefab/Components/Config/Directus - Initialize Site Client","label":"Directus - Initialize Site Client","x":249,"y":345,"parameters":{"Enable Cross-Domain cookies":true},"ports":[],"dynamicports":[],"children":[]},{"id":"ef795047-6c14-dec8-6523-4cc6538d253f","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Refresh Token","x":563,"y":52,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"77cedf05-5694-9625-331a-93e8d84f7987","type":"Component Inputs","x":-302,"y":294,"parameters":{},"ports":[{"name":"Do","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"e6d3af1b-8bba-4200-5910-4ddcaccd8778","type":"String","label":"Directus URL","x":-42,"y":200.99999999999994,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"279a72e3-c63d-e4d0-1dc6-7d4a440ec25a","type":"String","label":"Static Token","x":-34,"y":344.99999999999994,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"4fd1961a-1b54-d0a5-7331-37501e17c8a5","type":"Boolean","label":"Cross-Domain cookies","x":-36.5,"y":473.10000152587895,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"96f4463f-e6f7-ec49-bc94-7102203671c7","type":"Component Outputs","x":1007,"y":273,"parameters":{},"ports":[{"name":"Mounted","plug":"input","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"df9dd58d-e4fa-5559-abe2-6c33cc3623d5","type":"Switch","x":566,"y":203,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"dbda28ad-9ada-83e7-0314-0db5852f5a06","type":"Switch","x":565,"y":344,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e555b872-7fc3-f010-e663-8635533b0db4","type":"Or","x":789,"y":270,"parameters":{},"ports":[],"dynamicports":[{"name":"input 0","displayName":"Input 0","type":"boolean","plug":"input","index":1},{"name":"input 1","displayName":"Input 1","type":"boolean","plug":"input","index":2},{"name":"input 2","displayName":"Input 2","type":"boolean","plug":"input","index":3}],"children":[]}],"visualRoots":[],"comments":[{"text":"There are 2 options to include the URL of your Directus project's URL (and optionally, Static Token):\n\n1. Using an environment file (env.json) [For ease of management, and not security]\n2. Directly setting the URL\n\nPS: Choose only 1 and remove the other!","width":521,"height":257,"fill":"transparent","x":-154,"y":-354,"id":"3b74179e-8b5c-f4bf-be00-1c9df8f7f0f0","largeFont":true},{"text":"This is Option 2 :\n\n- Provide env values directly in Noodl","width":277,"height":150,"fill":"no-fill","x":-26,"y":-69,"id":"78e1c2d4-2fe7-b114-400e-bff9f7632ca4","largeFont":true,"color":"success"}]}},{"name":"/#Pages/clients","id":"80796d73-8f96-570d-c666-9478a2278717","graph":{"connections":[],"roots":[{"id":"bdcf24ab-bdd2-8aec-d58b-aef2165ff610","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"clients","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"clients","index":32}],"children":[]},{"id":"cf62b209-b31d-169a-c46d-d46fb72ba1ae","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["bdcf24ab-bdd2-8aec-d58b-aef2165ff610"]}},{"name":"/#Pages/clips","id":"77885667-f57d-1d13-b21c-aa246c73c34d","graph":{"connections":[],"roots":[{"id":"9f4bef40-98ea-4b99-6351-c1e9c76e077f","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"clips","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"clips","index":32}],"children":[]},{"id":"d6512089-1a41-3faf-293e-3b71bbfca28a","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["9f4bef40-98ea-4b99-6351-c1e9c76e077f"]}},{"name":"/#Pages/connect","id":"44779844-6116-3191-eda0-6d8a2d6c72d6","graph":{"connections":[],"roots":[{"id":"b30f64c1-f81a-3c26-ae80-c019f942fede","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"connect","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"connect","index":32}],"children":[{"id":"18e3d2f2-3a33-23fc-d893-6ba4a26405bf","type":"/Global visual components/Header","parameters":{"Show menu":false},"ports":[],"dynamicports":[],"children":[]},{"id":"5293cd4f-c59c-9ff9-4ed4-d55e59e6f79e","type":"Group","label":"Main container","parameters":{"backgroundColor":"Hive page grey","paddingTop":{"value":60,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"f533ed2b-e7a1-0171-7448-3a81c2c6f277","type":"/#Pages/connect/Signup form","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"23987ff1-a8a2-0b39-7fb1-f014730265b5","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["b30f64c1-f81a-3c26-ae80-c019f942fede"]}},{"name":"/#Pages/connect/Login form","id":"70fbe3e5-7324-596c-a762-156cf374bc4f","graph":{"connections":[{"fromId":"f9b33e8e-cc2b-bc47-338b-32ee2412822b","fromProperty":"mounted","toId":"79e9245d-bc26-b8f0-ed9d-64345ed3af04","toProperty":"mounted"},{"fromId":"0fca7948-e4a1-34c5-ff79-fe40dd8f4680","fromProperty":"onClick","toId":"14b4b90e-c7a5-73d2-82cf-1caf288798f0","toProperty":"Switch to signup"}],"roots":[{"id":"79e9245d-bc26-b8f0-ed9d-64345ed3af04","type":"Group","label":"Login group","x":0,"y":0,"parameters":{"sizeMode":"contentHeight","alignY":"center","alignX":"center","rowGap":{"value":20,"unit":"px"},"width":{"value":300,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"60ac7040-16c7-62ef-79a8-a523cd32e411","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]},{"id":"55ed451b-80f5-a155-ff63-95e1a1919b37","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"backgroundColor":"White","label":"Password","useLabel":true,"labelcolor":"White","textStyle":"Body Medium","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"sizeMode":"contentHeight","paddingLeft":{"value":12,"unit":"px"},"type":"password"},"ports":[],"dynamicports":[],"children":[]},{"id":"0e9a8db9-d311-b2be-3db9-e8500e757a78","type":"net.noodl.controls.button","parameters":{"alignX":"center","backgroundColor":"Hive purple","label":"Log in"},"ports":[],"dynamicports":[],"children":[]},{"id":"0fca7948-e4a1-34c5-ff79-fe40dd8f4680","type":"Text","variant":"Clickable text","parameters":{"text":"Don't have an account? Click here to sign up","alignX":"center","sizeMode":"contentHeight","textAlignX":"center","styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"f9b33e8e-cc2b-bc47-338b-32ee2412822b","type":"Component Inputs","x":-285.5,"y":16.5,"parameters":{},"ports":[{"name":"mounted","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"14b4b90e-c7a5-73d2-82cf-1caf288798f0","type":"Component Outputs","x":263.75,"y":97.25,"parameters":{},"ports":[{"name":"Switch to signup","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]}],"visualRoots":["79e9245d-bc26-b8f0-ed9d-64345ed3af04"]}},{"name":"/#Pages/connect/Signup form","id":"7da523e1-a72b-0858-bea8-25f6b74613a3","graph":{"connections":[{"fromId":"5310be4a-ae90-9283-4999-0cd3de820853","fromProperty":"at-signup","toId":"835757ea-5abb-5024-7f0b-536f8d910022","toProperty":"mounted"},{"fromId":"5310be4a-ae90-9283-4999-0cd3de820853","fromProperty":"at-signup","toId":"b8161b1c-a200-954e-ba3f-e58a2ee6dd65","toProperty":"mounted"},{"fromId":"5310be4a-ae90-9283-4999-0cd3de820853","fromProperty":"link text","toId":"fbdb6c0a-7dc4-78ed-42f5-de50de6e9b72","toProperty":"text"},{"fromId":"5310be4a-ae90-9283-4999-0cd3de820853","fromProperty":"button text","toId":"80131f89-1124-631a-374f-37248ae4a2c6","toProperty":"label"},{"fromId":"fbdb6c0a-7dc4-78ed-42f5-de50de6e9b72","fromProperty":"onClick","toId":"5310be4a-ae90-9283-4999-0cd3de820853","toProperty":"toggle"},{"fromId":"835757ea-5abb-5024-7f0b-536f8d910022","fromProperty":"onTextChanged","toId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","toProperty":"first_name"},{"fromId":"b8161b1c-a200-954e-ba3f-e58a2ee6dd65","fromProperty":"onTextChanged","toId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","toProperty":"last_name"},{"fromId":"d11c57ca-e447-fc0f-00ff-d37ffb3b11d3","fromProperty":"onTextChanged","toId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","toProperty":"email"},{"fromId":"33121d01-0397-02eb-0612-ce912d61556a","fromProperty":"onTextChanged","toId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","toProperty":"password"},{"fromId":"d11c57ca-e447-fc0f-00ff-d37ffb3b11d3","fromProperty":"onTextChanged","toId":"632c6adc-9ecb-0229-441b-c50c78e53373","toProperty":"email"},{"fromId":"33121d01-0397-02eb-0612-ce912d61556a","fromProperty":"onTextChanged","toId":"632c6adc-9ecb-0229-441b-c50c78e53373","toProperty":"password"},{"fromId":"5310be4a-ae90-9283-4999-0cd3de820853","fromProperty":"at-login","toId":"253c9bbd-3684-3e2d-b36b-4cb4145203d8","toProperty":"condition"},{"fromId":"253c9bbd-3684-3e2d-b36b-4cb4145203d8","fromProperty":"ontrue","toId":"632c6adc-9ecb-0229-441b-c50c78e53373","toProperty":"Do"},{"fromId":"253c9bbd-3684-3e2d-b36b-4cb4145203d8","fromProperty":"onfalse","toId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","toProperty":"Do"},{"fromId":"835757ea-5abb-5024-7f0b-536f8d910022","fromProperty":"onTextChanged","toId":"c69456a2-d502-193b-de73-5e51a0b20d6a","toProperty":"firstName"},{"fromId":"b8161b1c-a200-954e-ba3f-e58a2ee6dd65","fromProperty":"onTextChanged","toId":"c69456a2-d502-193b-de73-5e51a0b20d6a","toProperty":"lastName"},{"fromId":"d11c57ca-e447-fc0f-00ff-d37ffb3b11d3","fromProperty":"onTextChanged","toId":"c69456a2-d502-193b-de73-5e51a0b20d6a","toProperty":"email"},{"fromId":"33121d01-0397-02eb-0612-ce912d61556a","fromProperty":"onTextChanged","toId":"c69456a2-d502-193b-de73-5e51a0b20d6a","toProperty":"password"},{"fromId":"5310be4a-ae90-9283-4999-0cd3de820853","fromProperty":"at-login","toId":"c69456a2-d502-193b-de73-5e51a0b20d6a","toProperty":"atLogin"},{"fromId":"80131f89-1124-631a-374f-37248ae4a2c6","fromProperty":"onClick","toId":"c69456a2-d502-193b-de73-5e51a0b20d6a","toProperty":"run"},{"fromId":"c69456a2-d502-193b-de73-5e51a0b20d6a","fromProperty":"isTrueEv","toId":"253c9bbd-3684-3e2d-b36b-4cb4145203d8","toProperty":"eval"},{"fromId":"c69456a2-d502-193b-de73-5e51a0b20d6a","fromProperty":"isFalseEv","toId":"d8979137-fb61-e456-7100-a5e795b94cec","toProperty":"Do"},{"fromId":"632c6adc-9ecb-0229-441b-c50c78e53373","fromProperty":"Success","toId":"cec6f250-6e2e-6729-61cf-525607c0433c","toProperty":"navigate"},{"fromId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","fromProperty":"Success","toId":"cec6f250-6e2e-6729-61cf-525607c0433c","toProperty":"navigate"},{"fromId":"632c6adc-9ecb-0229-441b-c50c78e53373","fromProperty":"Failure","toId":"de6905f0-af01-ce65-dff9-6bd6bd35bdf0","toProperty":"Do"},{"fromId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","fromProperty":"Failure","toId":"de6905f0-af01-ce65-dff9-6bd6bd35bdf0","toProperty":"Do"},{"fromId":"632c6adc-9ecb-0229-441b-c50c78e53373","fromProperty":"error","toId":"de6905f0-af01-ce65-dff9-6bd6bd35bdf0","toProperty":"Message"},{"fromId":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","fromProperty":"error","toId":"de6905f0-af01-ce65-dff9-6bd6bd35bdf0","toProperty":"Message"}],"roots":[{"id":"91fdb537-7a57-af88-148f-7644f579b4b8","type":"Group","label":"Connect group","x":0,"y":0,"parameters":{"sizeMode":"contentHeight","alignY":"center","alignX":"center","rowGap":{"value":20,"unit":"px"},"width":{"value":300,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"835757ea-5abb-5024-7f0b-536f8d910022","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"label":"First name"},"ports":[],"dynamicports":[],"children":[]},{"id":"b8161b1c-a200-954e-ba3f-e58a2ee6dd65","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"label":"Last name"},"ports":[],"dynamicports":[],"children":[]},{"id":"d11c57ca-e447-fc0f-00ff-d37ffb3b11d3","type":"net.noodl.controls.textinput","variant":"Standard input","label":"Email","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]},{"id":"33121d01-0397-02eb-0612-ce912d61556a","type":"net.noodl.controls.textinput","variant":"Standard input","parameters":{"backgroundColor":"White","label":"Password","useLabel":true,"labelcolor":"White","textStyle":"Body Medium","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"sizeMode":"contentHeight","paddingLeft":{"value":12,"unit":"px"},"type":"password"},"ports":[],"dynamicports":[],"children":[]},{"id":"80131f89-1124-631a-374f-37248ae4a2c6","type":"net.noodl.controls.button","variant":"Standard button","label":"Button","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]},{"id":"fbdb6c0a-7dc4-78ed-42f5-de50de6e9b72","type":"Text","variant":"Clickable text","parameters":{},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"5310be4a-ae90-9283-4999-0cd3de820853","type":"States","x":-281.1666666666667,"y":143.16666666666666,"parameters":{"states":"login,signup","values":"link text,button text","type-link text":"string","value-signup-link text":"Already have an account? Click here to log in","value-login-link text":"Don't have an account? Click here to sign up","type-button text":"string","value-login-button text":"Log in","value-signup-button text":"Sign up"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"link text","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"link text","name":"type-link text","index":7},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"button text","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"button text","name":"type-button text","index":9},{"plug":"input","type":"string","group":"login Values","name":"value-login-link text","displayName":"link text","editorName":"login|link text","index":10},{"plug":"input","type":"string","group":"login Values","name":"value-login-button text","displayName":"button text","editorName":"login|button text","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"login Transitions","name":"transitiondef-login","index":12},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To login","name":"to-login","group":"Go to state","index":13},{"plug":"output","type":"boolean","displayName":"At login","name":"at-login","group":"Current state","index":14},{"plug":"output","type":"signal","displayName":"Has Reached login","name":"reached-login","group":"Current state","index":15},{"plug":"input","type":"string","group":"signup Values","name":"value-signup-link text","displayName":"link text","editorName":"signup|link text","index":16},{"plug":"input","type":"string","group":"signup Values","name":"value-signup-button text","displayName":"button text","editorName":"signup|button text","index":17},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"signup Transitions","name":"transitiondef-signup","index":18},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To signup","name":"to-signup","group":"Go to state","index":19},{"plug":"output","type":"boolean","displayName":"At signup","name":"at-signup","group":"Current state","index":20},{"plug":"output","type":"signal","displayName":"Has Reached signup","name":"reached-signup","group":"Current state","index":21},{"plug":"input","type":{"name":"enum","enums":["login","signup"]},"group":"States","displayName":"State","name":"currentState","default":"login","index":22}],"children":[]},{"id":"632c6adc-9ecb-0229-441b-c50c78e53373","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Login","x":779.9293360130388,"y":207.02734434399173,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"171fa81d-469e-9fe3-2e2b-08aa5943a52c","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Signup","x":781.8789285036811,"y":337.6500412170091,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"253c9bbd-3684-3e2d-b36b-4cb4145203d8","type":"Condition","label":"At login","x":508.935979813794,"y":246.01919415683267,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c69456a2-d502-193b-de73-5e51a0b20d6a","type":"Expression","x":296.4303983338091,"y":177.7834569843609,"parameters":{"expression":"(firstName && lastName && email && password && !atLogin) || (email && password && atLogin)"},"ports":[],"dynamicports":[{"group":"Parameters","name":"firstName","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"lastName","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"email","type":{"name":"*","editAsType":"string"},"plug":"input","index":9},{"group":"Parameters","name":"password","type":{"name":"*","editAsType":"string"},"plug":"input","index":10},{"group":"Parameters","name":"atLogin","type":{"name":"*","editAsType":"string"},"plug":"input","index":11}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"d8979137-fb61-e456-7100-a5e795b94cec","type":"/Show Toast","x":302.27917580573467,"y":491.6678479777314,"parameters":{"Type":"Warning","Message":"Please fill in all fields"},"ports":[],"dynamicports":[],"children":[]},{"id":"cec6f250-6e2e-6729-61cf-525607c0433c","type":"RouterNavigate","x":1056.6838788290559,"y":372.7592216209418,"parameters":{"router":"Main","target":"/#Pages/dashboard"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"de6905f0-af01-ce65-dff9-6bd6bd35bdf0","type":"/Show Toast","x":1047.6838788290559,"y":227.7592216209418,"parameters":{"Type":"Error"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["91fdb537-7a57-af88-148f-7644f579b4b8"]}},{"name":"/#Pages/dashboard","id":"b00a5db2-3242-1d98-98f7-8503fc401dbd","graph":{"connections":[{"fromId":"dbec89ea-d1c8-afe0-6e10-1ba103d7ae48","fromProperty":"itemOutputSignal-item clicked","toId":"97acee87-0a98-5fe4-342f-f7fadd99dec5","toProperty":"run"},{"fromId":"97acee87-0a98-5fe4-342f-f7fadd99dec5","fromProperty":"out-toClients","toId":"94fc2188-72a2-b864-3132-0876e8b59a96","toProperty":"navigate"},{"fromId":"97acee87-0a98-5fe4-342f-f7fadd99dec5","fromProperty":"out-toProjects","toId":"c8d872d7-53b7-aa10-a0df-0c76c0a1f553","toProperty":"navigate"},{"fromId":"97acee87-0a98-5fe4-342f-f7fadd99dec5","fromProperty":"out-toVideos","toId":"abba5e5d-061a-73b2-5b58-7f3aa5b7f5e2","toProperty":"navigate"},{"fromId":"97acee87-0a98-5fe4-342f-f7fadd99dec5","fromProperty":"out-toClips","toId":"baa72ba2-df3a-84fa-66b4-b95f5f3775d0","toProperty":"navigate"},{"fromId":"dbec89ea-d1c8-afe0-6e10-1ba103d7ae48","fromProperty":"itemOutput-item name","toId":"97acee87-0a98-5fe4-342f-f7fadd99dec5","toProperty":"in-menuItem"}],"roots":[{"id":"20e9fc30-8ee2-8ed3-b4d3-4986299315d3","type":"Page","label":"Dashboard","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"dashboard","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"dashboard","index":32}],"children":[{"id":"0b7a449b-6c83-d385-e418-58e7902e260f","type":"/Global visual components/Header","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"7d11a8e0-ce6b-9976-d921-5b474f48de59","type":"Group","label":"Main container","parameters":{"backgroundColor":"Hive page grey"},"ports":[],"dynamicports":[],"children":[{"id":"be6d9428-5fd4-9a26-0041-d20934bdf475","type":"Group","label":"Dashboard","parameters":{"flexDirection":"row","paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"columnGap":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"31d37f7f-53e8-fa7a-41d8-57b7ee6db436","type":"Group","label":"Left","parameters":{"rowGap":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"4c1ed690-2083-0d7c-e026-30cc0946d829","type":"Group","variant":"Tile","label":"Recent projects","parameters":{"boxShadowEnabled":false,"borderRadius":{"value":10,"unit":"px"},"backgroundColor":"Hive header grey","paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"rowGap":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"b6812add-241f-de56-1326-ad02ac8c1f4c","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"72dcfe1c-1b87-6fd0-7291-7994213727c0","type":"Text","parameters":{"text":"Recent projects","sizeMode":"contentHeight","textStyle":"Title Medium"},"ports":[],"dynamicports":[],"children":[]},{"id":"bbec27a1-1000-fc64-88be-0e92dc0d1f92","type":"Text","label":"View all","parameters":{"text":"View all","sizeMode":"contentSize","textStyle":"Label Small"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"012191c1-d589-001c-4835-9d8c784ed43f","type":"For Each","parameters":{"items":"[\n    {\n        \"title\": \"Test project 1\",\n        \"client\": \"Gary Vee\",\n        \"deadline\": \"30th July 2024\"\n    },\n    {\n        \"title\": \"Test project 2\",\n        \"client\": \"Bogdan\",\n        \"deadline\": \"1st Aug 2024\"\n    }\n]","template":"/#Pages/dashboard/Project tile"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]},{"id":"93bbc898-b385-6ee4-750e-beb8b87e9097","type":"Group","variant":"Tile","label":"Buttons","parameters":{"paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"backgroundColor":"Hive header grey","borderRadius":{"value":10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"3085eaa7-3a41-55f8-2d76-ffcd9f0b70f6","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1","marginX":{"value":20,"unit":"px"},"marginY":{"value":20,"unit":"px"},"justifyContent":"flex-start"},"ports":[],"dynamicports":[],"children":[{"id":"dbec89ea-d1c8-afe0-6e10-1ba103d7ae48","type":"For Each","parameters":{"items":"[\n    {\n        \"title\": \"Clients\",\n        \"icon\": \"groups\"\n    },\n    {\n        \"title\": \"Projects\",\n        \"icon\": \"folder_copy\"\n    },\n    {\n        \"title\": \"Videos\",\n        \"icon\": \"video_library\"\n    },\n    {\n        \"title\": \"Clips\",\n        \"icon\": \"movie\"\n    }\n]","template":"/#Pages/dashboard/Menu tile"},"ports":[],"dynamicports":[{"name":"itemOutputSignal-item clicked","displayName":"item clicked","type":"signal","plug":"output","group":"Item Signals","index":6},{"name":"itemOutput-item name","displayName":"item name","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","group":"Item Outputs","index":7},{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":8}],"children":[]}]}]}]},{"id":"cd11efbb-2339-c826-89b0-abe6155ad1c3","type":"Group","label":"Right","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"87c96520-44a5-da42-bed9-c9259586126f","type":"Group","variant":"Tile","label":"Recent videos","parameters":{"rowGap":{"value":20,"unit":"px"}},"stateParameters":{},"stateTransitions":{},"defaultStateTransitions":{},"ports":[],"dynamicports":[],"children":[{"id":"8b95bdb6-30ca-4d3b-e2c5-ecab1a203d1f","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"5100e125-b8f0-9128-5560-7552f7d2e17c","type":"Text","label":"Recent videos","parameters":{"text":"Recent videos","sizeMode":"contentHeight","textStyle":"Title Medium"},"ports":[],"dynamicports":[],"children":[]},{"id":"057669b5-87a8-dc60-3899-b6bb58c69dce","type":"Text","label":"View all","parameters":{"text":"View all","sizeMode":"contentSize","textStyle":"Label Small"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"93e015d9-4037-7722-57a0-c1cdadab85af","type":"For Each","parameters":{"items":"[\n    {\n        \"title\": \"Test video 1\",\n        \"duration\": \"2m30s\"\n    },\n    {\n        \"title\": \"Test video 2\",\n        \"duration\": \"24s\"\n    }\n]","template":"/#Pages/dashboard/video tile"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]}]}]}]}]},{"id":"dbc86d80-6e69-568f-f1a4-8e0b453c8d14","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"97acee87-0a98-5fe4-342f-f7fadd99dec5","type":"JavaScriptFunction","label":"Button router","x":377.03899290325177,"y":657.4374061289901,"parameters":{"functionScript":"switch (Inputs.menuItem) {\n    case \"Clients\":\n    Outputs.toClients();\n    break;\n    \n    case \"Projects\":\n    Outputs.toProjects();\n    break;\n    \n    case \"Videos\":\n    Outputs.toVideos();\n    break;\n    \n    case \"Clips\":\n    Outputs.toClips();\n    break;\n    \n}"},"ports":[],"dynamicports":[{"name":"in-menuItem","displayName":"menuItem","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-toClients","displayName":"toClients","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-toProjects","displayName":"toProjects","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-toVideos","displayName":"toVideos","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-toClips","displayName":"toClips","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"94fc2188-72a2-b864-3132-0876e8b59a96","type":"RouterNavigate","label":"Clients","x":638.3463309677506,"y":589.3124687096633,"parameters":{"router":"Main","target":"/#Pages/clients"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"abba5e5d-061a-73b2-5b58-7f3aa5b7f5e2","type":"RouterNavigate","label":"Videos","x":637,"y":819,"parameters":{"router":"Main","target":"/#Pages/videos"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"baa72ba2-df3a-84fa-66b4-b95f5f3775d0","type":"RouterNavigate","label":"Clips","x":638,"y":924,"parameters":{"router":"Main","target":"/#Pages/clips"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"c8d872d7-53b7-aa10-a0df-0c76c0a1f553","type":"RouterNavigate","label":"Projects","x":638,"y":706,"parameters":{"router":"Main","target":"/#Pages/projects"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]}],"visualRoots":["20e9fc30-8ee2-8ed3-b4d3-4986299315d3"]}},{"name":"/#Pages/dashboard/Menu tile","id":"8ff05e27-6b21-61c1-8b31-13233733d472","graph":{"connections":[{"fromId":"330fd0f2-84ca-c21c-1061-dbc768710019","fromProperty":"prop-title","toId":"b96a5f25-b8a9-a548-57af-616121a19176","toProperty":"text"},{"fromId":"330fd0f2-84ca-c21c-1061-dbc768710019","fromProperty":"prop-icon","toId":"6bef67b1-3d42-fd8e-8fd7-662b691b166d","toProperty":"iconName"},{"fromId":"6bef67b1-3d42-fd8e-8fd7-662b691b166d","fromProperty":"iconObject","toId":"8c749d6a-c2fa-48fc-5c85-3c685445fe75","toProperty":"iconIconSource"},{"fromId":"b608fdc7-6d97-f614-e417-b315506a1fcf","fromProperty":"onClick","toId":"dda3374c-bed5-72ca-0c3b-e9cb722af8d6","toProperty":"item clicked"},{"fromId":"330fd0f2-84ca-c21c-1061-dbc768710019","fromProperty":"prop-title","toId":"dda3374c-bed5-72ca-0c3b-e9cb722af8d6","toProperty":"item name"}],"roots":[{"id":"b608fdc7-6d97-f614-e417-b315506a1fcf","type":"Group","x":0,"y":0,"parameters":{"rowGap":{"value":10,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"dynamicports":[],"children":[{"id":"b35f494b-55ad-44a2-5dd5-d8538454db36","type":"Group","parameters":{"backgroundColor":"Hive light purple","borderRadius":{"value":4,"unit":"px"},"height":{"value":100,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"8c749d6a-c2fa-48fc-5c85-3c685445fe75","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"video_library","codeAsClass":false},"iconSize":{"value":64,"unit":"px"},"alignY":"center","alignX":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"b96a5f25-b8a9-a548-57af-616121a19176","type":"Text","parameters":{"textAlignX":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"330fd0f2-84ca-c21c-1061-dbc768710019","type":"Model2","x":-414.5,"y":103,"parameters":{"idSource":"foreach","properties":"title,icon"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-title","displayName":"title","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"title Changed","name":"changed-title","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-icon","displayName":"icon","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"icon Changed","name":"changed-icon","index":10}],"children":[]},{"id":"6bef67b1-3d42-fd8e-8fd7-662b691b166d","type":"/Global logical components/Generate Google icon object","x":-181.5,"y":61,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"dda3374c-bed5-72ca-0c3b-e9cb722af8d6","type":"Component Outputs","x":247.33333333333337,"y":114.83333333333331,"parameters":{},"ports":[{"name":"item clicked","plug":"input","type":{"name":"*"},"index":1},{"name":"item name","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":["b608fdc7-6d97-f614-e417-b315506a1fcf"]}},{"name":"/#Pages/dashboard/Project tile","id":"f5fac5c8-300f-9b39-2220-18794aca54ff","graph":{"connections":[{"fromId":"45aec562-83c2-e72b-3e8d-d7e8b8140bc2","fromProperty":"prop-title","toId":"def1168d-60a1-cb6c-7dfd-e08d061c6abe","toProperty":"text"},{"fromId":"45aec562-83c2-e72b-3e8d-d7e8b8140bc2","fromProperty":"prop-client","toId":"e557e67a-2ef8-1c23-1754-3950a4894f7d","toProperty":"text"},{"fromId":"45aec562-83c2-e72b-3e8d-d7e8b8140bc2","fromProperty":"prop-deadline","toId":"4bf812bb-6246-21d1-6373-05f75f6e2d02","toProperty":"deadline"},{"fromId":"4bf812bb-6246-21d1-6373-05f75f6e2d02","fromProperty":"formatted","toId":"a934c82b-63f4-8806-bb9e-60fb969f58e8","toProperty":"text"}],"roots":[{"id":"b1b30579-e4ae-76f8-59fa-d39d1ca06f1c","type":"Group","x":0,"y":0,"parameters":{"flexDirection":"row","columnGap":{"value":10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"8912c4a6-ea41-3f12-ee5b-2c5f3276546c","type":"Image","parameters":{"src":"media/content-management.png","sizeMode":"explicit","width":{"value":50,"unit":"px"},"height":{"value":50,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"0915e9f5-da38-0351-9540-4d91bb4471d6","type":"Group","parameters":{"alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"def1168d-60a1-cb6c-7dfd-e08d061c6abe","type":"Text","parameters":{"textStyle":"Body Medium","fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf"},"ports":[],"dynamicports":[],"children":[]},{"id":"e557e67a-2ef8-1c23-1754-3950a4894f7d","type":"Text","parameters":{"fontFamily":"fonts/Istok_Web/IstokWeb-Italic.ttf"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"f5e18a89-afba-71f4-db8b-536de7f65bde","type":"Group","parameters":{"sizeMode":"contentSize","alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"a934c82b-63f4-8806-bb9e-60fb969f58e8","type":"Text","parameters":{"alignY":"center"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"45aec562-83c2-e72b-3e8d-d7e8b8140bc2","type":"Model2","x":-247.5,"y":54.5,"parameters":{"idSource":"foreach","properties":"title,client,deadline"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-title","displayName":"title","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"title Changed","name":"changed-title","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-client","displayName":"client","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"client Changed","name":"changed-client","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-deadline","displayName":"deadline","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"deadline Changed","name":"changed-deadline","index":12}],"children":[]},{"id":"4bf812bb-6246-21d1-6373-05f75f6e2d02","type":"String Format","x":-227.5,"y":278.5,"parameters":{"format":"Deadline: {deadline}"},"ports":[],"dynamicports":[{"name":"deadline","type":"string","plug":"input","index":2}],"children":[]}],"visualRoots":["b1b30579-e4ae-76f8-59fa-d39d1ca06f1c"]}},{"name":"/#Pages/dashboard/video tile","id":"5303f646-7e21-b8ff-2306-0460fa6bdbf0","graph":{"connections":[{"fromId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","fromProperty":"prop-title","toId":"c3c0d0cc-72ca-f80e-3bfd-a48435d6857d","toProperty":"text"},{"fromId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","fromProperty":"prop-duration","toId":"5d259caf-0291-a649-9b4d-4a7ffc7fb45f","toProperty":"text"}],"roots":[{"id":"b7fc0395-1dc6-cecd-6d20-e5ea55528af6","type":"Group","x":0,"y":0,"parameters":{"rowGap":{"value":10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"2f99ee22-f504-1c8b-6925-74da9525b269","type":"Image","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"%"},"height":{"value":200,"unit":"px"},"objectFit":"cover","src":"media/pexels-zhuhehuai-716276.jpg"},"ports":[],"dynamicports":[],"children":[]},{"id":"8a67c04a-33b1-b769-dcb7-c3103d97afda","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"df951a53-c189-01d0-335c-4b45453fa094","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":20,"unit":"px"},"alignItems":"center","alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"c3c0d0cc-72ca-f80e-3bfd-a48435d6857d","type":"Text","parameters":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]},{"id":"5d259caf-0291-a649-9b4d-4a7ffc7fb45f","type":"Text","parameters":{"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"062dcb63-cb5d-156a-6a61-a88020859120","type":"net.noodl.controls.button","parameters":{"label":"Download"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","type":"Model2","x":-261.74653401977866,"y":151.21589618611188,"parameters":{"properties":"title,duration","idSource":"foreach"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-title","displayName":"title","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"title Changed","name":"changed-title","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-duration","displayName":"duration","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"duration Changed","name":"changed-duration","index":10}],"children":[]}],"visualRoots":["b7fc0395-1dc6-cecd-6d20-e5ea55528af6"]}},{"name":"/#Pages/experiment","id":"7250f1de-7ef0-9cb5-3d99-998fc18354ee","graph":{"connections":[{"fromId":"b5e968f9-b1ef-7325-ed67-96865ef65c69","fromProperty":"result","toId":"7f41be0f-4bca-f24c-1ff7-8cab1d4595bf","toProperty":"modelId"},{"fromId":"cd8f2732-2f3c-6bbf-6662-5ed066442431","fromProperty":"onClick","toId":"cec55ac7-9655-e5db-8f63-09be6f463a29","toProperty":"Open"},{"fromId":"cec55ac7-9655-e5db-8f63-09be6f463a29","fromProperty":"Success","toId":"f00663a0-549d-3f4c-3b7e-f13edd1b64fe","toProperty":"saveValue"},{"fromId":"cec55ac7-9655-e5db-8f63-09be6f463a29","fromProperty":"error","toId":"f00663a0-549d-3f4c-3b7e-f13edd1b64fe","toProperty":"value"},{"fromId":"cec55ac7-9655-e5db-8f63-09be6f463a29","fromProperty":"fileData","toId":"b5e968f9-b1ef-7325-ed67-96865ef65c69","toProperty":"Data"},{"fromId":"cec55ac7-9655-e5db-8f63-09be6f463a29","fromProperty":"Do","toId":"b5e968f9-b1ef-7325-ed67-96865ef65c69","toProperty":"Do"}],"roots":[{"id":"7d209f7d-44ed-caef-7fb7-a48efe933276","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"experiment","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"experiment","index":32}],"children":[{"id":"cd8f2732-2f3c-6bbf-6662-5ed066442431","type":"net.noodl.controls.button","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"1cb90c5d-8965-cc47-a5d9-65ae251a841e","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"f00663a0-549d-3f4c-3b7e-f13edd1b64fe","type":"String","x":779.5,"y":117.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"b5e968f9-b1ef-7325-ed67-96865ef65c69","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","x":701.5,"y":-37.5,"parameters":{"collection":"Video","SDK Client to use":"Site SDK Client"},"ports":[],"dynamicports":[],"children":[]},{"id":"7f41be0f-4bca-f24c-1ff7-8cab1d4595bf","type":"Model2","x":1022.25,"y":-19.41666666666663,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"cec55ac7-9655-e5db-8f63-09be6f463a29","type":"/Global logical components/File upload script","x":330.25,"y":36,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["7d209f7d-44ed-caef-7fb7-a48efe933276"]}},{"name":"/#Pages/my-account","id":"26001f1f-81c3-dba0-6e39-ba1106f85c32","graph":{"connections":[],"roots":[{"id":"9368154b-e1cd-0bcb-7bee-d48e33bcc810","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"my-account","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"my-account","index":32}],"children":[]},{"id":"5129e1f2-91dc-eea4-0a9b-a8839b46aa34","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["9368154b-e1cd-0bcb-7bee-d48e33bcc810"]}},{"name":"/#Pages/projects","id":"5e1a7b43-3f44-24c1-9c4a-8e49e0ddd99a","graph":{"connections":[],"roots":[{"id":"f9e4a4b9-fe41-1a81-d1d0-7342c53a4f9d","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"projects","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"projects","index":32}],"children":[]},{"id":"9740f7a8-03ca-7050-0412-73a210f51ad3","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["f9e4a4b9-fe41-1a81-d1d0-7342c53a4f9d"]}},{"name":"/#Pages/video","id":"d5a3e455-7f3d-4425-8000-ecc4ba4ba1fe","graph":{"connections":[{"fromId":"fdf5ec6f-db0b-7bd1-6b67-c34ca454b99d","fromProperty":"pm-project","toId":"f10c3b76-e2fc-f5b5-6294-073f343db160","toProperty":"modelId"},{"fromId":"fdf5ec6f-db0b-7bd1-6b67-c34ca454b99d","fromProperty":"pm-project","toId":"cc685b21-4d7a-c96b-8d26-1855156cfce6","toProperty":"item ID"},{"fromId":"cc685b21-4d7a-c96b-8d26-1855156cfce6","fromProperty":"result","toId":"f10c3b76-e2fc-f5b5-6294-073f343db160","toProperty":"modelId"},{"fromId":"f10c3b76-e2fc-f5b5-6294-073f343db160","fromProperty":"prop-title","toId":"d89387f3-7357-304d-849d-2daa3d4608ca","toProperty":"title"},{"fromId":"f10c3b76-e2fc-f5b5-6294-073f343db160","fromProperty":"fetched","toId":"d89387f3-7357-304d-849d-2daa3d4608ca","toProperty":"run"},{"fromId":"f10c3b76-e2fc-f5b5-6294-073f343db160","fromProperty":"prop-title","toId":"6f164298-b279-bd77-6288-cf1aab040440","toProperty":"text"},{"fromId":"d89387f3-7357-304d-849d-2daa3d4608ca","fromProperty":"isTrueEv","toId":"cc685b21-4d7a-c96b-8d26-1855156cfce6","toProperty":"Do"},{"fromId":"fdf5ec6f-db0b-7bd1-6b67-c34ca454b99d","fromProperty":"pm-project","toId":"249edd9b-7308-b198-da1b-f00557b28d79","toProperty":"value"},{"fromId":"f10c3b76-e2fc-f5b5-6294-073f343db160","fromProperty":"prop-hasVideos","toId":"7ac06abf-6b31-09a3-883b-8afd83400549","toProperty":"in-InputArray"},{"fromId":"7ac06abf-6b31-09a3-883b-8afd83400549","fromProperty":"out-mainVideo","toId":"3c7d87c9-49d1-ca4a-4d1b-c4d25ac5361a","toProperty":"mainVideos"},{"fromId":"3c7d87c9-49d1-ca4a-4d1b-c4d25ac5361a","fromProperty":"result","toId":"f27e6f8a-7f26-9c11-d591-6d5291d549fa","toProperty":"modelId"},{"fromId":"f27e6f8a-7f26-9c11-d591-6d5291d549fa","fromProperty":"prop-videoUrl","toId":"34a3ad78-7c55-c6e4-070a-10d7f1036849","toProperty":"src"},{"fromId":"cc30d050-5c2f-a023-41b7-79f53dd78270","fromProperty":"switchedToOn","toId":"e16944e5-7cdb-4400-f80e-731608811a03","toProperty":"Do"},{"fromId":"f27e6f8a-7f26-9c11-d591-6d5291d549fa","fromProperty":"id","toId":"a8509411-e95e-2b3f-9dd6-e33359a97ff5","toProperty":"in-videoId"},{"fromId":"a8509411-e95e-2b3f-9dd6-e33359a97ff5","fromProperty":"out-filter","toId":"e16944e5-7cdb-4400-f80e-731608811a03","toProperty":"filter"},{"fromId":"edaf3597-b967-7416-7d4c-76c11702e584","fromProperty":"prop-rawJson","toId":"5899e6d1-1346-8597-82f7-a5920a9799ef","toProperty":"rawJson"},{"fromId":"e16944e5-7cdb-4400-f80e-731608811a03","fromProperty":"result","toId":"af64c6ae-5a0d-6eaf-df9f-91f840db348c","toProperty":"result"},{"fromId":"af64c6ae-5a0d-6eaf-df9f-91f840db348c","fromProperty":"result","toId":"edaf3597-b967-7416-7d4c-76c11702e584","toProperty":"modelId"},{"fromId":"5899e6d1-1346-8597-82f7-a5920a9799ef","fromProperty":"result","toId":"6d802626-5110-dfe6-fc4c-cd02de6e069e","toProperty":"result"},{"fromId":"6d802626-5110-dfe6-fc4c-cd02de6e069e","fromProperty":"result","toId":"fa766e20-8b53-686c-b34d-c8d60de7aa9b","toProperty":"items"},{"fromId":"cc685b21-4d7a-c96b-8d26-1855156cfce6","fromProperty":"result","toId":"249edd9b-7308-b198-da1b-f00557b28d79","toProperty":"value"},{"fromId":"249edd9b-7308-b198-da1b-f00557b28d79","fromProperty":"valueChanged","toId":"f10c3b76-e2fc-f5b5-6294-073f343db160","toProperty":"fetch"},{"fromId":"fdf5ec6f-db0b-7bd1-6b67-c34ca454b99d","fromProperty":"pm-project","toId":"d89387f3-7357-304d-849d-2daa3d4608ca","toProperty":"itemId"},{"fromId":"34a3ad78-7c55-c6e4-070a-10d7f1036849","fromProperty":"onTimeUpdate","toId":"9d6b5b8f-9947-89f9-0a3c-fd694290a8f2","toProperty":"value-playbackPosition"},{"fromId":"34a3ad78-7c55-c6e4-070a-10d7f1036849","fromProperty":"onTimeUpdate","toId":"3c016e0a-e5cd-9cac-aead-2b8df244b8f6","toProperty":"in-Seconds"},{"fromId":"edaf3597-b967-7416-7d4c-76c11702e584","fromProperty":"prop-rawJson","toId":"63f50dc9-d414-2fe5-b9f8-935ec64d8f78","toProperty":"rawJson"},{"fromId":"63f50dc9-d414-2fe5-b9f8-935ec64d8f78","fromProperty":"result","toId":"3b17b12e-ae56-45a1-13d1-f759a31bdd3a","toProperty":"items"}],"roots":[{"id":"080c5620-2f7b-3bb2-f156-3c76958e7bdd","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"video","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"video","index":32}],"children":[{"id":"907a0b81-fd26-fa60-54d1-294561cdae4e","type":"/Global visual components/Header","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"fa926851-65cc-0a5d-1fb9-027c5a00d3e0","type":"Group","label":"Main container","parameters":{"backgroundColor":"Hive page grey","paddingLeft":{"value":40,"unit":"px"},"paddingTop":{"value":40,"unit":"px"},"paddingRight":{"value":40,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"2f779670-4b0d-7ca9-c36d-0482d957169e","type":"Group","label":"Top tabs","parameters":{},"ports":[],"dynamicports":[],"children":[{"id":"6f164298-b279-bd77-6288-cf1aab040440","type":"Text","parameters":{"text":"Video title","textStyle":"Label Large"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"0b54ff4f-7ecb-5f15-98be-7ca0920415c6","type":"Group","label":"Middle section","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"6fc627f1-e14e-6567-a395-d42e8e7920f9","type":"Group","label":"Transcript","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"height":{"value":500,"unit":"px"},"scrollEnabled":true,"paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"boxShadowEnabled":true,"boxShadowInset":true,"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":2,"unit":"px"},"boxShadowColor":"#00000030"},"ports":[],"dynamicports":[],"children":[{"id":"fa766e20-8b53-686c-b34d-c8d60de7aa9b","type":"For Each","parameters":{"template":"/#Pages/video/paragraph item"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]},{"id":"f7ae4629-e16a-c928-6396-b2be9c1f44e9","type":"Group","label":"Video preview","parameters":{"width":{"value":480,"unit":"px"},"height":{"value":360,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"34a3ad78-7c55-c6e4-070a-10d7f1036849","type":"Video","parameters":{"sizeMode":"contentHeight","alignY":"top","controls":true},"ports":[],"dynamicports":[],"children":[]}]},{"id":"e00f4d7f-5b40-9500-1540-c580fcbedaf3","type":"Group","label":"Video settings","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"3755ef86-c046-3436-6b45-f1020b14573d","type":"Group","label":"Bottom bar","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"fdf5ec6f-db0b-7bd1-6b67-c34ca454b99d","type":"PageInputs","x":-179,"y":-103,"parameters":{"pathParams":"project"},"ports":[],"dynamicports":[{"name":"pm-project","displayName":"project","type":"*","plug":"output","group":"Parameters","index":2}],"children":[]},{"id":"f10c3b76-e2fc-f5b5-6294-073f343db160","type":"Model2","label":"Local video","x":-289,"y":120.5,"parameters":{"properties":"title,hasVideos"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-title","displayName":"title","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"title Changed","name":"changed-title","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-hasVideos","displayName":"hasVideos","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"hasVideos Changed","name":"changed-hasVideos","index":10}],"children":[]},{"id":"cc685b21-4d7a-c96b-8d26-1855156cfce6","type":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","x":-488,"y":-59.5,"parameters":{"collection":"Project","SDK Client to use":"Site SDK Client","limit":1,"fields":"*,hasVideos.Video_id.*","Get all fields":false},"ports":[],"dynamicports":[],"children":[]},{"id":"d89387f3-7357-304d-849d-2daa3d4608ca","type":"Expression","x":-574,"y":57.5,"parameters":{"expression":"title == \"\" && itemId != \"\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"title","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"itemId","type":{"name":"*","editAsType":"string"},"plug":"input","index":8}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"f27e6f8a-7f26-9c11-d591-6d5291d549fa","type":"Model2","x":-397,"y":396.5,"parameters":{"properties":"videoUrl"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-videoUrl","displayName":"videoUrl","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"videoUrl Changed","name":"changed-videoUrl","index":8}],"children":[]},{"id":"249edd9b-7308-b198-da1b-f00557b28d79","type":"Value Changed","x":-227.875,"y":5.75,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"cc30d050-5c2f-a023-41b7-79f53dd78270","type":"Switch","x":-426.6972222222222,"y":505.6333333333333,"parameters":{"onFromStart":true},"ports":[],"dynamicports":[],"children":[]},{"id":"7ac06abf-6b31-09a3-883b-8afd83400549","type":"JavaScriptFunction","label":"Extract Video IDs from Array","x":-596,"y":211,"parameters":{"functionScript":"const inputArray = Inputs.InputArray || [];\nif (!inputArray) return;\n\ntry {\n  const videoIds = inputArray.map(item => item.Video_id);\n  Outputs.Videos = videoIds;\n  Outputs.mainVideo = videoIds.filter(item => item.type === \"main\");\n  Outputs.introVideo = videoIds.filter(item => item.type === \"intro\") || '';\n  Outputs.outroVideo = videoIds.filter(item => item.type === \"outro\") || '';\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}"},"ports":[],"dynamicports":[{"name":"in-InputArray","displayName":"InputArray","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Videos","displayName":"Videos","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-mainVideo","displayName":"mainVideo","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-introVideo","displayName":"introVideo","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-outroVideo","displayName":"outroVideo","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":11}],"children":[],"metadata":{"prompt":{"history":[{"content":"Take an input array of objects, output an array of only the 'Video_id' field of each object","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const inputArray = Inputs.InputArray || [];\nif (!inputArray) return;\n\ntry {\n  const videoIds = inputArray.map(item => item.Video_id);\n  Outputs.VideoIds = videoIds;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"snowflakeId":"0191296dc201-xxa92v","type":"user"},{"type":"assistant","content":"\nThis function takes an array of objects from the <span style=\"color: var(--base-color-yellow-400);\">Inputs.InputArray</span> and creates a new array containing only the 'Video_id' field from each object. \n\nIf the operation is successful, it sends the new array to the <span style=\"color: var(--base-color-yellow-400);\">Outputs.VideoIds</span> output and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> signal. \n\nIf an error occurs during the process, it sends the error message to the <span style=\"color: var(--base-color-yellow-400);\">Outputs.error</span> output and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Failure</span> signal.\n","snowflakeId":"0191296de374-u39893","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"3c7d87c9-49d1-ca4a-4d1b-c4d25ac5361a","type":"Expression","x":-605.6063131313131,"y":339.1333333333333,"parameters":{"expression":"mainVideos[0]"},"ports":[],"dynamicports":[{"group":"Parameters","name":"mainVideos","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"e16944e5-7cdb-4400-f80e-731608811a03","type":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","x":-177.60631313131307,"y":347.1333333333333,"parameters":{"Item Get type":"Get Multiple by Filter","collection":"Transcript","limit":1,"search":"","SDK Client to use":"Site SDK Client"},"ports":[],"dynamicports":[],"children":[]},{"id":"edaf3597-b967-7416-7d4c-76c11702e584","type":"Model2","x":-166.60631313131307,"y":596.1333333333333,"parameters":{"properties":"rawJson"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-rawJson","displayName":"rawJson","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"rawJson Changed","name":"changed-rawJson","index":8}],"children":[]},{"id":"a8509411-e95e-2b3f-9dd6-e33359a97ff5","type":"JavaScriptFunction","x":-389.3639069264069,"y":312.46428571428567,"parameters":{"functionScript":"Outputs.filter = {\n    belongsToVideo: {\n        _eq: Inputs.videoId\n    }\n}"},"ports":[],"dynamicports":[{"name":"in-videoId","displayName":"videoId","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":5}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"5899e6d1-1346-8597-82f7-a5920a9799ef","type":"Expression","x":-612.0580821955822,"y":588.5959706959707,"parameters":{"expression":"rawJson.data.results.channels[0].alternatives[0].paragraphs"},"ports":[],"dynamicports":[{"group":"Parameters","name":"rawJson","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"alternatives","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"paragraphs","type":{"name":"*","editAsType":"string"},"plug":"input","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"af64c6ae-5a0d-6eaf-df9f-91f840db348c","type":"Expression","x":-174.0580821955822,"y":484.59597069597066,"parameters":{"expression":"result[0]"},"ports":[],"dynamicports":[{"group":"Parameters","name":"result","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"6d802626-5110-dfe6-fc4c-cd02de6e069e","type":"Expression","x":-359.0580821955822,"y":628.5959706959707,"parameters":{"expression":"result.paragraphs"},"ports":[],"dynamicports":[{"group":"Parameters","name":"result","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"9d6b5b8f-9947-89f9-0a3c-fd694290a8f2","type":"net.noodl.ComponentObject","x":336.8169178044179,"y":589.5647206959707,"parameters":{"properties":"playbackPosition,clickedWordStart,clickedWord"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-playbackPosition","displayName":"playbackPosition","index":4},{"type":"signal","plug":"output","group":"Changed Events","displayName":"playbackPosition Changed","name":"changed-playbackPosition","index":5},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-clickedWordStart","displayName":"clickedWordStart","index":6},{"type":"signal","plug":"output","group":"Changed Events","displayName":"clickedWordStart Changed","name":"changed-clickedWordStart","index":7},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-clickedWord","displayName":"clickedWord","index":8},{"type":"signal","plug":"output","group":"Changed Events","displayName":"clickedWord Changed","name":"changed-clickedWord","index":9}],"children":[]},{"id":"3c016e0a-e5cd-9cac-aead-2b8df244b8f6","type":"JavaScriptFunction","label":"Format Seconds to Time","x":360,"y":713,"parameters":{"functionScript":"const seconds = Math.round(Inputs.Seconds) || 0;\n\n// Check if the input is a number\nif (isNaN(seconds)) throw new Error('Invalid input. Please input a number');\n\n// Calculate hours, minutes and seconds\nconst hours = Math.floor(seconds / 3600);\nconst minutes = Math.floor((seconds % 3600) / 60);\nconst remainingSeconds = seconds % 60;\n\n// Format the time as HH:MM:SS\nconst formattedTime = [hours, minutes, remainingSeconds]\n  .map(unit => unit.toString().padStart(2, '0')) // Pad the time units with leading zeros\n  .join(':');\n\nOutputs.FormattedTime = formattedTime;\nOutputs.Success();\n"},"ports":[],"dynamicports":[{"name":"in-Seconds","displayName":"Seconds","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-FormattedTime","displayName":"FormattedTime","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"prompt":{"history":[{"content":"Format an input number of seconds as HH:MM:SS so 130 seconds would be 00:02:10","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const seconds = Inputs.Seconds || 0;\n\n// Check if the input is a number\nif (isNaN(seconds)) throw new Error('Invalid input. Please input a number');\n\n// Calculate hours, minutes and seconds\nconst hours = Math.floor(seconds / 3600);\nconst minutes = Math.floor((seconds % 3600) / 60);\nconst remainingSeconds = seconds % 60;\n\n// Format the time as HH:MM:SS\nconst formattedTime = [hours, minutes, remainingSeconds]\n  .map(unit => unit.toString().padStart(2, '0')) // Pad the time units with leading zeros\n  .join(':');\n\nOutputs.FormattedTime = formattedTime;\nOutputs.Success();\n"},"snowflakeId":"01912c920db5-ikkemh","type":"user"},{"type":"assistant","content":"\nThis function takes an input number of seconds and formats it into a time string in the format of HH:MM:SS. \n\nThe <span style=\"color: var(--base-color-yellow-400);\">Inputs.Seconds</span> input is the number of seconds to be formatted. The function first checks if the input is a number. If not, it throws an error. \n\nThen, it calculates the hours, minutes, and remaining seconds from the input number. Each unit of time is padded with leading zeros to ensure a two-digit format. \n\nThe units are then joined with a colon (:) to form the time string. The formatted time string is set as the <span style=\"color: var(--base-color-yellow-400);\">Outputs.FormattedTime</span> output. \n\nFinally, the function triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal to indicate that the operation was successful.\n","snowflakeId":"01912c922a9b-m0dcw7","metadata":{}},{"content":"Round the seconds value to an integer ","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const seconds = Math.round(Inputs.Seconds) || 0;\n\n// Check if the input is a number\nif (isNaN(seconds)) throw new Error('Invalid input. Please input a number');\n\n// Calculate hours, minutes and seconds\nconst hours = Math.floor(seconds / 3600);\nconst minutes = Math.floor((seconds % 3600) / 60);\nconst remainingSeconds = seconds % 60;\n\n// Format the time as HH:MM:SS\nconst formattedTime = [hours, minutes, remainingSeconds]\n  .map(unit => unit.toString().padStart(2, '0')) // Pad the time units with leading zeros\n  .join(':');\n\nOutputs.FormattedTime = formattedTime;\nOutputs.Success();\n"},"snowflakeId":"01912c92b3b4-ux39sx","type":"user"},{"type":"assistant","content":"\nThis function takes an input of seconds and converts it into a time format (HH:MM:SS). \n\nThe function first rounds the <span style=\"color: var(--base-color-yellow-400);\">Inputs.Seconds</span> to the nearest integer using the Math.round() function. It then checks if the input is a number, throwing an error if it is not. \n\nThe function calculates the hours, minutes, and remaining seconds from the input seconds. It then formats these values into a time string, padding each unit with leading zeros if necessary. \n\nThe formatted time is then set as the <span style=\"color: var(--base-color-yellow-400);\">Outputs.FormattedTime</span> and the function signals a successful operation with the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output.\n","snowflakeId":"01912c92d4a8-p6zgdo","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"3b17b12e-ae56-45a1-13d1-f759a31bdd3a","type":"Collection2","x":-231.33957762916089,"y":781.200013990639,"parameters":{"collectionId":"videoWords"},"ports":[],"dynamicports":[],"children":[]},{"id":"63f50dc9-d414-2fe5-b9f8-935ec64d8f78","type":"Expression","x":-606,"y":760,"parameters":{"expression":"rawJson.data.results.channels[0].alternatives[0].words"},"ports":[],"dynamicports":[{"group":"Parameters","name":"rawJson","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"alternatives","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"words","type":{"name":"*","editAsType":"string"},"plug":"input","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"90d01df3-049e-8b57-c8af-917c0fdc60eb","type":"Collection2","x":296.3774012522972,"y":34.79001329110707,"parameters":{"collectionId":"paragraphSelection"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["080c5620-2f7b-3bb2-f156-3c76958e7bdd"],"comments":[{"text":"Get isn't working because of failure of the User / Site SDK \"Directus site client has not been set up!\"","width":267,"height":212,"fill":"transparent","x":-523,"y":-143,"id":"ad3ea120-2d40-243a-e189-39f0c06c6ca9","color":"danger"}]}},{"name":"/#Pages/video/paragraph item","id":"614c6baa-a309-47c9-7cc4-ebdbea8b490e","graph":{"connections":[{"fromId":"1b279648-848c-8aeb-c99b-fe2647cc0ffa","fromProperty":"prop-sentences","toId":"fc64cc59-aadb-c23f-2889-d58fa2097852","toProperty":"items"},{"fromId":"534eccd2-a401-147c-f7ee-1594d00f7322","fromProperty":"items","toId":"1045d667-ff0b-12f7-1253-b87c9820650e","toProperty":"in-Array"},{"fromId":"1b279648-848c-8aeb-c99b-fe2647cc0ffa","fromProperty":"prop-start","toId":"1045d667-ff0b-12f7-1253-b87c9820650e","toProperty":"in-Start"},{"fromId":"1b279648-848c-8aeb-c99b-fe2647cc0ffa","fromProperty":"prop-end","toId":"1045d667-ff0b-12f7-1253-b87c9820650e","toProperty":"in-End"},{"fromId":"1045d667-ff0b-12f7-1253-b87c9820650e","fromProperty":"out-FilteredArray","toId":"fc64cc59-aadb-c23f-2889-d58fa2097852","toProperty":"items"},{"fromId":"1b279648-848c-8aeb-c99b-fe2647cc0ffa","fromProperty":"id","toId":"19cbed3d-f461-bb76-3ba3-eb586fc01795","toProperty":"modifyId"},{"fromId":"1b279648-848c-8aeb-c99b-fe2647cc0ffa","fromProperty":"id","toId":"14733596-b03e-ad6d-366e-2bf14cc9d3ef","toProperty":"modifyId"},{"fromId":"fa6eb96d-52e7-38e9-3e64-f7345d3dfb13","fromProperty":"reached-added","toId":"19cbed3d-f461-bb76-3ba3-eb586fc01795","toProperty":"add"},{"fromId":"fa6eb96d-52e7-38e9-3e64-f7345d3dfb13","fromProperty":"reached-notAdded","toId":"14733596-b03e-ad6d-366e-2bf14cc9d3ef","toProperty":"remove"}],"roots":[{"id":"f189f511-e269-4a77-ef9a-3dfde74c1937","type":"Group","x":0,"y":0,"parameters":{"flexDirection":"row","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"Grey - 600","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"f6a72284-2b18-c075-fe04-8f9932f53681","type":"Group","label":"Actions","parameters":{"sizeMode":"contentWidth","justifyContent":"center","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"8ce7af09-36a7-61c6-1e38-9e3e26452442","type":"/Global visual components/Pretty icon","parameters":{"icon":{"class":"material-icons","code":"add","codeAsClass":false}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"88bb4f18-1a2b-851a-17d7-649e38285556","type":"Group","parameters":{"cssClassName":"masonry-grid","flexDirection":"column","paddingRight":{"value":10,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"fc64cc59-aadb-c23f-2889-d58fa2097852","type":"For Each","parameters":{"template":"/#Pages/video/paragraph item/sentence item/word item"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]}]},{"id":"1b279648-848c-8aeb-c99b-fe2647cc0ffa","type":"Model2","x":-292,"y":-56.5,"parameters":{"idSource":"foreach","properties":"sentences,start,end"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-sentences","displayName":"sentences","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"sentences Changed","name":"changed-sentences","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-start","displayName":"start","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"start Changed","name":"changed-start","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-end","displayName":"end","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"end Changed","name":"changed-end","index":12}],"children":[]},{"id":"534eccd2-a401-147c-f7ee-1594d00f7322","type":"Collection2","x":-445,"y":168,"parameters":{"collectionId":"videoWords"},"ports":[],"dynamicports":[],"children":[]},{"id":"1045d667-ff0b-12f7-1253-b87c9820650e","type":"JavaScriptFunction","label":"Filter Array by Range","x":-236,"y":144,"parameters":{"functionScript":"const array = Inputs.Array || [];\nconst start = Inputs.Start || 0;\nconst end = Inputs.End || Infinity;\n\ntry {\n  const filteredArray = array.filter(item => item.start >= start && item.start < end);\n  Outputs.FilteredArray = filteredArray;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[],"dynamicports":[{"name":"in-Array","displayName":"Array","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Start","displayName":"Start","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-End","displayName":"End","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-FilteredArray","displayName":"FilteredArray","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"prompt":{"history":[{"content":"filter out items from an input array that have a 'start' field greater than or equal to an input start integer, and also the same 'start' field is less than the 'end' integer input","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const array = Inputs.Array || [];\nconst start = Inputs.Start || 0;\nconst end = Inputs.End || Infinity;\n\ntry {\n  const filteredArray = array.filter(item => item.start >= start && item.start < end);\n  Outputs.FilteredArray = filteredArray;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"snowflakeId":"01913208a788-j66to9","type":"user"},{"type":"assistant","content":"\nThis function filters an array based on a specified range. It takes an <span style=\"color: var(--base-color-yellow-400);\">Inputs.Array</span>, <span style=\"color: var(--base-color-yellow-400);\">Inputs.Start</span>, and <span style=\"color: var(--base-color-yellow-400);\">Inputs.End</span> as inputs. The function goes through each item in the array and checks if the 'start' field of the item is greater than or equal to the 'Start' input and less than the 'End' input. \n\nThe filtered array is then sent to the <span style=\"color: var(--base-color-yellow-400);\">Outputs.FilteredArray</span> output. If the operation is successful, it triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal. \n\nIf there's an error during the operation, it sets the <span style=\"color: var(--base-color-yellow-400);\">Outputs.error</span> output with the error message and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Failure</span> output signal.\n","snowflakeId":"01913208d5ce-li52w7","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"7ae49efb-1634-95bd-cba0-984ce38e39e8","type":"CSS Definition","x":5.25,"y":-99.375,"parameters":{"style":"/* Apply this CSS to the parent container of the Repeater items */\n.masonry-grid {\n  display:flex !important; /* Uses flex to allow columns to dynamically size based on the width of their children */\n  flex-wrap: wrap; /* Wraps items that overflow the width of the container */\n  flex-direction: row !important; /* Override the default column direction */\n  gap: 0.05rem; /* Horitontal gap between items */\n  align-items: flex-start !important; /* Keeps the row items left aligned */\n}\n\n/* Apply this CSS to each item in the Repeater */\n.masonry-grid-item {\n  flex: 0 0 auto; /* Prevent items from stretching */\n  break-inside: avoid; /* Avoids breaking items across rows */\n  margin-bottom: 0.3rem; /* Adjust the gap between rows as needed */\n  min-width: 0px !important; /* Makes sure the items shrink down to their text width */\n}\n"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["style"]}}},{"id":"19cbed3d-f461-bb76-3ba3-eb586fc01795","type":"CollectionInsert","x":597.95,"y":-73.77499999999998,"parameters":{"collectionId":"paragraphSelection"},"ports":[],"dynamicports":[],"children":[]},{"id":"14733596-b03e-ad6d-366e-2bf14cc9d3ef","type":"CollectionRemove","x":605.95,"y":79.22500000000002,"parameters":{"collectionId":"paragraphSelection"},"ports":[],"dynamicports":[],"children":[]},{"id":"fa6eb96d-52e7-38e9-3e64-f7345d3dfb13","type":"States","x":384.95000000000005,"y":39.22500000000002,"parameters":{"states":"added,notAdded","currentState":"notAdded","useTransitions":false},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To added","name":"to-added","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At added","name":"at-added","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached added","name":"reached-added","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To notAdded","name":"to-notAdded","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At notAdded","name":"at-notAdded","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached notAdded","name":"reached-notAdded","group":"Current state","index":11},{"plug":"input","type":{"name":"enum","enums":["added","notAdded"]},"group":"States","displayName":"State","name":"currentState","default":"added","index":12}],"children":[]},{"id":"645e1d41-dd44-5452-562b-b0555df1aa42","type":"Collection2","x":292.95000000000005,"y":-131.77499999999998,"parameters":{"collectionId":"paragraphSelection"},"ports":[],"dynamicports":[],"children":[]},{"id":"b21a321a-b7fe-3aec-c635-04cfb8800df7","type":"Filter Collection","x":327.95000000000005,"y":-45.77499999999998,"parameters":{},"ports":[],"dynamicports":[{"type":"boolean","plug":"input","group":"Limit","name":"filterEnableLimit","displayName":"Use limit","index":7},{"type":{"name":"stringlist","allowEditOnly":true},"plug":"input","group":"Filter","name":"filterFilter","displayName":"Filter","index":8},{"type":{"name":"stringlist","allowEditOnly":true},"plug":"input","group":"Sort","name":"filterSort","displayName":"Sort","index":9}],"children":[]}],"visualRoots":["f189f511-e269-4a77-ef9a-3dfde74c1937"]}},{"name":"/#Pages/video/paragraph item/sentence item","id":"e09ade0a-f1fd-46a3-310a-f4adde2421bc","graph":{"connections":[],"roots":[{"id":"0e29af49-bcae-0877-e3cd-8df5e75439bd","type":"Group","x":0,"y":0,"parameters":{"paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"alignX":"left"},"ports":[],"dynamicports":[],"children":[{"id":"fcc822f8-90a9-4578-0921-922e0d98120e","type":"net.noodl.visual.columns","parameters":{"layoutString":"1 1 1 1 1 1 1 1 1 1 1 1","marginY":{"value":0,"unit":"px"},"marginX":{"value":0,"unit":"px"},"minWidth":{"value":0,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"d3874f27-c2da-0a1f-e31e-30caa4fe4f6b","type":"For Each","parameters":{"template":"/#Pages/video/paragraph item/sentence item/word item"},"ports":[],"dynamicports":[{"name":"inputMappingScript","type":{"name":"string","codeeditor":"javascript"},"displayName":"Script","group":"Input Mapping","default":"// Here you add mappings between the properties of the item objects and the inputs of the components.\n// 'myComponentInput': 'myObjectProperty',\n// 'anotherComponentInput': function () { return object.get('someProperty') + ' ' + object.get('otherProp') }\n// These are the default mappings based on the selected template component.\nmap({\n})\n","plug":"input","index":6}],"children":[]}]}]},{"id":"38a3601f-324f-a321-689c-0cd1030de383","type":"Model2","x":-193,"y":-1.5,"parameters":{"idSource":"foreach","properties":"text,start,end"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-text","displayName":"text","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"text Changed","name":"changed-text","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-start","displayName":"start","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"start Changed","name":"changed-start","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-end","displayName":"end","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"end Changed","name":"changed-end","index":12}],"children":[]}],"visualRoots":["0e29af49-bcae-0877-e3cd-8df5e75439bd"]}},{"name":"/#Pages/video/paragraph item/sentence item/word item","id":"1e926e4b-1724-35fe-fe50-75816e2dffec","graph":{"connections":[{"fromId":"5047e239-a5d4-deb6-4d51-e11503ccade2","fromProperty":"prop-punctuated_word","toId":"942b7088-84b6-1891-6846-73be39fecc2a","toProperty":"text"},{"fromId":"88440e9d-acab-8674-d61e-20a8a8bbabfa","fromProperty":"value-playbackPosition","toId":"c70ac671-cb87-c6a4-94eb-fec1260ade20","toProperty":"playbackPosition"},{"fromId":"c70ac671-cb87-c6a4-94eb-fec1260ade20","fromProperty":"isTrueEv","toId":"802af203-4ca5-25ce-ae28-5a3f8939344f","toProperty":"to-highlight"},{"fromId":"c70ac671-cb87-c6a4-94eb-fec1260ade20","fromProperty":"isFalseEv","toId":"802af203-4ca5-25ce-ae28-5a3f8939344f","toProperty":"to-default"},{"fromId":"5047e239-a5d4-deb6-4d51-e11503ccade2","fromProperty":"prop-start","toId":"c70ac671-cb87-c6a4-94eb-fec1260ade20","toProperty":"start"},{"fromId":"5047e239-a5d4-deb6-4d51-e11503ccade2","fromProperty":"prop-end","toId":"c70ac671-cb87-c6a4-94eb-fec1260ade20","toProperty":"end"},{"fromId":"802af203-4ca5-25ce-ae28-5a3f8939344f","fromProperty":"fontColour","toId":"942b7088-84b6-1891-6846-73be39fecc2a","toProperty":"color"},{"fromId":"802af203-4ca5-25ce-ae28-5a3f8939344f","fromProperty":"backgroundColour","toId":"65c91246-abf5-788a-a17a-581cfdf24124","toProperty":"backgroundColor"},{"fromId":"5047e239-a5d4-deb6-4d51-e11503ccade2","fromProperty":"prop-start","toId":"41197707-3551-d5e3-1017-4d5d0d21967f","toProperty":"prop-clickedWordStart"},{"fromId":"65c91246-abf5-788a-a17a-581cfdf24124","fromProperty":"onClick","toId":"41197707-3551-d5e3-1017-4d5d0d21967f","toProperty":"store"},{"fromId":"65c91246-abf5-788a-a17a-581cfdf24124","fromProperty":"onClick","toId":"41197707-3551-d5e3-1017-4d5d0d21967f","toProperty":"prop-clickedWord"}],"roots":[{"id":"65c91246-abf5-788a-a17a-581cfdf24124","type":"Group","x":0,"y":0,"parameters":{"sizeMode":"contentSize","marginLeft":{"value":4,"unit":"px"},"cssClassName":"masonry-grid-item"},"ports":[],"dynamicports":[],"children":[{"id":"942b7088-84b6-1891-6846-73be39fecc2a","type":"Text","parameters":{"sizeMode":"contentSize"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"5047e239-a5d4-deb6-4d51-e11503ccade2","type":"Model2","x":-243.5,"y":18,"parameters":{"idSource":"foreach","properties":"punctuated_word,start,end,confidence"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-punctuated_word","displayName":"punctuated_word","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"punctuated_word Changed","name":"changed-punctuated_word","index":8},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-start","displayName":"start","index":9},{"type":"signal","plug":"output","group":"Changed Events","displayName":"start Changed","name":"changed-start","index":10},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-end","displayName":"end","index":11},{"type":"signal","plug":"output","group":"Changed Events","displayName":"end Changed","name":"changed-end","index":12},{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-confidence","displayName":"confidence","index":13},{"type":"signal","plug":"output","group":"Changed Events","displayName":"confidence Changed","name":"changed-confidence","index":14}],"children":[]},{"id":"88440e9d-acab-8674-d61e-20a8a8bbabfa","type":"net.noodl.ParentComponentObject","x":-104,"y":188,"parameters":{"properties":"playbackPosition"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"value-playbackPosition","displayName":"playbackPosition","index":4},{"type":"signal","plug":"output","group":"Changed Events","displayName":"playbackPosition Changed","name":"changed-playbackPosition","index":5}],"children":[]},{"id":"802af203-4ca5-25ce-ae28-5a3f8939344f","type":"States","x":281,"y":47,"parameters":{"states":"highlight,default","currentState":"default","values":"fontColour,backgroundColour","useTransitions":false,"type-fontColour":"color","type-backgroundColour":"color","value-highlight-fontColour":"#D18ED3","value-highlight-backgroundColour":"#00000019","value-default-fontColour":"Primary Light","value-default-backgroundColour":"transparent"},"ports":[],"dynamicports":[{"type":{"name":"color","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"fontColour","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"fontColour","name":"type-fontColour","index":7},{"type":{"name":"color","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"backgroundColour","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"backgroundColour","name":"type-backgroundColour","index":9},{"plug":"input","type":"color","group":"highlight Values","name":"value-highlight-fontColour","displayName":"fontColour","editorName":"highlight|fontColour","index":10},{"plug":"input","type":"color","group":"highlight Values","name":"value-highlight-backgroundColour","displayName":"backgroundColour","editorName":"highlight|backgroundColour","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To highlight","name":"to-highlight","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At highlight","name":"at-highlight","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached highlight","name":"reached-highlight","group":"Current state","index":14},{"plug":"input","type":"color","group":"default Values","name":"value-default-fontColour","displayName":"fontColour","editorName":"default|fontColour","index":15},{"plug":"input","type":"color","group":"default Values","name":"value-default-backgroundColour","displayName":"backgroundColour","editorName":"default|backgroundColour","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To default","name":"to-default","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At default","name":"at-default","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached default","name":"reached-default","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["highlight","default"]},"group":"States","displayName":"State","name":"currentState","default":"highlight","index":20}],"children":[]},{"id":"c70ac671-cb87-c6a4-94eb-fec1260ade20","type":"Expression","x":100,"y":257,"parameters":{"expression":"playbackPosition >= start && playbackPosition < end"},"ports":[],"dynamicports":[{"group":"Parameters","name":"playbackPosition","type":{"name":"*","editAsType":"string"},"plug":"input","index":7},{"group":"Parameters","name":"start","type":{"name":"*","editAsType":"string"},"plug":"input","index":8},{"group":"Parameters","name":"end","type":{"name":"*","editAsType":"string"},"plug":"input","index":9}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"41197707-3551-d5e3-1017-4d5d0d21967f","type":"net.noodl.SetParentComponentObjectProperties","x":6.75,"y":-171,"parameters":{"properties":"clickedWordStart,clickedWord","type-clickedWordStart":"number"},"ports":[],"dynamicports":[{"type":{"name":"number"},"plug":"input","group":"Property Values","displayName":"clickedWordStart","name":"prop-clickedWordStart","index":3},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"clickedWordStart","default":"*","name":"type-clickedWordStart","index":4},{"type":{"name":"*"},"plug":"input","group":"Property Values","displayName":"clickedWord","name":"prop-clickedWord","index":5},{"type":{"name":"enum","enums":[{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Number","value":"number"},{"label":"Date","value":"date"},{"label":"Array","value":"array"},{"label":"Object","value":"object"},{"label":"Any","value":"*"}],"allowEditOnly":true},"plug":"input","group":"Property Types","displayName":"clickedWord","default":"*","name":"type-clickedWord","index":6}],"children":[]}],"visualRoots":["65c91246-abf5-788a-a17a-581cfdf24124"]}},{"name":"/#Pages/videos","id":"46996fe3-0776-941a-9601-1578fbf612f5","graph":{"connections":[],"roots":[{"id":"dacb9e5d-f2fc-a4aa-91f7-13c7613f3937","type":"Page","x":0,"y":0,"parameters":{},"ports":[],"dynamicports":[{"name":"title","displayName":"Title","type":"string","group":"General","plug":"input","default":"videos","index":31},{"name":"urlPath","displayName":"Url Path","type":"string","group":"General","plug":"input","default":"videos","index":32}],"children":[{"id":"ce5b3928-7755-aafa-954c-a37e654cf2c8","type":"/Global visual components/Header","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"44625704-12de-b231-1ae2-bbf79ff684e0","type":"Group","label":"Main container","parameters":{"backgroundColor":"Hive page grey"},"ports":[],"dynamicports":[],"children":[{"id":"eadf76fd-b924-4f13-74e5-cbc786694e27","type":"/#Pages/videos/New video container","parameters":{},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"1ac0007c-9543-820d-ab1a-70e40d637b0a","type":"PageInputs","x":-100,"y":-50,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":["dacb9e5d-f2fc-a4aa-91f7-13c7613f3937"]}},{"name":"/#Pages/videos/New video container","id":"87cf3391-04f7-2b01-166e-cd0d2204816e","graph":{"connections":[{"fromId":"51219d71-15f8-5e73-cb22-c118d1769eb9","fromProperty":"record ID","toId":"fe933154-bb1e-dba8-c226-e46a7bcdf331","toProperty":"in-mainVideoId"},{"fromId":"ba8da912-093a-111d-a5a4-c15e605d196f","fromProperty":"record ID","toId":"fe933154-bb1e-dba8-c226-e46a7bcdf331","toProperty":"in-introId"},{"fromId":"ec3880ce-1d7d-a5f7-1e88-303d89c1212d","fromProperty":"record ID","toId":"fe933154-bb1e-dba8-c226-e46a7bcdf331","toProperty":"in-outroId"},{"fromId":"0b02ef5d-fc2c-a39f-b984-0fc74f024234","fromProperty":"fileData","toId":"23514da6-826d-a249-f8a0-c320be8f461a","toProperty":"object"},{"fromId":"0b02ef5d-fc2c-a39f-b984-0fc74f024234","fromProperty":"Success","toId":"23514da6-826d-a249-f8a0-c320be8f461a","toProperty":"Do"},{"fromId":"23514da6-826d-a249-f8a0-c320be8f461a","fromProperty":"Success","toId":"ec3880ce-1d7d-a5f7-1e88-303d89c1212d","toProperty":"Do"},{"fromId":"c4ce6d97-c976-57f6-474c-22248874ac62","fromProperty":"Success","toId":"4bb5b27f-d588-0224-966f-017e4e76c902","toProperty":"Do"},{"fromId":"c4ce6d97-c976-57f6-474c-22248874ac62","fromProperty":"fileData","toId":"4bb5b27f-d588-0224-966f-017e4e76c902","toProperty":"object"},{"fromId":"4bb5b27f-d588-0224-966f-017e4e76c902","fromProperty":"newObject","toId":"ba8da912-093a-111d-a5a4-c15e605d196f","toProperty":"Data"},{"fromId":"4bb5b27f-d588-0224-966f-017e4e76c902","fromProperty":"Success","toId":"ba8da912-093a-111d-a5a4-c15e605d196f","toProperty":"Do"},{"fromId":"98e8b643-aab0-1733-dac7-337534877132","fromProperty":"Success","toId":"118900f0-c61a-b2e6-8576-d47143a791b6","toProperty":"Do"},{"fromId":"98e8b643-aab0-1733-dac7-337534877132","fromProperty":"fileData","toId":"118900f0-c61a-b2e6-8576-d47143a791b6","toProperty":"object"},{"fromId":"118900f0-c61a-b2e6-8576-d47143a791b6","fromProperty":"newObject","toId":"51219d71-15f8-5e73-cb22-c118d1769eb9","toProperty":"Data"},{"fromId":"118900f0-c61a-b2e6-8576-d47143a791b6","fromProperty":"Success","toId":"51219d71-15f8-5e73-cb22-c118d1769eb9","toProperty":"Do"},{"fromId":"fe933154-bb1e-dba8-c226-e46a7bcdf331","fromProperty":"out-projectData","toId":"3ca16357-d814-0bc9-262c-0efdf91056a6","toProperty":"Data"},{"fromId":"ee37e8de-25ed-09b8-6d35-0dea12e77824","fromProperty":"onClick","toId":"3ca16357-d814-0bc9-262c-0efdf91056a6","toProperty":"Do"},{"fromId":"51219d71-15f8-5e73-cb22-c118d1769eb9","fromProperty":"record ID","toId":"87a5d42b-92f0-cc37-42b5-ff30cdff903a","toProperty":"mainId"},{"fromId":"87a5d42b-92f0-cc37-42b5-ff30cdff903a","fromProperty":"result","toId":"ee37e8de-25ed-09b8-6d35-0dea12e77824","toProperty":"enabled"},{"fromId":"3ca16357-d814-0bc9-262c-0efdf91056a6","fromProperty":"record ID","toId":"86e30623-63e4-4030-0e22-3352ba4b1833","toProperty":"pm-project"},{"fromId":"3ca16357-d814-0bc9-262c-0efdf91056a6","fromProperty":"Success","toId":"86e30623-63e4-4030-0e22-3352ba4b1833","toProperty":"navigate"}],"roots":[{"id":"6d4fc198-c022-a3a5-3570-7fb6839c6e4e","type":"Group","label":"New video container","x":208,"y":0,"parameters":{"paddingLeft":{"value":40,"unit":"px"},"paddingTop":{"value":40,"unit":"px"},"paddingBottom":{"value":40,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"4d9698a2-38d8-b8ef-7cae-b3719f97761a","type":"Group","label":"New video","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"055fa3b8-f0b2-4c82-1c68-cc0b57ec3be3","type":"Text","parameters":{"sizeMode":"contentHeight","text":"Upload your videos here:","alignY":"center","width":{"value":200,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"98e8b643-aab0-1733-dac7-337534877132","type":"/Global visual components/File picker","parameters":{"align y":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"ae2cc5d2-6414-9342-fdeb-83c7a7232492","type":"Group","label":"New intro or outro","parameters":{"flexDirection":"row"},"ports":[],"dynamicports":[],"children":[{"id":"f95073ba-1d3d-0639-e7d3-2035c48af4cd","type":"Text","parameters":{"sizeMode":"contentHeight","text":"Upload your intros and outros here:","alignY":"center","width":{"value":200,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"3eed7e31-866e-5c15-d62b-5ee7385fd523","type":"Group","label":"Intro","parameters":{"sizeMode":"contentSize","alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"e27c7928-0d6b-cda5-b594-72c0b39950f9","type":"Text","parameters":{"text":"Upload intro","sizeMode":"contentSize","alignX":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"c4ce6d97-c976-57f6-474c-22248874ac62","type":"/Global visual components/File picker","parameters":{"align y":"center","align x":"center"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"49bd26f2-cbc4-d719-38f5-71069250b4fc","type":"Group","label":"Outro","parameters":{"sizeMode":"contentSize","marginLeft":{"value":40,"unit":"px"},"alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"cee0e9ba-e836-707b-d5ab-ae38d4257e81","type":"Text","parameters":{"text":"Upload outro","sizeMode":"contentSize","alignX":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"0b02ef5d-fc2c-a39f-b984-0fc74f024234","type":"/Global visual components/File picker","parameters":{"align y":"center","align x":"center"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"ee37e8de-25ed-09b8-6d35-0dea12e77824","type":"net.noodl.controls.button","parameters":{"label":"Next"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"51219d71-15f8-5e73-cb22-c118d1769eb9","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","x":651,"y":182,"parameters":{"collection":"Video","SDK Client to use":"Site SDK Client"},"ports":[],"dynamicports":[],"children":[]},{"id":"ba8da912-093a-111d-a5a4-c15e605d196f","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","x":676,"y":545,"parameters":{"collection":"Video","SDK Client to use":"Site SDK Client"},"ports":[],"dynamicports":[],"children":[]},{"id":"ec3880ce-1d7d-a5f7-1e88-303d89c1212d","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","x":679,"y":775,"parameters":{"collection":"Video","SDK Client to use":"Site SDK Client"},"ports":[],"dynamicports":[],"children":[]},{"id":"3ca16357-d814-0bc9-262c-0efdf91056a6","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","x":1030,"y":376,"parameters":{"collection":"Project","SDK Client to use":"Site SDK Client"},"ports":[],"dynamicports":[],"children":[]},{"id":"fe933154-bb1e-dba8-c226-e46a7bcdf331","type":"JavaScriptFunction","label":"Generate project data","x":757,"y":371,"parameters":{"functionScript":"// Define the inputs\nconst mainVideoId = Inputs.mainVideoId || null;\nconst introId = Inputs.introId || null;\nconst outroId = Inputs.outroId || null;\nconst projectTitle = Inputs.projectTitle || \"Default\";\nconst projectBrief = Inputs.projectBrief || \"Default\";\nconst projectDeadline = Inputs.deadline || null;\nconst projectClient = Inputs.projectClient || null;\n\n// Initialize an empty array\nlet clips = []\nlet videos = [];\n\n// Check if the inputs are valid and if they are, add them to the array\nif (mainVideoId) videos.push({ \"Video_id\": mainVideoId });\nif (introId) videos.push({ \"id\": introId });\nif (outroId) videos.push({ \"id\": outroId });\n\nconst projectData = {\n  title: projectTitle,\n  brief: projectBrief,\n  deadline: projectDeadline,\n  client: projectClient,\n  hasVideos: videos,\n  hasClips: clips\n}\n\nOutputs.projectData = projectData;\nOutputs.Success();\n"},"ports":[],"dynamicports":[{"name":"in-mainVideoId","displayName":"mainVideoId","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-introId","displayName":"introId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-outroId","displayName":"outroId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-projectTitle","displayName":"projectTitle","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-projectBrief","displayName":"projectBrief","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-deadline","displayName":"deadline","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-projectClient","displayName":"projectClient","plug":"input","type":"*","group":"Inputs","index":10},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-projectData","displayName":"projectData","plug":"output","type":"*","group":"Outputs","index":12}],"children":[],"metadata":{"prompt":{"history":[{"content":"Take in 3 input ids and combine them into an array of ids of form { \"id\": intValue }","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"// Define the inputs\nconst id1 = Inputs.Id1 || 0;\nconst id2 = Inputs.Id2 || 0;\nconst id3 = Inputs.Id3 || 0;\n\n// Check if the inputs are valid\nif (!id1 || !id2 || !id3) throw new Error('Invalid input');\n\ntry {\n  // Combine the inputs into an array\n  const ids = [\n    { \"id\": id1 },\n    { \"id\": id2 },\n    { \"id\": id3 }\n  ];\n\n  // Output the array\n  Outputs.IdArray = ids;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"snowflakeId":"019127f0dfbc-iz6ku6","type":"user"},{"type":"assistant","content":"\nThis function takes three inputs: <span style=\"color: var(--base-color-yellow-400);\">Inputs.Id1</span>, <span style=\"color: var(--base-color-yellow-400);\">Inputs.Id2</span>, and <span style=\"color: var(--base-color-yellow-400);\">Inputs.Id3</span>. It checks if these inputs are valid and if they are, it combines them into an array of objects. Each object in the array has a single property, \"id\", which is set to the value of the corresponding input. \n\nThe resulting array is then sent to the <span style=\"color: var(--base-color-yellow-400);\">Outputs.IdArray</span> output. If the function executes successfully, it triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal.\n\nIf there is an error during the process, for example, if the inputs are not valid, the function outputs the error message to the <span style=\"color: var(--base-color-yellow-400);\">Outputs.error</span> output and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Failure</span> output signal.\n","snowflakeId":"019127f1210d-npmnpk","metadata":{}},{"content":"There may only be one id. Can the script generate the array dynamically depending on which ids inputs are non null","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"// Define the inputs\nconst id1 = Inputs.Id1 || null;\nconst id2 = Inputs.Id2 || null;\nconst id3 = Inputs.Id3 || null;\n\n// Initialize an empty array\nlet ids = [];\n\n// Check if the inputs are valid and if they are, add them to the array\nif (id1) ids.push({ \"id\": id1 });\nif (id2) ids.push({ \"id\": id2 });\nif (id3) ids.push({ \"id\": id3 });\n\n// If no valid id was found, throw an error\nif (ids.length === 0) {\n  Outputs.error = 'No valid id found';\n  Outputs.Failure();\n} else {\n  // Output the array\n  Outputs.IdArray = ids;\n  Outputs.Success();\n}\n"},"snowflakeId":"019127f2a0a6-nhlhbu","type":"user"},{"type":"assistant","content":"\nThis function generates an array of IDs based on the non-null inputs. \n\nIt takes three inputs: <span style=\"color: var(--base-color-yellow-400);\">Inputs.Id1</span>, <span style=\"color: var(--base-color-yellow-400);\">Inputs.Id2</span>, and <span style=\"color: var(--base-color-yellow-400);\">Inputs.Id3</span>. It checks each input and if it is not null, it adds it to the array. \n\nIf no valid ID is found (all inputs are null), it sets the <span style=\"color: var(--base-color-yellow-400);\">Outputs.error</span> output to 'No valid id found' and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Failure</span> output signal. \n\nIf at least one valid ID is found, it sets the <span style=\"color: var(--base-color-yellow-400);\">Outputs.IdArray</span> output to the array of IDs and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal.\n","snowflakeId":"019127f2d40b-29wcd9","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"23514da6-826d-a249-f8a0-c320be8f461a","type":"/Global logical components/Append value to object","x":462,"y":787,"parameters":{"property":"type","value":"outro"},"ports":[],"dynamicports":[],"children":[]},{"id":"4bb5b27f-d588-0224-966f-017e4e76c902","type":"/Global logical components/Append value to object","x":462,"y":577,"parameters":{"property":"type","value":"intro"},"ports":[],"dynamicports":[],"children":[]},{"id":"118900f0-c61a-b2e6-8576-d47143a791b6","type":"/Global logical components/Append value to object","x":435,"y":199,"parameters":{"property":"type","value":"main"},"ports":[],"dynamicports":[],"children":[]},{"id":"87a5d42b-92f0-cc37-42b5-ff30cdff903a","type":"Expression","x":0,"y":293,"parameters":{"expression":"mainId != \"\""},"ports":[],"dynamicports":[{"group":"Parameters","name":"mainId","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"86e30623-63e4-4030-0e22-3352ba4b1833","type":"RouterNavigate","label":"Go to video page","x":1291,"y":416,"parameters":{"router":"Main","target":"/#Pages/video"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3},{"name":"pm-project","displayName":"project","type":"string","plug":"input","group":"Parameters","index":4}],"children":[]}],"visualRoots":["6d4fc198-c022-a3a5-3570-7fb6839c6e4e"]}},{"name":"/App","graph":{"connections":[{"fromId":"246f9453-a119-ac78-171e-3806cf596ecc","fromProperty":"didMount","toId":"44f02f3e-9bc7-51d1-8116-6fe31df56b86","toProperty":"Do"},{"fromId":"246f9453-a119-ac78-171e-3806cf596ecc","fromProperty":"didMount","toId":"8fe11d25-b588-c266-4eeb-a4c9f28b4bc8","toProperty":"Do"},{"fromId":"6cba386e-8b51-f4f5-5853-212245b4c32e","fromProperty":"prop-authenticated","toId":"5123bee8-2079-220c-64b9-92cb450e44de","toProperty":"authenticated"},{"fromId":"5123bee8-2079-220c-64b9-92cb450e44de","fromProperty":"isFalseEv","toId":"e71b24fd-633a-4219-8c0c-78e0b141e888","toProperty":"navigate"}],"roots":[{"id":"246f9453-a119-ac78-171e-3806cf596ecc","type":"Group","x":-111.4681915301291,"y":311.4376377651178,"parameters":{"backgroundColor":"#FFFFFF","minHeight":{"value":100,"unit":"vh"}},"ports":[],"dynamicports":[],"children":[{"id":"a24a02ae-c1b8-1250-72c3-a1d48cbc9558","type":"Router","parameters":{"name":"Main","pages":{"routes":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"startPage":"/#Pages/dashboard"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"44f02f3e-9bc7-51d1-8116-6fe31df56b86","type":"/#Directus/Directus Prefab/Initial Set Up/Set up Directus - Option 1 (env)","x":134.03180846987084,"y":302.9376377651178,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"8fe11d25-b588-c266-4eeb-a4c9f28b4bc8","type":"/Global logical components/Preload queries","x":-355.21819153012916,"y":306.6876377651178,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"6cba386e-8b51-f4f5-5853-212245b4c32e","type":"Model2","x":-256.3848581967958,"y":192.35430443178444,"parameters":{"modelId":"Current User","properties":"authenticated"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-authenticated","displayName":"authenticated","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"authenticated Changed","name":"changed-authenticated","index":8}],"children":[]},{"id":"5123bee8-2079-220c-64b9-92cb450e44de","type":"Expression","x":-35.38485819679579,"y":180.35430443178444,"parameters":{"expression":"authenticated"},"ports":[],"dynamicports":[{"group":"Parameters","name":"authenticated","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"e71b24fd-633a-4219-8c0c-78e0b141e888","type":"RouterNavigate","x":236.6151418032042,"y":205.35430443178444,"parameters":{"router":"Main","target":"/#Pages/connect"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]}],"visualRoots":["246f9453-a119-ac78-171e-3806cf596ecc"]},"metadata":{"canvasSize":{"width":"1039px","height":"751px"},"canvasPos":{"x":0,"y":0}}},{"name":"/Global logical components/Append value to object","id":"c0cbff10-868b-bd1e-f021-867c2d06abd0","graph":{"connections":[{"fromId":"d4100c1f-ed2f-a0c8-f2a4-157bdd3a16e9","fromProperty":"object","toId":"ac97dbe7-a621-0efa-7389-f02d214e79e5","toProperty":"in-InputObject"},{"fromId":"d4100c1f-ed2f-a0c8-f2a4-157bdd3a16e9","fromProperty":"property","toId":"ac97dbe7-a621-0efa-7389-f02d214e79e5","toProperty":"in-property"},{"fromId":"d4100c1f-ed2f-a0c8-f2a4-157bdd3a16e9","fromProperty":"value","toId":"ac97dbe7-a621-0efa-7389-f02d214e79e5","toProperty":"in-value"},{"fromId":"ac97dbe7-a621-0efa-7389-f02d214e79e5","fromProperty":"out-OutputObject","toId":"55812d3f-3786-5104-7bec-289ca7307536","toProperty":"newObject"},{"fromId":"d4100c1f-ed2f-a0c8-f2a4-157bdd3a16e9","fromProperty":"Do","toId":"ac97dbe7-a621-0efa-7389-f02d214e79e5","toProperty":"run"},{"fromId":"ac97dbe7-a621-0efa-7389-f02d214e79e5","fromProperty":"out-Success","toId":"55812d3f-3786-5104-7bec-289ca7307536","toProperty":"Success"}],"roots":[{"id":"ac97dbe7-a621-0efa-7389-f02d214e79e5","type":"JavaScriptFunction","label":"Add Type to Object","x":0,"y":0,"parameters":{"functionScript":"const inputObject = Inputs.InputObject || {};\nconst value = Inputs.value || '';\nconst property = Inputs.property;\n\n// Append 'type' field to the input object\ninputObject[property] = value;\n\n// Output the new object\nOutputs.OutputObject = inputObject;\nOutputs.Success();\n","scriptInputs":[{"id":"gwi3","label":"value"},{"id":"q8m4","label":"property"}],"intype-value":"string","intype-property":"string"},"ports":[],"dynamicports":[{"name":"intype-value","displayName":"Type","editorName":"value | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"gwi3","index":4},{"name":"in-value","displayName":"value","plug":"input","type":"string","group":"Inputs","index":5},{"name":"intype-property","displayName":"Type","editorName":"property | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"q8m4","index":6},{"name":"in-property","displayName":"property","plug":"input","type":"string","group":"Inputs","index":7},{"name":"in-InputObject","displayName":"InputObject","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-OutputObject","displayName":"OutputObject","plug":"output","type":"*","group":"Outputs","index":10}],"children":[],"metadata":{"prompt":{"history":[{"content":"Take an input object and append a string field 'type' to it, then output the new object","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const inputObject = Inputs.InputObject || {};\nconst type = Inputs.Type || 'default';\n\n// Append 'type' field to the input object\ninputObject.type = type;\n\n// Output the new object\nOutputs.OutputObject = inputObject;\nOutputs.Success();\n"},"snowflakeId":"019127fbbf0e-3mtbgs","type":"user"},{"type":"assistant","content":"\nThis function takes an input object and a type string, appends the type string as a 'type' field to the input object, and outputs the new object.\n\nIt takes <span style=\"color: var(--base-color-yellow-400);\">Inputs.InputObject</span> and <span style=\"color: var(--base-color-yellow-400);\">Inputs.Type</span> as inputs. It then appends the 'type' field to the input object with the value of the Type input. If no Type input is provided, it defaults to 'default'.\n\nThe function then sets the <span style=\"color: var(--base-color-yellow-400);\">Outputs.OutputObject</span> to the new object with the appended 'type' field and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal.\n","snowflakeId":"019127fbd330-22nt97","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"d4100c1f-ed2f-a0c8-f2a4-157bdd3a16e9","type":"Component Inputs","x":-291,"y":0.5,"parameters":{},"ports":[{"name":"object","plug":"output","type":{"name":"*"},"index":1},{"name":"property","plug":"output","type":{"name":"*"},"index":2},{"name":"value","plug":"output","type":{"name":"*"},"index":3},{"name":"Do","plug":"output","type":{"name":"*"},"index":4}],"dynamicports":[],"children":[]},{"id":"55812d3f-3786-5104-7bec-289ca7307536","type":"Component Outputs","x":243,"y":63.5,"parameters":{},"ports":[{"name":"newObject","plug":"input","type":{"name":"*"},"index":1},{"name":"Success","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Global logical components/File upload script","id":"549c4090-2e67-2dd9-ccb4-e45c99b1c18c","graph":{"connections":[{"fromId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","fromProperty":"success","toId":"76205701-984e-0b70-5039-8016354f383e","toProperty":"run"},{"fromId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","fromProperty":"file","toId":"76205701-984e-0b70-5039-8016354f383e","toProperty":"in-File"},{"fromId":"12c1c68a-692d-b252-8ee7-3db599a4e975","fromProperty":"Open","toId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","toProperty":"open"},{"fromId":"76205701-984e-0b70-5039-8016354f383e","fromProperty":"out-Success","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"Success"},{"fromId":"76205701-984e-0b70-5039-8016354f383e","fromProperty":"out-error","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"error"},{"fromId":"76205701-984e-0b70-5039-8016354f383e","fromProperty":"out-fileData","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"fileData"},{"fromId":"76205701-984e-0b70-5039-8016354f383e","fromProperty":"out-Failure","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"Failure"},{"fromId":"76205701-984e-0b70-5039-8016354f383e","fromProperty":"out-progress","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"progress"},{"fromId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","fromProperty":"name","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"fileName"},{"fromId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","fromProperty":"sizeInBytes","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"fileSize"},{"fromId":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","fromProperty":"success","toId":"1e01708b-8ece-aca9-c1cd-9ec18edef705","toProperty":"saveValue"},{"fromId":"1e01708b-8ece-aca9-c1cd-9ec18edef705","fromProperty":"savedValue","toId":"bef69651-ed1e-89de-0c46-7bc7100744d6","toProperty":"progress"}],"roots":[{"id":"a3f4a013-92e9-70a4-39b7-a332bce43f4e","type":"Open File Picker","x":0,"y":11,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"76205701-984e-0b70-5039-8016354f383e","type":"JavaScriptFunction","label":"Upload Video to Azure Storage","x":236,"y":0,"parameters":{"functionScript":"const file = Inputs.File || null; // File from file picker node\nconst sasToken = Inputs.SasToken || 'sv=2022-11-02&ss=b&srt=sco&sp=rwdlaciytfx&se=2025-08-01T18:06:34Z&st=2024-08-05T10:06:34Z&spr=https,http&sig=U2aHk1OiRypOFtdXZBr9kYa%2F8X6xt0rnVwk5h%2FSruDA%3D'; // Shared Access Signature (SAS) token\nconst storageAccountName = Inputs.StorageAccountName || 'sacdnvhivedev002'; // Azure storage account name\nconst containerName = Inputs.ContainerName || 'hive-clip-noodl-storage'; // Azure storage container name\nconst companyId = Inputs.CompanyId || 'defaultCompanyId'; // Unique object ID for the company\n\nif (!file) throw new Error('No file provided');\nif (!sasToken) throw new Error('Invalid SAS token');\nif (!storageAccountName) throw new Error('Invalid storage account name');\nif (!containerName) throw new Error('Invalid container name');\nif (!companyId) throw new Error('Invalid company ID');\n\n// Generate a unique identifier, e.g., UUID\nconst uniqueId = generateUUID(); // Implement or import a function to generate a UUID\n\n// Construct a unique file name with company ID as the folder and unique ID as a prefix\nconst fileName = `${uniqueId}_${file.name}`; // e.g., 'd3b07384_document.pdf'\nconst filePath = `${companyId}/${fileName}`; // e.g., 'company123/d3b07384_document.pdf'\n\n// Construct the URL for the file in Azure Blob Storage\nconst fileUrl = `https://${storageAccountName}.blob.core.windows.net/${containerName}/${filePath}`;\nconst uploadUrl = `${fileUrl}?${sasToken}`;\n\ntry {\n  const xhr = new XMLHttpRequest();\n  xhr.open('PUT', uploadUrl, true);\n  xhr.setRequestHeader('x-ms-blob-type', 'BlockBlob');\n  xhr.setRequestHeader('Content-Type', file.type);\n\n  xhr.upload.onprogress = function (event) {\n    if (event.lengthComputable) {\n      const percentComplete = Math.round((event.loaded / event.total) * 100);\n      Outputs.progress = percentComplete; // Output the progress percentage\n    }\n  };\n\n  xhr.onload = function () {\n    if (xhr.status >= 200 && xhr.status < 300) {\n      // File successfully uploaded, return relevant data\n      const fileData = {\n        videoUrl: fileUrl, // URL to access the file\n        videoName: fileName, // Name of the uploaded file\n        storageAccount: storageAccountName, // Storage account name\n        container: containerName, // Container name\n      };\n\n      Outputs.fileData = fileData; // Store file data in Outputs for further use\n      Outputs.Success(); // Indicate success\n    } else {\n      Outputs.error = xhr.statusText || 'Upload failed';\n      Outputs.Failure(); // Indicate failure\n    }\n  };\n\n  xhr.onerror = function () {\n    Outputs.error = xhr.statusText || 'An error occurred';\n    Outputs.Failure(); // Indicate failure\n  };\n\n  xhr.send(file); // Send the file\n} catch (error) {\n  Outputs.error = error.message || 'An error occurred'; // Provide a meaningful error message\n  Outputs.Failure(); // Indicate failure\n}\n\n// Function to generate a UUID (placeholder implementation)\nfunction generateUUID() {\n  // Generate a random UUID (v4)\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n"},"ports":[],"dynamicports":[{"name":"in-File","displayName":"File","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-SasToken","displayName":"SasToken","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-StorageAccountName","displayName":"StorageAccountName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-ContainerName","displayName":"ContainerName","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-CompanyId","displayName":"CompanyId","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-progress","displayName":"progress","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-fileData","displayName":"fileData","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":13}],"children":[],"metadata":{"prompt":{"history":[{"content":"Upload a video blob from a file picker node to an Azure storage account","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const file = Inputs.File || null; // File from file picker node\nconst sasToken = Inputs.SasToken || ''; // Shared Access Signature (SAS) token\nconst storageAccountName = Inputs.StorageAccountName || ''; // Azure storage account name\nconst containerName = Inputs.ContainerName || ''; // Azure storage container name\n\nif (!file) throw new Error('No file provided');\nif (!sasToken) throw new Error('Invalid SAS token');\nif (!storageAccountName) throw new Error('Invalid storage account name');\nif (!containerName) throw new Error('Invalid container name');\n\nconst url = `https://${storageAccountName}.blob.core.windows.net/${containerName}/${file.name}?${sasToken}`;\n\ntry {\n  const response = await fetch(url, {\n    method: 'PUT',\n    headers: {\n      'x-ms-blob-type': 'BlockBlob',\n      'Content-Type': file.type,\n    },\n    body: file,\n  });\n\n  if (!response.ok) {\n    throw new Error('Upload failed');\n  }\n\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"snowflakeId":"019121fce2d2-getr8g","type":"user"},{"type":"assistant","content":"\nThis function uploads a video file to an Azure storage account. \n\nIt takes four inputs: <span style=\"color: var(--base-color-yellow-400);\">Inputs.File</span>, which is the file from a file picker node; <span style=\"color: var(--base-color-yellow-400);\">Inputs.SasToken</span>, which is the Shared Access Signature (SAS) token; <span style=\"color: var(--base-color-yellow-400);\">Inputs.StorageAccountName</span>, which is the name of the Azure storage account; and <span style=\"color: var(--base-color-yellow-400);\">Inputs.ContainerName</span>, which is the name of the Azure storage container.\n\nThe function constructs the URL for the Azure Blob Storage service and sends a PUT request to upload the file. If the upload is successful, it triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal. If there's an error during the upload, it sets the <span style=\"color: var(--base-color-yellow-400);\">Outputs.error</span> output with the error message and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Failure</span> output signal.\n","snowflakeId":"019121fd2127-dx1eaa","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"12c1c68a-692d-b252-8ee7-3db599a4e975","type":"Component Inputs","x":-250,"y":100,"parameters":{},"ports":[{"name":"Open","plug":"output","type":{"name":"*"},"index":0}],"dynamicports":[],"children":[]},{"id":"bef69651-ed1e-89de-0c46-7bc7100744d6","type":"Component Outputs","x":486,"y":100,"parameters":{},"ports":[{"name":"Success","plug":"input","type":{"name":"*"},"index":0},{"name":"error","plug":"input","type":{"name":"*"},"index":1},{"name":"fileData","plug":"input","type":{"name":"*"},"index":2},{"name":"Failure","plug":"input","type":{"name":"*"},"index":3},{"name":"progress","plug":"input","type":{"name":"*"},"index":4},{"name":"fileName","plug":"input","type":{"name":"*"},"index":5},{"name":"fileSize","plug":"input","type":{"name":"*"},"index":6}],"dynamicports":[],"children":[]},{"id":"24bc5171-7316-dc3a-49f1-f07358b2cb74","type":"JavaScriptFunction","label":"BACKUP 6-8-24","x":292,"y":-165,"parameters":{"functionScript":"const file = Inputs.File || null; // File from file picker node\nconst sasToken = Inputs.SasToken || 'sv=2022-11-02&ss=b&srt=sco&sp=rwdlaciytfx&se=2025-08-01T18:06:34Z&st=2024-08-05T10:06:34Z&spr=https,http&sig=U2aHk1OiRypOFtdXZBr9kYa%2F8X6xt0rnVwk5h%2FSruDA%3D'; // Shared Access Signature (SAS) token\nconst storageAccountName = Inputs.StorageAccountName || 'sacdnvhivedev002'; // Azure storage account name\nconst containerName = Inputs.ContainerName || 'hive-clip-noodl-storage'; // Azure storage container name\nconst companyId = Inputs.CompanyId || 'defaultCompanyId'; // Unique object ID for the company\n\nif (!file) throw new Error('No file provided');\nif (!sasToken) throw new Error('Invalid SAS token');\nif (!storageAccountName) throw new Error('Invalid storage account name');\nif (!containerName) throw new Error('Invalid container name');\nif (!companyId) throw new Error('Invalid company ID');\n\n// Generate a unique identifier, e.g., UUID\nconst uniqueId = generateUUID(); // Implement or import a function to generate a UUID\n\n// Construct a unique file name with company ID as the folder and unique ID as a prefix\nconst fileName = `${uniqueId}_${file.name}`; // e.g., 'd3b07384_document.pdf'\nconst filePath = `${companyId}/${fileName}`; // e.g., 'company123/d3b07384_document.pdf'\n\n// Construct the URL for the file in Azure Blob Storage\nconst fileUrl = `https://${storageAccountName}.blob.core.windows.net/${containerName}/${filePath}`;\nconst uploadUrl = `${fileUrl}?${sasToken}`;\n\ntry {\n  // Upload the file\n  const response = await fetch(uploadUrl, {\n    method: 'PUT',\n    headers: {\n      'x-ms-blob-type': 'BlockBlob',\n      'Content-Type': file.type,\n    },\n    body: file,\n  });\n\n  if (!response.ok) {\n    throw new Error('Upload failed');\n  }\n\n  // File successfully uploaded, return relevant data\n  const fileData = {\n    videoUrl: fileUrl, // URL to access the file\n    videoName: fileName, // Name of the uploaded file\n    storageAccount: storageAccountName, // Storage account name\n    container: containerName, // Container name\n  };\n\n  // Store or use fileData as needed, for example:\n  Outputs.fileData = fileData; // Store file data in Outputs for further use\n  Outputs.Success(); // Indicate success\n} catch (error) {\n  Outputs.error = error.message || 'An error occurred'; // Provide a meaningful error message\n  Outputs.Failure(); // Indicate failure\n}\n\n// Function to generate a UUID (placeholder implementation)\nfunction generateUUID() {\n  // Generate a random UUID (v4)\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}"},"ports":[],"dynamicports":[{"name":"in-File","displayName":"File","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-SasToken","displayName":"SasToken","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-StorageAccountName","displayName":"StorageAccountName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-ContainerName","displayName":"ContainerName","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-CompanyId","displayName":"CompanyId","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-fileData","displayName":"fileData","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":12}],"children":[],"metadata":{"prompt":{"history":[{"content":"Upload a video blob from a file picker node to an Azure storage account","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const file = Inputs.File || null; // File from file picker node\nconst sasToken = Inputs.SasToken || ''; // Shared Access Signature (SAS) token\nconst storageAccountName = Inputs.StorageAccountName || ''; // Azure storage account name\nconst containerName = Inputs.ContainerName || ''; // Azure storage container name\n\nif (!file) throw new Error('No file provided');\nif (!sasToken) throw new Error('Invalid SAS token');\nif (!storageAccountName) throw new Error('Invalid storage account name');\nif (!containerName) throw new Error('Invalid container name');\n\nconst url = `https://${storageAccountName}.blob.core.windows.net/${containerName}/${file.name}?${sasToken}`;\n\ntry {\n  const response = await fetch(url, {\n    method: 'PUT',\n    headers: {\n      'x-ms-blob-type': 'BlockBlob',\n      'Content-Type': file.type,\n    },\n    body: file,\n  });\n\n  if (!response.ok) {\n    throw new Error('Upload failed');\n  }\n\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"snowflakeId":"019121fce2d2-getr8g","type":"user"},{"type":"assistant","content":"\nThis function uploads a video file to an Azure storage account. \n\nIt takes four inputs: <span style=\"color: var(--base-color-yellow-400);\">Inputs.File</span>, which is the file from a file picker node; <span style=\"color: var(--base-color-yellow-400);\">Inputs.SasToken</span>, which is the Shared Access Signature (SAS) token; <span style=\"color: var(--base-color-yellow-400);\">Inputs.StorageAccountName</span>, which is the name of the Azure storage account; and <span style=\"color: var(--base-color-yellow-400);\">Inputs.ContainerName</span>, which is the name of the Azure storage container.\n\nThe function constructs the URL for the Azure Blob Storage service and sends a PUT request to upload the file. If the upload is successful, it triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal. If there's an error during the upload, it sets the <span style=\"color: var(--base-color-yellow-400);\">Outputs.error</span> output with the error message and triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Failure</span> output signal.\n","snowflakeId":"019121fd2127-dx1eaa","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"1e01708b-8ece-aca9-c1cd-9ec18edef705","type":"Number","label":"Reset progress counter","x":174.8,"y":213.3,"parameters":{},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Global logical components/Generate Google icon object","id":"37bbd474-4e8d-1262-7bc8-82c226b43251","graph":{"connections":[{"fromId":"0edd1f18-d94b-872b-9642-1068251ac77d","fromProperty":"iconName","toId":"2dedfbec-084b-de53-48f2-39e453b36d91","toProperty":"in-iconName"},{"fromId":"2dedfbec-084b-de53-48f2-39e453b36d91","fromProperty":"out-iconObject","toId":"cbc8b566-768c-7508-e182-3235b8d66e32","toProperty":"iconObject"}],"roots":[{"id":"0edd1f18-d94b-872b-9642-1068251ac77d","type":"Component Inputs","x":-126,"y":-16,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"iconName","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"cbc8b566-768c-7508-e182-3235b8d66e32","type":"Component Outputs","x":300,"y":0,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1},{"name":"iconObject","plug":"input","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"2dedfbec-084b-de53-48f2-39e453b36d91","type":"JavaScriptFunction","label":"Format icon","x":91,"y":-17,"parameters":{"functionScript":"Outputs.iconObject = {\n    \"class\": \"material-icons\",\n    \"code\": Inputs.iconName // in your case you would pass \"thumbs_up\" to this function\n}","scriptInputs":[{"id":"86hq","label":"iconName"}]},"ports":[],"dynamicports":[{"name":"intype-iconName","displayName":"Type","editorName":"iconName | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"86hq","index":4},{"name":"in-iconName","displayName":"iconName","plug":"input","type":"string","group":"Inputs","index":5},{"name":"out-iconObject","displayName":"iconObject","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":[]}},{"name":"/Global logical components/Preload queries","id":"be5d6005-6267-225a-820b-bcdeb1010d18","graph":{"connections":[{"fromId":"af3bb453-c6f8-885d-dca3-d2e3fcf93146","fromProperty":"Do","toId":"f95ff81f-00a3-b8e1-90b2-b91f1b38f1c3","toProperty":"Do"},{"fromId":"65f1ee7b-d12a-e489-95e4-c700fc19cd78","fromProperty":"prop-authenticated","toId":"297456a4-523b-d341-186a-1a55066db5c7","toProperty":"authenticated"}],"roots":[{"id":"af3bb453-c6f8-885d-dca3-d2e3fcf93146","type":"Component Inputs","x":-316,"y":-24,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0}],"dynamicports":[],"children":[]},{"id":"bf191bda-8e62-6a1a-caaa-d32aa0038940","type":"Component Outputs","x":527,"y":21,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"f95ff81f-00a3-b8e1-90b2-b91f1b38f1c3","type":"/#Directus/Directus Prefab/Components/User/Directus - Get Current User","x":-49.5,"y":-111,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"65f1ee7b-d12a-e489-95e4-c700fc19cd78","type":"Model2","x":-89.33333333333337,"y":31.333333333333343,"parameters":{"modelId":"Current User","properties":"authenticated"},"ports":[],"dynamicports":[{"type":{"name":"*","allowConnectionsOnly":true},"plug":"input/output","group":"Properties","name":"prop-authenticated","displayName":"authenticated","index":7},{"type":"signal","plug":"output","group":"Changed Events","displayName":"authenticated Changed","name":"changed-authenticated","index":8}],"children":[]},{"id":"297456a4-523b-d341-186a-1a55066db5c7","type":"Expression","x":140.66666666666663,"y":25.333333333333343,"parameters":{"expression":"authenticated"},"ports":[],"dynamicports":[{"group":"Parameters","name":"authenticated","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"b536dc42-f2d3-43e2-b8d4-8019558e98aa","type":"/#Directus/Directus Prefab/Components/Data/Directus - Get Data","x":232.66666666666663,"y":-93.66666666666666,"parameters":{"collection":"Project","Item Get type":"Get Multiple by Filter","limit":0,"fields":"*,hasVideos.Video_id.*,hasVideos.Video_id.transcript.*"},"ports":[],"dynamicports":[],"children":[]}],"visualRoots":[]}},{"name":"/Global visual components/File picker","id":"a25830d1-bbbb-d400-01fb-7a5e1d4f4b0a","graph":{"connections":[{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"error","toId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","toProperty":"error"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"Success","toId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","toProperty":"Success"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"fileData","toId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","toProperty":"fileData"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"Failure","toId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","toProperty":"Failure"},{"fromId":"f969ddb5-9b8f-9d68-1cca-dba45efad63b","fromProperty":"align x","toId":"11191ff5-578d-ee60-1567-deb1a48260dd","toProperty":"alignX"},{"fromId":"f969ddb5-9b8f-9d68-1cca-dba45efad63b","fromProperty":"align y","toId":"11191ff5-578d-ee60-1567-deb1a48260dd","toProperty":"alignY"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"progress","toId":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","toProperty":"progress"},{"fromId":"21271210-d700-5b27-8c37-3da5b77cf3e4","fromProperty":"isTrueEv","toId":"16b41337-e614-d5ac-2b80-dc54641ef98d","toProperty":"to-uploading"},{"fromId":"b305c110-e60a-b6d4-3baf-95b33367143e","fromProperty":"isTrueEv","toId":"16b41337-e614-d5ac-2b80-dc54641ef98d","toProperty":"to-complete"},{"fromId":"3d1b3c66-43c2-b6b3-6580-b6949be6b93a","fromProperty":"isTrueEv","toId":"16b41337-e614-d5ac-2b80-dc54641ef98d","toProperty":"to-idle"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"progress","toId":"3d1b3c66-43c2-b6b3-6580-b6949be6b93a","toProperty":"progress"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"progress","toId":"21271210-d700-5b27-8c37-3da5b77cf3e4","toProperty":"progress"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"progress","toId":"b305c110-e60a-b6d4-3baf-95b33367143e","toProperty":"progress"},{"fromId":"16b41337-e614-d5ac-2b80-dc54641ef98d","fromProperty":"backgroundColour","toId":"11191ff5-578d-ee60-1567-deb1a48260dd","toProperty":"backgroundColor"},{"fromId":"16b41337-e614-d5ac-2b80-dc54641ef98d","fromProperty":"text","toId":"15df4675-0c47-23fe-aa5e-53b2d7c86229","toProperty":"text"},{"fromId":"16b41337-e614-d5ac-2b80-dc54641ef98d","fromProperty":"icon","toId":"ea857e75-d4ed-ecd8-20b1-e5055e978dfc","toProperty":"iconName"},{"fromId":"ea857e75-d4ed-ecd8-20b1-e5055e978dfc","fromProperty":"iconObject","toId":"d096911c-e4da-4bc1-f492-653604833802","toProperty":"icon"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"fileSize","toId":"3ce4e43b-69ce-7f35-4eae-9a700e9d6c92","toProperty":"in-Bytes"},{"fromId":"3ce4e43b-69ce-7f35-4eae-9a700e9d6c92","fromProperty":"out-Megabytes","toId":"fd2a5789-f112-91b8-2359-9e8621988f21","toProperty":"fileSize"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"fileName","toId":"fd2a5789-f112-91b8-2359-9e8621988f21","toProperty":"fileName"},{"fromId":"fd2a5789-f112-91b8-2359-9e8621988f21","fromProperty":"formatted","toId":"83643ac4-7723-e136-e74c-d8cf1748955e","toProperty":"text"},{"fromId":"3572809a-2ab3-991c-b9d6-e178c1dad138","fromProperty":"progress","toId":"30c28e20-d094-2694-1d8d-c2098071636d","toProperty":"percent"},{"fromId":"30c28e20-d094-2694-1d8d-c2098071636d","fromProperty":"formatted","toId":"16b41337-e614-d5ac-2b80-dc54641ef98d","toProperty":"value-uploading-text"},{"fromId":"16b41337-e614-d5ac-2b80-dc54641ef98d","fromProperty":"at-complete","toId":"a3c694ed-1053-0285-aa34-4c45cfe0047c","toProperty":"mounted"},{"fromId":"1bb8b5bb-aa6a-1105-b424-c3ffb3c2d6c3","fromProperty":"Clicked","toId":"16b41337-e614-d5ac-2b80-dc54641ef98d","toProperty":"to-idle"},{"fromId":"11191ff5-578d-ee60-1567-deb1a48260dd","fromProperty":"onClick","toId":"3572809a-2ab3-991c-b9d6-e178c1dad138","toProperty":"Open"}],"roots":[{"id":"11191ff5-578d-ee60-1567-deb1a48260dd","type":"Group","x":0,"y":0,"parameters":{"sizeMode":"contentHeight","backgroundColor":"Grey - 200","borderRadius":{"value":6,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"rowGap":{"value":10,"unit":"px"},"width":{"value":240,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"dynamicports":[],"children":[{"id":"d096911c-e4da-4bc1-f492-653604833802","type":"/Global visual components/Pretty icon","parameters":{"align x":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"15df4675-0c47-23fe-aa5e-53b2d7c86229","type":"Text","parameters":{"text":"Click to upload your video","color":"Grey - 900","textAlignX":"center"},"ports":[],"dynamicports":[],"children":[]},{"id":"a3c694ed-1053-0285-aa34-4c45cfe0047c","type":"Group","parameters":{"flexDirection":"row","clip":true},"ports":[],"dynamicports":[],"children":[{"id":"83643ac4-7723-e136-e74c-d8cf1748955e","type":"Text","parameters":{"color":"Grey - 900","textAlignX":"center","sizeMode":"contentHeight","maxHeight":{"value":44,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]},{"id":"1bb8b5bb-aa6a-1105-b424-c3ffb3c2d6c3","type":"/Global visual components/Pretty icon","parameters":{"icon":{"class":"material-icons","code":"delete_forever","codeAsClass":false}},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"3572809a-2ab3-991c-b9d6-e178c1dad138","type":"/Global logical components/File upload script","x":333.8473138286208,"y":-4.296418438161055,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"41c9cd82-7e13-96eb-47e8-2dcc50d99931","type":"Component Outputs","x":710.0605088611268,"y":72.37803959870493,"parameters":{},"ports":[{"name":"Success","plug":"input","type":{"name":"*"},"index":1},{"name":"Failure","plug":"input","type":{"name":"*"},"index":2},{"name":"fileData","plug":"input","type":{"name":"*"},"index":3},{"name":"error","plug":"input","type":{"name":"*"},"index":4},{"name":"progress","plug":"input","type":{"name":"*"},"index":5}],"dynamicports":[],"children":[]},{"id":"f969ddb5-9b8f-9d68-1cca-dba45efad63b","type":"Component Inputs","x":-279,"y":53.83333333333333,"parameters":{},"ports":[{"name":"align x","plug":"output","type":{"name":"*"},"index":1},{"name":"align y","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"21271210-d700-5b27-8c37-3da5b77cf3e4","type":"Expression","x":41.58642789587748,"y":695.0665330946973,"parameters":{"expression":"progress > 0 && progress < 100"},"ports":[],"dynamicports":[{"group":"Parameters","name":"progress","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"16b41337-e614-d5ac-2b80-dc54641ef98d","type":"States","x":-277,"y":322.9583333333333,"parameters":{"states":"idle,uploading,complete","values":"text,icon,backgroundColour","type-text":"string","type-icon":"string","value-idle-text":"Click to upload your video","value-idle-icon":"upload_file","value-uploading-text":"Upload in progress...","value-uploading-icon":"pending","value-complete-icon":"task_alt","value-complete-text":"Upload complete","type-backgroundColour":"color","value-idle-backgroundColour":"Grey - 200","value-uploading-backgroundColour":"Grey - 300","value-complete-backgroundColour":"#49AD7F"},"ports":[],"dynamicports":[{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"text","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"text","name":"type-text","index":7},{"type":{"name":"string","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"icon","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"icon","name":"type-icon","index":9},{"type":{"name":"color","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"backgroundColour","index":10},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"backgroundColour","name":"type-backgroundColour","index":11},{"plug":"input","type":"string","group":"idle Values","name":"value-idle-text","displayName":"text","editorName":"idle|text","index":12},{"plug":"input","type":"string","group":"idle Values","name":"value-idle-icon","displayName":"icon","editorName":"idle|icon","index":13},{"plug":"input","type":"color","group":"idle Values","name":"value-idle-backgroundColour","displayName":"backgroundColour","editorName":"idle|backgroundColour","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"idle Transitions","name":"transitiondef-idle","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"idle Transitions","name":"transition-idle-backgroundColour","displayName":"backgroundColour","editorName":"Transition idle|backgroundColour","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To idle","name":"to-idle","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At idle","name":"at-idle","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached idle","name":"reached-idle","group":"Current state","index":19},{"plug":"input","type":"string","group":"uploading Values","name":"value-uploading-text","displayName":"text","editorName":"uploading|text","index":20},{"plug":"input","type":"string","group":"uploading Values","name":"value-uploading-icon","displayName":"icon","editorName":"uploading|icon","index":21},{"plug":"input","type":"color","group":"uploading Values","name":"value-uploading-backgroundColour","displayName":"backgroundColour","editorName":"uploading|backgroundColour","index":22},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"uploading Transitions","name":"transitiondef-uploading","index":23},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"uploading Transitions","name":"transition-uploading-backgroundColour","displayName":"backgroundColour","editorName":"Transition uploading|backgroundColour","index":24},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To uploading","name":"to-uploading","group":"Go to state","index":25},{"plug":"output","type":"boolean","displayName":"At uploading","name":"at-uploading","group":"Current state","index":26},{"plug":"output","type":"signal","displayName":"Has Reached uploading","name":"reached-uploading","group":"Current state","index":27},{"plug":"input","type":"string","group":"complete Values","name":"value-complete-text","displayName":"text","editorName":"complete|text","index":28},{"plug":"input","type":"string","group":"complete Values","name":"value-complete-icon","displayName":"icon","editorName":"complete|icon","index":29},{"plug":"input","type":"color","group":"complete Values","name":"value-complete-backgroundColour","displayName":"backgroundColour","editorName":"complete|backgroundColour","index":30},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"complete Transitions","name":"transitiondef-complete","index":31},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"complete Transitions","name":"transition-complete-backgroundColour","displayName":"backgroundColour","editorName":"Transition complete|backgroundColour","index":32},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To complete","name":"to-complete","group":"Go to state","index":33},{"plug":"output","type":"boolean","displayName":"At complete","name":"at-complete","group":"Current state","index":34},{"plug":"output","type":"signal","displayName":"Has Reached complete","name":"reached-complete","group":"Current state","index":35},{"plug":"input","type":{"name":"enum","enums":["idle","uploading","complete"]},"group":"States","displayName":"State","name":"currentState","default":"idle","index":36}],"children":[]},{"id":"b305c110-e60a-b6d4-3baf-95b33367143e","type":"Expression","x":39.58642789587748,"y":806.1081997613641,"parameters":{"expression":"progress === 100"},"ports":[],"dynamicports":[{"group":"Parameters","name":"progress","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"3d1b3c66-43c2-b6b3-6580-b6949be6b93a","type":"Expression","x":40.58642789587748,"y":590.1081997613641,"parameters":{"expression":"progress == 0"},"ports":[],"dynamicports":[{"group":"Parameters","name":"progress","type":{"name":"*","editAsType":"string"},"plug":"input","index":7}],"children":[],"metadata":{"merge":{"soureCodePorts":["expression"]}}},{"id":"ea857e75-d4ed-ecd8-20b1-e5055e978dfc","type":"/Global logical components/Generate Google icon object","x":-385,"y":173.95833333333331,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"fd2a5789-f112-91b8-2359-9e8621988f21","type":"String Format","x":316.2,"y":264.2666666666667,"parameters":{"format":"{fileName} - {fileSize}MB"},"ports":[],"dynamicports":[{"name":"fileName","type":"string","plug":"input","index":2},{"name":"fileSize","type":"string","plug":"input","index":3}],"children":[]},{"id":"3ce4e43b-69ce-7f35-4eae-9a700e9d6c92","type":"JavaScriptFunction","label":"Convert Bytes to Megabytes","x":619,"y":295,"parameters":{"functionScript":"const bytes = Inputs.Bytes || 0; // Get the input bytes, default to 0 if not provided\n\nif (bytes < 0) throw new Error('Invalid number of bytes'); // Throw an error if the number of bytes is negative\n\nconst megabytes = bytes / (1024 * 1024); // Convert bytes to megabytes\n\nconst roundedMegabytes = Math.round(megabytes * 100) / 100; // Round the result to 2 decimal places\n\nOutputs.Megabytes = roundedMegabytes; // Output the result\nOutputs.Success(); // Signal success\n"},"ports":[],"dynamicports":[{"name":"in-Bytes","displayName":"Bytes","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Megabytes","displayName":"Megabytes","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"prompt":{"history":[{"content":"convert input number of bytes into MB ","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const bytes = Inputs.Bytes || 0; // Get the input bytes, default to 0 if not provided\n\nif (bytes < 0) throw new Error('Invalid number of bytes'); // Throw an error if the number of bytes is negative\n\nconst megabytes = bytes / (1024 * 1024); // Convert bytes to megabytes\n\nOutputs.Megabytes = megabytes; // Output the result\nOutputs.Success(); // Signal success\n"},"snowflakeId":"019127e35b55-2y4fm6","type":"user"},{"type":"assistant","content":"\nThis function converts a number of bytes into megabytes.\n\nIt takes <span style=\"color: var(--base-color-yellow-400);\">Inputs.Bytes</span> as an input, checks if the number of bytes is negative and throws an error if it is. Then, it converts the bytes into megabytes by dividing the number of bytes by 1024 twice (since 1 megabyte is 1024 kilobytes and 1 kilobyte is 1024 bytes).\n\nThe result is then set as the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Megabytes</span> output. Finally, it triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal to indicate that the conversion was successful.\n","snowflakeId":"019127e37802-mu7t6n","metadata":{}},{"content":"Round the result to 2 decimal places","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"const bytes = Inputs.Bytes || 0; // Get the input bytes, default to 0 if not provided\n\nif (bytes < 0) throw new Error('Invalid number of bytes'); // Throw an error if the number of bytes is negative\n\nconst megabytes = bytes / (1024 * 1024); // Convert bytes to megabytes\n\nconst roundedMegabytes = Math.round(megabytes * 100) / 100; // Round the result to 2 decimal places\n\nOutputs.Megabytes = roundedMegabytes; // Output the result\nOutputs.Success(); // Signal success\n"},"snowflakeId":"019127e41c82-et813z","type":"user"},{"type":"assistant","content":"\nThis function converts a given number of bytes into megabytes and rounds the result to two decimal places.\n\nIt takes <span style=\"color: var(--base-color-yellow-400);\">Inputs.Bytes</span> as an input, checks if the number of bytes is not negative, and then converts the bytes to megabytes. The result is then rounded to two decimal places.\n\nThe rounded result is then set as the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Megabytes</span> output. After the conversion and rounding process is completed successfully, it triggers the <span style=\"color: var(--base-color-yellow-400);\">Outputs.Success</span> output signal.\n","snowflakeId":"019127e44614-6d1wxy","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}},{"id":"30c28e20-d094-2694-1d8d-c2098071636d","type":"String Format","x":-212.79999999999995,"y":603.225,"parameters":{"format":"Upload in progress... {percent}%"},"ports":[],"dynamicports":[{"name":"percent","type":"string","plug":"input","index":2}],"children":[]}],"visualRoots":["11191ff5-578d-ee60-1567-deb1a48260dd"]}},{"name":"/Global visual components/Header","id":"b2a3688b-0567-d117-69aa-236471052587","graph":{"connections":[{"fromId":"6f436b92-8f46-7f04-277b-e6bf6c8ef8b5","fromProperty":"Show menu","toId":"be4e39fd-d4e9-64ad-00bd-744d1be5a838","toProperty":"visible"},{"fromId":"35b1c1ee-4643-e453-dd71-1dfdec6acfd4","fromProperty":"clicked","toId":"fc40c6f6-2741-2686-d210-1211cc75f66b","toProperty":"navigate"},{"fromId":"73ccc4db-f46a-e985-b40f-db1937f58bc7","fromProperty":"clicked","toId":"9f8a4af0-ddec-7471-cdb3-32ff46d5215f","toProperty":"Do"},{"fromId":"9f8a4af0-ddec-7471-cdb3-32ff46d5215f","fromProperty":"Success","toId":"c72c3a27-90c0-b17b-1dae-3567a1ff3ebe","toProperty":"run"}],"roots":[{"id":"6f436b92-8f46-7f04-277b-e6bf6c8ef8b5","type":"Component Inputs","x":-281.5,"y":-13.5,"parameters":{},"ports":[{"name":"Show menu","plug":"output","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"534b4418-d04f-ea97-e271-558b83eed55b","type":"Group","label":"Header","x":0,"y":0,"parameters":{"height":{"value":80,"unit":"px"},"flexDirection":"row","justifyContent":"space-between","backgroundColor":"Hive header grey","paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"boxShadowEnabled":true,"boxShadowColor":"Hive purple","boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowInset":false,"zIndex":1,"boxShadowBlurRadius":{"value":24,"unit":"px"},"boxShadowSpreadRadius":{"value":-5,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"be4e39fd-d4e9-64ad-00bd-744d1be5a838","type":"Group","label":"Left button menu","parameters":{"flexDirection":"row","sizeMode":"contentSize","columnGap":{"value":5,"unit":"px"},"alignY":"center"},"ports":[],"dynamicports":[],"children":[{"id":"35b1c1ee-4643-e453-dd71-1dfdec6acfd4","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"house","codeAsClass":false},"Label":"Dashboard"},"ports":[],"dynamicports":[],"children":[]},{"id":"d01c3d41-fec0-8ae2-193f-0d43471a78f1","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"person","codeAsClass":false},"Label":"Account"},"ports":[],"dynamicports":[],"children":[]},{"id":"73ccc4db-f46a-e985-b40f-db1937f58bc7","type":"/Global visual components/Icon button","parameters":{"Icon":{"class":"material-icons","code":"logout","codeAsClass":false},"Label":"Log out"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"18339c22-24d0-269d-3fda-cf07e9f30828","type":"Group","label":"Logo group","parameters":{"sizeMode":"explicit","height":{"value":80,"unit":"px"},"width":{"value":180,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"7351088c-ece7-07d0-3b9c-a89d8b9f6771","type":"Image","parameters":{"src":"media/visualHiveLogo.png","sizeMode":"explicit","objectFit":"contain"},"ports":[],"dynamicports":[],"children":[]}]}]},{"id":"fc40c6f6-2741-2686-d210-1211cc75f66b","type":"RouterNavigate","x":317.25,"y":173.25,"parameters":{"router":"Main","target":"/#Pages/dashboard"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"component","title":"Choose page component","components":["/#Pages/connect","/#Pages/dashboard","/#Pages/my-account","/#Pages/clients","/#Pages/videos","/#Pages/video","/#Pages/experiment","/#Pages/projects","/#Pages/clips"],"allowEditOnly":true},"group":"General","displayName":"Target Page","name":"target","index":3}],"children":[]},{"id":"9f8a4af0-ddec-7471-cdb3-32ff46d5215f","type":"/#Directus/Directus Prefab/Components/Auth/Directus - Logout","x":330.41666666666663,"y":311.5833333333333,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"c72c3a27-90c0-b17b-1dae-3567a1ff3ebe","type":"JavaScriptFunction","label":"Refresh Current Window","x":553,"y":312,"parameters":{"functionScript":"// Refresh the current window\nwindow.location.reload();\n"},"ports":[],"dynamicports":[],"children":[],"metadata":{"prompt":{"history":[{"content":"Refresh the current window","metadata":{"user":{"name":"Local","id":"local","email":""},"code":"// Refresh the current window\nwindow.location.reload();\n"},"snowflakeId":"01912eb14e80-24hfif","type":"user"},{"type":"assistant","content":"\nThis function refreshes the current window in the web browser. It uses the built-in JavaScript function `window.location.reload()` to refresh or reload the current document. This function does not have any inputs or outputs.\n","snowflakeId":"01912eb1599e-eqy567","metadata":{}}],"metadata":{"templateId":"function"}},"AiAssistant":"old","merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["534b4418-d04f-ea97-e271-558b83eed55b"]}},{"name":"/Global visual components/Icon button","id":"c958f137-04ef-7a8d-b488-3318ce31ebaa","graph":{"connections":[{"fromId":"c0a51c58-4366-48f9-0dbf-ef4cd355c52c","fromProperty":"onClick","toId":"c9026f98-9cad-6f57-b853-9952ee03e599","toProperty":"clicked"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Icon","toId":"9b1ef9fc-ca9c-53fd-84e8-cf3c86d3311b","toProperty":"iconIconSource"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Label","toId":"eb3d1b01-ea32-7ac2-e351-abf68f5c2601","toProperty":"text"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Foreground colour neutral","toId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","toProperty":"value-neutral-foreground colour"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Background colour neutral","toId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","toProperty":"value-neutral-background colour"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Foreground colour hovered","toId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","toProperty":"value-hovered-foreground colour"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Background colour hovered","toId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","toProperty":"value-hovered-background colour"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Foreground colour disabled","toId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","toProperty":"value-disabled-foreground colour"},{"fromId":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","fromProperty":"Background colour disabled","toId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","toProperty":"value-disabled-background colour"},{"fromId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","fromProperty":"foreground colour","toId":"9b1ef9fc-ca9c-53fd-84e8-cf3c86d3311b","toProperty":"iconColor"},{"fromId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","fromProperty":"foreground colour","toId":"eb3d1b01-ea32-7ac2-e351-abf68f5c2601","toProperty":"color"},{"fromId":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","fromProperty":"background colour","toId":"c0a51c58-4366-48f9-0dbf-ef4cd355c52c","toProperty":"backgroundColor"}],"roots":[{"id":"c0a51c58-4366-48f9-0dbf-ef4cd355c52c","type":"Group","x":0,"y":0,"parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","flexDirection":"row","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"alignItems":"center","columnGap":{"value":5,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"dynamicports":[],"children":[{"id":"9b1ef9fc-ca9c-53fd-84e8-cf3c86d3311b","type":"net.noodl.visual.icon","parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"eb3d1b01-ea32-7ac2-e351-abf68f5c2601","type":"Text","parameters":{},"ports":[],"dynamicports":[],"children":[]}]},{"id":"c9026f98-9cad-6f57-b853-9952ee03e599","type":"Component Outputs","x":277.5,"y":26,"parameters":{},"ports":[{"name":"clicked","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]},{"id":"bce9c507-5f65-d7fe-0630-bf843e3b08a4","type":"States","x":-222.5,"y":74,"parameters":{"states":"hovered,neutral,disabled","currentState":"neutral","values":"foreground colour,background colour","type-foreground colour":"color","type-background colour":"color","value-hovered-foreground colour":"Hive blue","value-hovered-background colour":"transparent","value-neutral-foreground colour":"White","value-neutral-background colour":"transparent","value-disabled-foreground colour":"Grey - 400","value-disabled-background colour":"transparent"},"ports":[],"dynamicports":[{"type":{"name":"color","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"foreground colour","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"foreground colour","name":"type-foreground colour","index":7},{"type":{"name":"color","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"background colour","index":8},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"background colour","name":"type-background colour","index":9},{"plug":"input","type":"color","group":"hovered Values","name":"value-hovered-foreground colour","displayName":"foreground colour","editorName":"hovered|foreground colour","index":10},{"plug":"input","type":"color","group":"hovered Values","name":"value-hovered-background colour","displayName":"background colour","editorName":"hovered|background colour","index":11},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hovered Transitions","name":"transitiondef-hovered","index":12},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hovered Transitions","name":"transition-hovered-foreground colour","displayName":"foreground colour","editorName":"Transition hovered|foreground colour","index":13},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"hovered Transitions","name":"transition-hovered-background colour","displayName":"background colour","editorName":"Transition hovered|background colour","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To hovered","name":"to-hovered","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At hovered","name":"at-hovered","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached hovered","name":"reached-hovered","group":"Current state","index":17},{"plug":"input","type":"color","group":"neutral Values","name":"value-neutral-foreground colour","displayName":"foreground colour","editorName":"neutral|foreground colour","index":18},{"plug":"input","type":"color","group":"neutral Values","name":"value-neutral-background colour","displayName":"background colour","editorName":"neutral|background colour","index":19},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"neutral Transitions","name":"transitiondef-neutral","index":20},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"neutral Transitions","name":"transition-neutral-foreground colour","displayName":"foreground colour","editorName":"Transition neutral|foreground colour","index":21},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"neutral Transitions","name":"transition-neutral-background colour","displayName":"background colour","editorName":"Transition neutral|background colour","index":22},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To neutral","name":"to-neutral","group":"Go to state","index":23},{"plug":"output","type":"boolean","displayName":"At neutral","name":"at-neutral","group":"Current state","index":24},{"plug":"output","type":"signal","displayName":"Has Reached neutral","name":"reached-neutral","group":"Current state","index":25},{"plug":"input","type":"color","group":"disabled Values","name":"value-disabled-foreground colour","displayName":"foreground colour","editorName":"disabled|foreground colour","index":26},{"plug":"input","type":"color","group":"disabled Values","name":"value-disabled-background colour","displayName":"background colour","editorName":"disabled|background colour","index":27},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"disabled Transitions","name":"transitiondef-disabled","index":28},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"disabled Transitions","name":"transition-disabled-foreground colour","displayName":"foreground colour","editorName":"Transition disabled|foreground colour","index":29},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"disabled Transitions","name":"transition-disabled-background colour","displayName":"background colour","editorName":"Transition disabled|background colour","index":30},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To disabled","name":"to-disabled","group":"Go to state","index":31},{"plug":"output","type":"boolean","displayName":"At disabled","name":"at-disabled","group":"Current state","index":32},{"plug":"output","type":"signal","displayName":"Has Reached disabled","name":"reached-disabled","group":"Current state","index":33},{"plug":"input","type":{"name":"enum","enums":["hovered","neutral","disabled"]},"group":"States","displayName":"State","name":"currentState","default":"hovered","index":34}],"children":[]},{"id":"5464ac12-9ac4-f61b-1888-9f6c81cd5f47","type":"Component Inputs","x":-476.5,"y":55,"parameters":{},"ports":[{"name":"Foreground colour neutral","plug":"output","type":{"name":"*"},"group":"Neutral","index":0},{"name":"Background colour neutral","plug":"output","type":{"name":"*"},"group":"Neutral","index":1},{"name":"Foreground colour hovered","plug":"output","type":{"name":"*"},"group":"Hovered","index":2},{"name":"Background colour hovered","plug":"output","type":{"name":"*"},"group":"Hovered","index":3},{"name":"Icon","plug":"output","type":{"name":"*"},"group":"General","index":6},{"name":"Label","plug":"output","type":{"name":"*"},"group":"General","index":7},{"name":"Foreground colour disabled","plug":"output","type":{"name":"*"},"group":"Disabled","index":4},{"name":"Background colour disabled","plug":"output","type":{"name":"*"},"group":"Disabled","index":5}],"dynamicports":[],"children":[]}],"visualRoots":["c0a51c58-4366-48f9-0dbf-ef4cd355c52c"]}},{"name":"/Global visual components/Pretty icon","id":"9608c708-10a3-2181-0dd3-2a181963f679","graph":{"connections":[{"fromId":"5575baba-daf6-4792-ec0e-ae2628936c36","fromProperty":"icon","toId":"07ea4d48-be06-0251-ce41-d21523a41c7d","toProperty":"iconIconSource"},{"fromId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","fromProperty":"onClick","toId":"59375b57-9958-d08b-c8ab-28c5f4ae29e6","toProperty":"Clicked"},{"fromId":"5575baba-daf6-4792-ec0e-ae2628936c36","fromProperty":"align x","toId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","toProperty":"alignX"},{"fromId":"5575baba-daf6-4792-ec0e-ae2628936c36","fromProperty":"align y","toId":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","toProperty":"alignY"}],"roots":[{"id":"d4f3fc5e-4686-c484-e2b4-bceaf6f50528","type":"Group","x":0,"y":0,"parameters":{"sizeMode":"contentSize","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"borderRadius":{"value":20,"unit":"px"},"backgroundColor":"Grey - 400","styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"dynamicports":[],"children":[{"id":"07ea4d48-be06-0251-ce41-d21523a41c7d","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"upload_file","codeAsClass":false},"iconColor":"Grey - 900","iconSize":{"value":24,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"5575baba-daf6-4792-ec0e-ae2628936c36","type":"Component Inputs","x":-228,"y":47.5,"parameters":{},"ports":[{"name":"icon","plug":"output","type":{"name":"*"},"index":1},{"name":"align x","plug":"output","type":{"name":"*"},"index":2},{"name":"align y","plug":"output","type":{"name":"*"},"index":3}],"dynamicports":[],"children":[]},{"id":"59375b57-9958-d08b-c8ab-28c5f4ae29e6","type":"Component Outputs","x":268,"y":35.5,"parameters":{},"ports":[{"name":"Clicked","plug":"input","type":{"name":"*"},"index":1}],"dynamicports":[],"children":[]}],"visualRoots":["d4f3fc5e-4686-c484-e2b4-bceaf6f50528"]}},{"name":"/Show Toast","id":"6e555d84-cf95-758d-ef3b-c3ea23a79401","graph":{"connections":[{"fromId":"e89d9f0d-5fd7-ac9d-ce70-81ef25b1ec34","fromProperty":"Do","toId":"d0854933-5e3a-5671-8866-d8ccb810c1cf","toProperty":"show"},{"fromId":"e89d9f0d-5fd7-ac9d-ce70-81ef25b1ec34","fromProperty":"Message","toId":"29dc7ffb-a564-bfc2-6af1-0cba7c2784f1","toProperty":"value"},{"fromId":"29dc7ffb-a564-bfc2-6af1-0cba7c2784f1","fromProperty":"savedValue","toId":"d0854933-5e3a-5671-8866-d8ccb810c1cf","toProperty":"popupParam-Message"},{"fromId":"e89d9f0d-5fd7-ac9d-ce70-81ef25b1ec34","fromProperty":"Type","toId":"bfead1e7-4ce8-8f5f-4230-dac1b81dc931","toProperty":"currentState"},{"fromId":"bfead1e7-4ce8-8f5f-4230-dac1b81dc931","fromProperty":"currentState","toId":"d0854933-5e3a-5671-8866-d8ccb810c1cf","toProperty":"popupParam-Type"}],"roots":[{"id":"e89d9f0d-5fd7-ac9d-ce70-81ef25b1ec34","type":"Component Inputs","x":-408,"y":16,"parameters":{},"ports":[{"name":"Do","plug":"output","type":"*","index":0},{"name":"Message","plug":"output","type":{"name":"*"},"index":1,"group":"General"},{"name":"Type","plug":"output","type":{"name":"*"},"group":"General","index":2}],"dynamicports":[],"children":[]},{"id":"00c7594a-c478-2bbb-560f-011d15acc7b6","type":"Component Outputs","x":330,"y":27,"parameters":{},"ports":[{"name":"Success","plug":"input","type":"*","index":0},{"name":"Failure","plug":"input","type":"*","index":1}],"dynamicports":[],"children":[]},{"id":"d0854933-5e3a-5671-8866-d8ccb810c1cf","type":"NavigationShowPopup","x":81.5,"y":-2.5,"parameters":{"target":"/Show Toast/Toast Component"},"ports":[],"dynamicports":[{"name":"popupParam-Message","displayName":"Message","type":"*","plug":"input","group":"Params","index":3},{"name":"popupParam-Type","displayName":"Type","type":"*","plug":"input","group":"Params","index":4}],"children":[]},{"id":"29dc7ffb-a564-bfc2-6af1-0cba7c2784f1","type":"String","x":-160.5,"y":-53.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"bfead1e7-4ce8-8f5f-4230-dac1b81dc931","type":"States","x":-158.75,"y":92.75,"parameters":{"states":"Warning,Normal,Error,Success","currentState":"Normal"},"ports":[],"dynamicports":[{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Warning","name":"to-Warning","group":"Go to state","index":6},{"plug":"output","type":"boolean","displayName":"At Warning","name":"at-Warning","group":"Current state","index":7},{"plug":"output","type":"signal","displayName":"Has Reached Warning","name":"reached-Warning","group":"Current state","index":8},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Normal","name":"to-Normal","group":"Go to state","index":9},{"plug":"output","type":"boolean","displayName":"At Normal","name":"at-Normal","group":"Current state","index":10},{"plug":"output","type":"signal","displayName":"Has Reached Normal","name":"reached-Normal","group":"Current state","index":11},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Error","name":"to-Error","group":"Go to state","index":12},{"plug":"output","type":"boolean","displayName":"At Error","name":"at-Error","group":"Current state","index":13},{"plug":"output","type":"signal","displayName":"Has Reached Error","name":"reached-Error","group":"Current state","index":14},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Success","name":"to-Success","group":"Go to state","index":15},{"plug":"output","type":"boolean","displayName":"At Success","name":"at-Success","group":"Current state","index":16},{"plug":"output","type":"signal","displayName":"Has Reached Success","name":"reached-Success","group":"Current state","index":17},{"plug":"input","type":{"name":"enum","enums":["Warning","Normal","Error","Success"]},"group":"States","displayName":"State","name":"currentState","default":"Warning","index":18}],"children":[]}],"visualRoots":[]}},{"name":"/Show Toast/Error","id":"9e3d1a19-7254-efcc-f1cc-9e5cad5b2130","graph":{"connections":[{"fromId":"9f1adbd6-2de4-6876-df61-c68958a914f5","fromProperty":"Message","toId":"59f52c0d-0e1f-03e9-5493-00e35b815d76","toProperty":"text"}],"roots":[{"id":"9f1adbd6-2de4-6876-df61-c68958a914f5","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"fe90b7e2-a336-51c7-f9d8-eab086d2fa1e","type":"Group","x":15.5,"y":100,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Danger","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"546180d6-130a-5dea-e85e-7aea6d4eb582","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F75A4F3F","alignItems":"center","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"c1efaf92-a6b6-24a3-c33f-00136a62efda","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"error"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Danger"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"59f52c0d-0e1f-03e9-5493-00e35b815d76","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}],"visualRoots":["fe90b7e2-a336-51c7-f9d8-eab086d2fa1e"]}},{"name":"/Show Toast/Normal","id":"c567da49-4d6d-31cd-8fcd-0af18de931c7","graph":{"connections":[{"fromId":"cafa463d-2da7-73eb-41e9-1244a0bc69d3","fromProperty":"Message","toId":"9f876913-2117-8e25-f754-a3819ba3f30d","toProperty":"text"}],"roots":[{"id":"6526d39d-c7ad-1d5d-b080-b65e807268b3","type":"Group","x":-26.5,"y":77.5,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000026","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"height":{"value":56,"unit":"px"},"justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"9f876913-2117-8e25-f754-a3819ba3f30d","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Medium"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"cafa463d-2da7-73eb-41e9-1244a0bc69d3","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":["6526d39d-c7ad-1d5d-b080-b65e807268b3"]}},{"name":"/Show Toast/Success","id":"db33b6e9-303f-1325-3148-ebb7d7c79538","graph":{"connections":[{"fromId":"11b96af8-f4ab-ba4d-95d8-8ca17e425569","fromProperty":"Message","toId":"08c55f80-6c37-4b1c-5176-d75a1ba1e62e","toProperty":"text"}],"roots":[{"id":"061a6d75-f19c-3c4c-fc32-7bf3ec96718b","type":"Group","x":-26.5,"y":77.5,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000019","borderWidth":{"value":1,"unit":"px"},"borderColor":"Success","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"3d7c2111-8e09-9eec-29f1-7f8d82873c60","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#49AD7F3F","alignItems":"center","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"8f2f3718-da44-7aaa-4549-763d08c7c7db","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"check_circle"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Success"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"08c55f80-6c37-4b1c-5176-d75a1ba1e62e","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]},{"id":"11b96af8-f4ab-ba4d-95d8-8ca17e425569","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]}],"visualRoots":["061a6d75-f19c-3c4c-fc32-7bf3ec96718b"]}},{"name":"/Show Toast/Toast Component","id":"ce821687-53d9-b313-f7d3-810a38aa6bda","graph":{"connections":[{"fromId":"bf8b26e1-45d2-7bb9-0849-5ff1441a5108","fromProperty":"didMount","toId":"090305f6-d969-c82e-9aa4-46ede7f4a915","toProperty":"run"},{"fromId":"bf8b26e1-45d2-7bb9-0849-5ff1441a5108","fromProperty":"this","toId":"090305f6-d969-c82e-9aa4-46ede7f4a915","toProperty":"in-This"},{"fromId":"284bd218-4ee9-ce3a-7b1c-69e63bcd906f","fromProperty":"timerFinished","toId":"e89af086-c453-4aad-cd01-9cbd62085e71","toProperty":"to-No"},{"fromId":"e89af086-c453-4aad-cd01-9cbd62085e71","fromProperty":"reached-No","toId":"f5726579-309c-4ed3-4b3b-62ab54873413","toProperty":"close"},{"fromId":"bf8b26e1-45d2-7bb9-0849-5ff1441a5108","fromProperty":"didMount","toId":"e89af086-c453-4aad-cd01-9cbd62085e71","toProperty":"to-Yes"},{"fromId":"e89af086-c453-4aad-cd01-9cbd62085e71","fromProperty":"Pos","toId":"5154ad5a-2d59-3337-975f-c6b5fc9ba8f4","toProperty":"transformY"},{"fromId":"bf8b26e1-45d2-7bb9-0849-5ff1441a5108","fromProperty":"didMount","toId":"284bd218-4ee9-ce3a-7b1c-69e63bcd906f","toProperty":"start"},{"fromId":"c72a82ce-962c-7968-e70d-cc1aeb519578","fromProperty":"Message","toId":"06f173fe-02d0-3039-cab4-15b1c84c4c99","toProperty":"in-Message"},{"fromId":"c72a82ce-962c-7968-e70d-cc1aeb519578","fromProperty":"Type","toId":"06f173fe-02d0-3039-cab4-15b1c84c4c99","toProperty":"in-Type"},{"fromId":"06f173fe-02d0-3039-cab4-15b1c84c4c99","fromProperty":"out-ToastType","toId":"a5047273-0784-b83d-c140-95643e12f8af","toProperty":"items"}],"roots":[{"id":"bf8b26e1-45d2-7bb9-0849-5ff1441a5108","type":"Group","x":-22,"y":-39,"parameters":{"position":"absolute","pointerEventsEnabled":false,"mounted":true,"sizeMode":"contentHeight"},"ports":[],"dynamicports":[],"children":[{"id":"5154ad5a-2d59-3337-975f-c6b5fc9ba8f4","type":"Group","label":"Toast","parameters":{"sizeMode":"contentSize","marginTop":{"value":24,"unit":"px"},"alignX":"center","alignY":"top","minWidth":{"value":150,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"a5047273-0784-b83d-c140-95643e12f8af","type":"For Each","parameters":{"templateType":"dynamic","templateScript":"component = '../' + item.Type;"},"ports":[],"dynamicports":[],"children":[],"metadata":{"merge":{"soureCodePorts":["templateScript"]}}}]}]},{"id":"090305f6-d969-c82e-9aa4-46ede7f4a915","type":"JavaScriptFunction","label":"Ensure click through","x":258.5,"y":-62.5,"parameters":{"functionScript":"// Make sure you can click through parent div\n// so it doesn't block like normal popups\nInputs.This.getDOMElement().style.pointerEvents = 'none'\nInputs.This.getDOMElement().parentElement.style.pointerEvents = 'none'"},"ports":[],"dynamicports":[{"name":"in-This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":4}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}},{"id":"284bd218-4ee9-ce3a-7b1c-69e63bcd906f","type":"Timer","x":-269.5,"y":-49.5,"parameters":{"duration":3000},"ports":[],"dynamicports":[],"children":[]},{"id":"f5726579-309c-4ed3-4b3b-62ab54873413","type":"NavigationClosePopup","x":-778.5,"y":69.5,"parameters":{},"ports":[],"dynamicports":[],"children":[]},{"id":"e89af086-c453-4aad-cd01-9cbd62085e71","type":"States","label":"Visible","x":-513.5,"y":5.5,"parameters":{"states":"Yes,No","values":"Pos","value-Yes-Pos":0,"value-No-Pos":-200,"currentState":"No"},"ports":[],"dynamicports":[{"type":{"name":"number","allowConnectionsOnly":true},"plug":"output","group":"Values","name":"Pos","index":6},{"type":{"name":"enum","enums":[{"label":"Number","value":"number"},{"label":"String","value":"string"},{"label":"Boolean","value":"boolean"},{"label":"Color","value":"color"},{"label":"Text Style","value":"textStyle"}],"allowEditOnly":true},"default":"number","plug":"input","group":"Types","displayName":"Pos","name":"type-Pos","index":7},{"plug":"input","type":"number","group":"Yes Values","name":"value-Yes-Pos","displayName":"Pos","editorName":"Yes|Pos","index":8},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Yes Transitions","name":"transitiondef-Yes","index":9},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"Yes Transitions","name":"transition-Yes-Pos","displayName":"Pos","editorName":"Transition Yes|Pos","index":10},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To Yes","name":"to-Yes","group":"Go to state","index":11},{"plug":"output","type":"boolean","displayName":"At Yes","name":"at-Yes","group":"Current state","index":12},{"plug":"output","type":"signal","displayName":"Has Reached Yes","name":"reached-Yes","group":"Current state","index":13},{"plug":"input","type":"number","group":"No Values","name":"value-No-Pos","displayName":"Pos","editorName":"No|Pos","index":14},{"plug":"input","type":"curve","displayName":"Default","default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"No Transitions","name":"transitiondef-No","index":15},{"plug":"input","type":{"name":"curve"},"default":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"group":"No Transitions","name":"transition-No-Pos","displayName":"Pos","editorName":"Transition No|Pos","index":16},{"plug":"input","type":{"name":"signal","allowConnectionsOnly":true},"displayName":"To No","name":"to-No","group":"Go to state","index":17},{"plug":"output","type":"boolean","displayName":"At No","name":"at-No","group":"Current state","index":18},{"plug":"output","type":"signal","displayName":"Has Reached No","name":"reached-No","group":"Current state","index":19},{"plug":"input","type":{"name":"enum","enums":["Yes","No"]},"group":"States","displayName":"State","name":"currentState","default":"Yes","index":20}],"children":[]},{"id":"c72a82ce-962c-7968-e70d-cc1aeb519578","type":"Component Inputs","x":542.5,"y":140.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Type","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"06f173fe-02d0-3039-cab4-15b1c84c4c99","type":"JavaScriptFunction","x":279.91666666666663,"y":139.25,"parameters":{"functionScript":"Outputs.ToastType = [\n    {\n        Message:Inputs.Message,\n        Type:Inputs.Type\n    }\n]"},"ports":[],"dynamicports":[{"name":"in-Message","displayName":"Message","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Type","displayName":"Type","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-ToastType","displayName":"ToastType","plug":"output","type":"*","group":"Outputs","index":6}],"children":[],"metadata":{"merge":{"soureCodePorts":["functionScript"]}}}],"visualRoots":["bf8b26e1-45d2-7bb9-0849-5ff1441a5108"]}},{"name":"/Show Toast/Warning","id":"11ccd9ed-7783-0bcd-2453-a7decbf10092","graph":{"connections":[{"fromId":"8f56b260-a51e-c11d-a2b5-3ed3b0461ff7","fromProperty":"Message","toId":"76f6b8b1-7043-4e72-98c9-d6905f4d8bc3","toProperty":"text"}],"roots":[{"id":"8f56b260-a51e-c11d-a2b5-3ed3b0461ff7","type":"Component Inputs","x":-301.5,"y":117.5,"parameters":{},"ports":[{"name":"Message","plug":"output","type":{"name":"*"},"index":1},{"name":"Mounted","plug":"output","type":{"name":"*"},"index":2}],"dynamicports":[],"children":[]},{"id":"20a46ab6-fb14-aa64-33d6-4bf096db3e81","type":"Group","x":-42.5,"y":-21,"parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000033","borderWidth":{"value":1,"unit":"px"},"borderColor":"Notice","flexDirection":"row","alignItems":"center","height":{"value":56,"unit":"px"},"borderStyle":"solid","paddingRight":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[{"id":"f8d8c0aa-6831-b1d5-5c11-bd371863cfde","type":"Group","parameters":{"width":{"value":56,"unit":"px"},"height":{"value":56,"unit":"px"},"backgroundColor":"#F2C4413F","alignItems":"center","justifyContent":"center"},"ports":[],"dynamicports":[],"children":[{"id":"40ae3ecd-b047-34cc-2c46-3a81dba213ee","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"warning"},"iconSize":{"value":24,"unit":"px"},"iconColor":"Notice"},"ports":[],"dynamicports":[],"children":[]}]},{"id":"76f6b8b1-7043-4e72-98c9-d6905f4d8bc3","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Large","marginLeft":{"value":16,"unit":"px"}},"ports":[],"dynamicports":[],"children":[]}]}],"visualRoots":["20a46ab6-fb14-aa64-33d6-4bf096db3e81"]}}],"settings":{"bodyScroll":true,"navigationPathType":"path","headCode":"<script type=\"module\">\n  import * as Directus from \"https://esm.sh/@directus/sdk\";\n  window.Directus = Directus;\n</script>"},"rootNodeId":"246f9453-a119-ac78-171e-3806cf596ecc","version":"4","metadata":{"styles":{"text":{"Display":{"letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none","fontSize":{"value":"40","unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","color":"#000000"},"Headline":{"fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":"32","unit":"px"},"color":"#000000","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Large":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","fontSize":{"value":"24","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120%","unit":"px"},"textTransform":"none"},"Title Medium":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","fontSize":{"value":"20","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Title Small":{"fontFamily":"fonts/Istok_Web/IstokWeb-Bold.ttf","fontSize":{"value":"16","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Large":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"18","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Medium":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"16","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Label Small":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"14","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"120","unit":"%"},"textTransform":"none"},"Body Large":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"20","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Medium":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"16","unit":"px"},"color":"#FFFFFF","letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none"},"Body Small":{"letterSpacing":"Auto","lineHeight":{"value":"150","unit":"%"},"textTransform":"none","fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","fontSize":{"value":"14","unit":"px"},"color":"#FFFFFF"}},"colors":{"Primary":"#5836F5","Primary Subtle":"#C9BFFC","Primary Light":"#F7F5FF","Grey - 900":"#1F1F1F","Grey - 800":"#383838","Grey - 700":"#4C4C4C","Grey - 600":"#757575","Grey - 500":"#A5A5A5","Grey - 400":"#CECECE","Grey - 300":"#E9E9E9","Grey - 200":"#F4F4F4","Grey - 100":"#FBFBFB","Success":"#49AD7F","Notice":"#F2C441","Danger":"#F75A4F","White":"#FFFFFF","Black":"#000000","Hive blue":"#8DBFD4","Hive page grey":"#4B4B4B","Hive header grey":"#383838","Hive purple":"#9747FF","Hive light purple":"#C055C391"}}},"variants":[{"typename":"Text","parameters":{"textStyle":"Body Medium"},"stateParamaters":{},"stateTransitions":{}},{"typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","backgroundColor":"Primary","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"#FFFFFF","minWidth":{"value":80,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"}},"stateParamaters":{"hover":{"backgroundColor":"Hive purple"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.textinput","parameters":{"useLabel":true,"sizeMode":"explicit","height":{"value":40,"unit":"px"},"textStyle":"Body Medium","borderStyle":"solid","borderRadius":{"value":4,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 700","labeltextStyle":"Label Small","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"labelSpacing":{"value":4,"unit":"px"},"placeholder":"Type here","color":"Grey - 900","placeHolderOpacity":0.65,"enabled":true,"blockTouch":false,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"home"},"iconSize":{"value":20,"unit":"px"},"iconSpacing":{"value":4,"unit":"px"},"iconColor":"Grey - 700","labelcolor":"Grey - 700"},"stateParamaters":{"hover":{"labelcolor":"Grey - 700","borderColor":"Grey - 700","borderStyle":"solid","color":"Grey - 900"},"focused":{"borderColor":"Primary","labelcolor":"Primary","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowColor":"Primary","borderStyle":"solid"},"disabled":{"labelcolor":"Grey - 500","backgroundColor":"Grey - 200","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"disabled":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.options","parameters":{"sizeMode":"explicit","height":{"value":40,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"borderColor":"Grey - 700","boxShadowColor":"Dark Gray","useIcon":true,"iconIconSource":{"class":"material-icons","code":"expand_more"},"iconPlacement":"right","iconSize":{"value":20,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"textStyle":"Body Medium","paddingLeft":{"value":12,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"width":{"value":100,"unit":"%"},"iconColor":"Grey - 700","placeholderOpacity":0.65,"placeholder":"Select option","useLabel":true,"labelSpacing":{"value":4,"unit":"px"},"labeltextStyle":"Label Small","labelcolor":"Grey - 700","items":"[\n    {\"Label\":\"Option 1\", \"Value\":\"1\"},\n    {\"Label\":\"Option 2\", \"Value\":\"2\"},\n    {\"Label\":\"Option 3\", \"Value\":\"3\"}\n]"},"stateParamaters":{"hover":{"borderColor":"Grey - 700","borderRadius":{"value":4,"unit":"px"},"iconColor":"Grey - 900","iconSize":{"value":20,"unit":"px"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Grey - 700"},"focused":{"borderColor":"Primary","boxShadowColor":"Primary","borderRadius":{"value":4,"unit":"px"},"useIcon":true,"iconColor":"Primary","iconIconSource":{"class":"material-icons","code":"keyboard_arrow_up"},"iconPlacement":"right","color":"Grey - 900","labelcolor":"Primary"},"pressed":{"borderRadius":{"value":4,"unit":"px"}},"disabled":{"labelcolor":"Grey - 500","iconColor":"Grey - 500","borderColor":"Grey - 500","color":"Grey - 600","backgroundColor":"Grey - 200"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.range","parameters":{"thumbColor":"Primary","thumbBorderRadius":{"value":100,"unit":"%"},"trackHeight":{"value":4,"unit":"px"},"trackActiveColor":"Primary","trackColor":"Primary Subtle","width":{"value":100,"unit":"%"},"trackBorderRadius":{"value":100,"unit":"px"},"thumbHeight":{"value":16,"unit":"px"},"thumbWidth":{"value":16,"unit":"px"}},"stateParamaters":{"hover":{"thumbColor":"Hive purple","trackActiveColor":"Hive purple"},"disabled":{"trackActiveColor":"Grey - 500","trackColor":"Grey - 300","thumbColor":"Grey - 500"}},"stateTransitions":{}},{"typename":"net.noodl.controls.checkbox","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useIcon":false,"borderWidth":{"value":1,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Medium","borderRadius":{"value":2,"unit":"px"},"borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParamaters":{"checked":{"useIcon":true,"iconIconSource":{"class":"material-icons","code":"check"},"backgroundColor":"Primary","borderColor":"Primary","iconSize":{"value":16,"unit":"px"}},"disabled":{"opacity":0.5},"hover":{"borderColor":"Grey - 700"},"pressed":{}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":300,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"typename":"net.noodl.controls.radiobutton","parameters":{"width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"useLabel":true,"labeltextStyle":"Body Large","borderWidth":{"value":1,"unit":"px"},"value":"0","useIcon":false,"fillColor":"transparent","borderColor":"Grey - 700","labelfontSize":{"value":16,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"labelcolor":"Grey - 900","labelSpacing":{"value":12,"unit":"px"}},"stateParamaters":{"checked":{"fillColor":"Primary","borderColor":"Primary","borderWidth":{"value":1,"unit":"px"},"backgroundColor":"transparent","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"},"fillSpacing":{"value":2,"unit":"px"}},"hover":{"backgroundColor":"transparent","borderColor":"Grey - 700","width":{"value":20,"unit":"px"},"height":{"value":20,"unit":"px"}},"disabled":{"borderColor":"Grey - 500","labelcolor":"Grey - 500","fillColor":"transparent"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"checked":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Standard input","typename":"net.noodl.controls.textinput","parameters":{"useLabel":true,"sizeMode":"contentHeight","height":{"value":40,"unit":"px"},"textStyle":"Body Medium","borderStyle":"solid","borderRadius":{"value":4,"unit":"px"},"borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 700","labeltextStyle":"Label Small","paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"labelSpacing":{"value":4,"unit":"px"},"placeholder":"Type here","color":"Grey - 900","placeHolderOpacity":0.65,"enabled":true,"blockTouch":false,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"home"},"iconSize":{"value":20,"unit":"px"},"iconSpacing":{"value":4,"unit":"px"},"iconColor":"Grey - 700","labelcolor":"Grey - 400","backgroundColor":"White","label":"Email","paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"type":"email"},"stateParamaters":{"hover":{"labelcolor":"White","borderColor":"Hive purple","borderStyle":"solid","color":"Grey - 900","borderRadius":{"value":8,"unit":"px"}},"focused":{"borderColor":"Primary","labelcolor":"White","borderWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowColor":"Primary","borderStyle":"solid","borderRadius":{"value":8,"unit":"px"}},"disabled":{"labelcolor":"Grey - 500","backgroundColor":"Grey - 200","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","color":"Grey - 600"},"pressed":{"labelcolor":"White","borderColor":"Hive purple","borderRadius":{"value":8,"unit":"px"}}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"focused":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"disabled":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Standard button","typename":"net.noodl.controls.button","parameters":{"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","backgroundColor":"Hive light purple","iconIconSource":{"class":"material-icons","code":"home"},"iconSpacing":{"value":8,"unit":"px"},"borderRadius":{"value":4,"unit":"px"},"textStyle":"Label Medium","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"color":"#FFFFFF","minWidth":{"value":80,"unit":"px"},"useIcon":false,"iconSize":{"value":20,"unit":"px"},"alignX":"center","label":"Sign up"},"stateParamaters":{"hover":{"backgroundColor":"#C055C3B2"},"pressed":{"backgroundColor":"Primary","color":"White"},"disabled":{"backgroundColor":"Grey - 300","color":"Grey - 600"}},"stateTransitions":{},"defaultStateTransitions":{"neutral":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"hover":{"curve":[0,0,0.58,1],"dur":0,"delay":0},"pressed":{"curve":[0,0,0.58,1],"dur":0,"delay":0}}},{"name":"Clickable text","typename":"Text","parameters":{"textStyle":"Body Medium","text":"Already have an account? Click here to log in","alignX":"center","sizeMode":"contentHeight","textAlignX":"center","styleCss":"/* background-color: red; */\ncursor: pointer;"},"stateParamaters":{"hover":{"color":"Hive light purple"}},"stateTransitions":{}},{"name":"Tile","typename":"Group","parameters":{"borderRadius":{"value":10,"unit":"px"},"backgroundColor":"Hive header grey","paddingLeft":{"value":20,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"stateParamaters":{},"stateTransitions":{}}]}