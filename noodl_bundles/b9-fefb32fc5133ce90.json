[{"name":"/#Pages/dashboard/video tile","nodes":[{"id":"b7fc0395-1dc6-cecd-6d20-e5ea55528af6","type":"Group","parameters":{"rowGap":{"value":10,"unit":"px"},"backgroundColor":"Grey - 300","borderRadius":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"0af0186d-a2e7-6768-1b1d-badd305b3a3d","type":"/Global visual components/Pretty icon","parameters":{"position":"absolute","align x":"right","margin right":{"value":10,"unit":"px"},"margin top":{"value":10,"unit":"px"},"icon_name":"more_horiz","size":"32"},"ports":[],"children":[]},{"id":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","type":"/Global visual components/Pretty icon","parameters":{"position":"absolute","align x":"right","margin right":{"value":10,"unit":"px"},"margin top":{"value":10,"unit":"px"},"icon_name":"add","size":"32"},"ports":[],"children":[]},{"id":"fb00b872-1f75-9ebd-4555-7262a26d69ed","type":"/Global visual components/Context menu","parameters":{"menuItems":"[\n    { \"itemText\": \"Create new project\",\n      \"itemId\": \"createProject\",\n        \"textColour\": \"#000\" },\n    { \"itemText\": \"Delete\",\n      \"itemId\": \"delete\",\n        \"textColour\": \"#F75A4F\" }\n]"},"ports":[],"children":[]},{"id":"2f99ee22-f504-1c8b-6925-74da9525b269","type":"Image","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"%"},"height":{"value":200,"unit":"px"},"objectFit":"cover","src":"media/pexels-zhuhehuai-716276.jpg","borderRadius":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"8a67c04a-33b1-b769-dcb7-c3103d97afda","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"df951a53-c189-01d0-335c-4b45453fa094","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":20,"unit":"px"},"alignItems":"center","alignY":"center","rowGap":{"value":5,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"c3c0d0cc-72ca-f80e-3bfd-a48435d6857d","type":"Text","parameters":{"fontFamily":"fonts/Istok_Web/IstokWeb-Regular.ttf","sizeMode":"contentHeight","textAlignX":"left","color":"Grey - 900","textStyle":"Body Small","lineHeight":{"value":1,"unit":""},"alignX":"left"},"ports":[],"children":[]},{"id":"4bd4161e-d5a2-e356-6ef6-5ae9e3adbdd2","type":"Text","parameters":{"color":"Grey - 900","textStyle":"Body Small"},"ports":[],"children":[]},{"id":"24db7fe9-bc6e-f0c1-fdce-184abacf0074","type":"Text","parameters":{"color":"Grey - 900","textStyle":"Body Small"},"ports":[],"children":[]}]}]}]},{"id":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","type":"Model2","parameters":{"properties":"url,name,type,date_created,length","idSource":"foreach"},"ports":[],"children":[]},{"id":"99e2f5e0-b475-3c24-2760-4344e330b68d","type":"/Global logical components/Extract video thumbnail","parameters":{},"ports":[],"children":[]},{"id":"5782591b-ecf7-fd6f-9d70-a2decc0c6229","type":"String Format","parameters":{"format":"Uploaded: {date}"},"ports":[],"children":[]},{"id":"64cb956e-5d7e-e821-8649-c4fa4441ded2","type":"JavaScriptFunction","parameters":{"functionScript":"const inputDate = Inputs.ISODate || '';\nif (!inputDate) throw new Error('Invalid date');\n\ntry {\n  const date = new Date(inputDate);\n  const now = new Date();\n  const diffMs = now - date;\n  const diffSecs = Math.floor(diffMs / 1000);\n  const diffMins = Math.floor(diffSecs / 60);\n  const diffHours = Math.floor(diffMins / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  let formattedDate;\n  if (diffDays > 0) {\n    if (diffDays > 7) {\n      // Format date as DD-MMM-YY\n      const day = date.getDate();\n      const month = date.toLocaleString('default', { month: 'short' });\n      const year = date.getFullYear().toString().substr(-2);\n      formattedDate = `${day}-${month}-${year}`;\n    } else {\n      // Format as 'X days ago'\n      formattedDate = `${diffDays} days ago`;\n    }\n  } else if (diffHours > 0) {\n    // Format as 'X hours ago'\n    formattedDate = `${diffHours} hours ago`;\n  } else if (diffMins > 0) {\n    // Format as 'X minutes ago'\n    formattedDate = `${diffMins} minutes ago`;\n  } else {\n    // Format as 'Just now'\n    formattedDate = 'Just now';\n  }\n\n  Outputs.FormattedDate = formattedDate;\n  Outputs.Success();\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"in-ISODate","displayName":"ISODate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-FormattedDate","displayName":"FormattedDate","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"815b572f-4088-ba39-319b-9421dac0f868","type":"String Format","parameters":{"format":"Length: {length}"},"ports":[],"children":[]},{"id":"4a2387e4-b60e-8d8a-c6fe-9a95be9ae0dd","type":"JavaScriptFunction","parameters":{"functionScript":"const seconds = Inputs.seconds || 0;\n\n// Check if the input is a valid number\nif (isNaN(seconds)) throw new Error('Invalid input. Please enter a number');\n\n// Calculate hours, minutes and seconds\nconst hours = Math.floor(seconds / 3600);\nconst minutes = Math.floor((seconds % 3600) / 60);\nconst remainingSeconds = seconds % 60;\n\n// Format the time to be in 00:00:00 format\nconst formattedTime = [hours, minutes, remainingSeconds].map(unit => unit.toString().padStart(2, '0')).join(':');\n\nOutputs.FormattedTime = formattedTime;\nOutputs.Success();\n"},"ports":[{"name":"in-seconds","displayName":"seconds","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-FormattedTime","displayName":"FormattedTime","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"d4837eb5-2240-ce0e-a784-bf84ca0829fb","type":"/#Directus/Directus Prefab/Components/Data/Directus - Create Data","parameters":{"collection":"Project","SDK Client to use":"User SDK Client","limit":1},"ports":[],"children":[]},{"id":"443b22bf-c6fb-4df3-2eed-9b6d05221210","type":"JavaScriptFunction","parameters":{"functionScript":"// Define the inputs\nconst mainVideoId = Inputs.mainVideoId || null;\nconst introId = Inputs.introId || null;\nconst outroId = Inputs.outroId || null;\nconst projectTitle = Inputs.projectTitle || \"New project\";\nconst projectBrief = Inputs.projectBrief || \"Enter a project brief\";\nconst projectDeadline = Inputs.deadline || null;\nconst projectClient = Inputs.projectClient || null;\n\n// Initialize an empty array\nlet clips = []\nlet videos = [];\n\n// Check if the inputs are valid and if they are, add them to the array\nif (mainVideoId) videos.push({ \"Video_id\": mainVideoId });\nif (introId) videos.push({ \"id\": introId });\nif (outroId) videos.push({ \"id\": outroId });\n\nconst projectData = {\n  name: projectTitle,\n  brief: projectBrief,\n  deadline: projectDeadline,\n  client: projectClient,\n  hasVideos: videos,\n  sharedAccounts: [ { 'Account_id': Inputs.accountId } ]\n}\n\nOutputs.projectData = projectData;\nOutputs.Success();\n"},"ports":[{"name":"in-mainVideoId","displayName":"mainVideoId","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-introId","displayName":"introId","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-outroId","displayName":"outroId","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-projectTitle","displayName":"projectTitle","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-projectBrief","displayName":"projectBrief","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-deadline","displayName":"deadline","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-projectClient","displayName":"projectClient","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-accountId","displayName":"accountId","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-projectData","displayName":"projectData","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"dd2d49b0-54fd-24f6-07f0-26a2863c2006","type":"RouterNavigate","parameters":{"router":"Main","target":"/#Pages/project"},"ports":[],"children":[]},{"id":"22f2dd49-a603-efd8-0334-1841d7c77ba4","type":"Model2","parameters":{"modelId":"Current User","properties":"account"},"ports":[],"children":[]},{"id":"e04a9310-06e0-8d4e-0f9d-c733e53d1406","type":"JavaScriptFunction","parameters":{"functionScript":"switch (Inputs.menuItem) {\n    case \"createProject\":\n    Outputs.toCreateProject();\n    break;\n\n    case \"delete\":\n    Outputs.toDelete();\n    break;\n}"},"ports":[{"name":"in-menuItem","displayName":"menuItem","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-toCreateProject","displayName":"toCreateProject","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-toDelete","displayName":"toDelete","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"43142a2f-5bdf-89d4-82ae-203e6788419c","type":"Model2","parameters":{},"ports":[],"children":[]},{"id":"628cdb66-1b7d-aaab-65ea-32c498927694","type":"CollectionInsert","parameters":{"collectionId":"allProjects"},"ports":[],"children":[]},{"id":"4d7f6aa4-7fdb-9581-8613-5fad350bce15","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"a8967c28-0923-b28e-4f14-0174a9f2b8af","type":"/#Directus/Directus Prefab/Components/Data/Directus - Update Data","parameters":{"collection":"Project","SDK Client to use":"User SDK Client"},"ports":[],"children":[]},{"id":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","type":"States","parameters":{"states":"added,not added","currentState":"not added","values":"icon,background colour,icon colour","useTransitions":true,"type-icon":"string","type-background colour":"color","type-icon colour":"color","value-added-background colour":"Success","value-added-icon colour":"White","value-added-icon":"check","value-not added-icon":"add","value-not added-background colour":"Grey - 400","value-not added-icon colour":"Grey - 900"},"ports":[],"children":[]},{"id":"4c066f96-9674-7768-589e-038a46e23c8c","type":"Collection2","parameters":{"collectionId":"projectVideos"},"ports":[],"children":[]},{"id":"e9f01ca5-d106-f8d5-66d5-de963a56e933","type":"Expression","parameters":{"expression":"videos.some(item => item.id === currentVideoId)"},"ports":[],"children":[]},{"id":"88fa9ab7-35e0-5788-a00f-914f5fad4837","type":"CollectionInsert","parameters":{"collectionId":"projectVideos"},"ports":[],"children":[]},{"id":"4278c645-d199-1bcc-d980-553e425e9d84","type":"JavaScriptFunction","parameters":{"functionScript":"const videoArray = Noodl.Arrays.projectVideos;\n\nconst videoIds = videoArray.map(item => {\n    return { \"Video_id\": item.id };\n});\n\nOutputs.data = {\n    hasVideos: videoIds\n};\nOutputs.Success();\n"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-data","displayName":"data","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"cc347bec-486d-c80d-7299-344f49b25ece","type":"Value Changed","parameters":{},"ports":[],"children":[]},{"id":"d8403740-575c-530c-2210-12a4d92016d9","type":"JavaScriptFunction","parameters":{"functionScript":"const url = window.location.href;\n\ntry {\n  const regex = /project\\/([^\\/\\?]+)/;\n  const match = url.match(regex);\n  if (match && match[1]) {\n    Outputs.PathParameter = match[1];\n    Outputs.Success();\n  } else {\n    throw new Error('Path parameter not found');\n  }\n} catch (error) {\n  Outputs.error = error;\n  Outputs.Failure();\n}\n"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-PathParameter","displayName":"PathParameter","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"prop-url","targetId":"99e2f5e0-b475-3c24-2760-4344e330b68d","targetPort":"videoUrl"},{"sourceId":"99e2f5e0-b475-3c24-2760-4344e330b68d","sourcePort":"imageBlob","targetId":"2f99ee22-f504-1c8b-6925-74da9525b269","targetPort":"src"},{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"prop-name","targetId":"c3c0d0cc-72ca-f80e-3bfd-a48435d6857d","targetPort":"text"},{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"prop-date_created","targetId":"64cb956e-5d7e-e821-8649-c4fa4441ded2","targetPort":"in-ISODate"},{"sourceId":"64cb956e-5d7e-e821-8649-c4fa4441ded2","sourcePort":"out-FormattedDate","targetId":"5782591b-ecf7-fd6f-9d70-a2decc0c6229","targetPort":"date"},{"sourceId":"5782591b-ecf7-fd6f-9d70-a2decc0c6229","sourcePort":"formatted","targetId":"24db7fe9-bc6e-f0c1-fdce-184abacf0074","targetPort":"text"},{"sourceId":"815b572f-4088-ba39-319b-9421dac0f868","sourcePort":"formatted","targetId":"4bd4161e-d5a2-e356-6ef6-5ae9e3adbdd2","targetPort":"text"},{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"prop-length","targetId":"4a2387e4-b60e-8d8a-c6fe-9a95be9ae0dd","targetPort":"in-seconds"},{"sourceId":"4a2387e4-b60e-8d8a-c6fe-9a95be9ae0dd","sourcePort":"out-FormattedTime","targetId":"815b572f-4088-ba39-319b-9421dac0f868","targetPort":"length"},{"sourceId":"443b22bf-c6fb-4df3-2eed-9b6d05221210","sourcePort":"out-projectData","targetId":"d4837eb5-2240-ce0e-a784-bf84ca0829fb","targetPort":"Data"},{"sourceId":"d4837eb5-2240-ce0e-a784-bf84ca0829fb","sourcePort":"record ID","targetId":"dd2d49b0-54fd-24f6-07f0-26a2863c2006","targetPort":"pm-project"},{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"id","targetId":"443b22bf-c6fb-4df3-2eed-9b6d05221210","targetPort":"in-mainVideoId"},{"sourceId":"443b22bf-c6fb-4df3-2eed-9b6d05221210","sourcePort":"out-Success","targetId":"d4837eb5-2240-ce0e-a784-bf84ca0829fb","targetPort":"Do"},{"sourceId":"22f2dd49-a603-efd8-0334-1841d7c77ba4","sourcePort":"prop-account","targetId":"443b22bf-c6fb-4df3-2eed-9b6d05221210","targetPort":"in-accountId"},{"sourceId":"0af0186d-a2e7-6768-1b1d-badd305b3a3d","sourcePort":"Clicked","targetId":"fb00b872-1f75-9ebd-4555-7262a26d69ed","targetPort":"clicked"},{"sourceId":"fb00b872-1f75-9ebd-4555-7262a26d69ed","sourcePort":"itemClicked","targetId":"e04a9310-06e0-8d4e-0f9d-c733e53d1406","targetPort":"run"},{"sourceId":"e04a9310-06e0-8d4e-0f9d-c733e53d1406","sourcePort":"out-toCreateProject","targetId":"443b22bf-c6fb-4df3-2eed-9b6d05221210","targetPort":"run"},{"sourceId":"fb00b872-1f75-9ebd-4555-7262a26d69ed","sourcePort":"itemId","targetId":"e04a9310-06e0-8d4e-0f9d-c733e53d1406","targetPort":"in-menuItem"},{"sourceId":"d4837eb5-2240-ce0e-a784-bf84ca0829fb","sourcePort":"result","targetId":"43142a2f-5bdf-89d4-82ae-203e6788419c","targetPort":"modelId"},{"sourceId":"43142a2f-5bdf-89d4-82ae-203e6788419c","sourcePort":"id","targetId":"628cdb66-1b7d-aaab-65ea-32c498927694","targetPort":"modifyId"},{"sourceId":"d4837eb5-2240-ce0e-a784-bf84ca0829fb","sourcePort":"Success","targetId":"43142a2f-5bdf-89d4-82ae-203e6788419c","targetPort":"fetch"},{"sourceId":"43142a2f-5bdf-89d4-82ae-203e6788419c","sourcePort":"fetched","targetId":"628cdb66-1b7d-aaab-65ea-32c498927694","targetPort":"add"},{"sourceId":"628cdb66-1b7d-aaab-65ea-32c498927694","sourcePort":"modified","targetId":"dd2d49b0-54fd-24f6-07f0-26a2863c2006","targetPort":"navigate"},{"sourceId":"4d7f6aa4-7fdb-9581-8613-5fad350bce15","sourcePort":"show menu item","targetId":"0af0186d-a2e7-6768-1b1d-badd305b3a3d","targetPort":"mounted"},{"sourceId":"4d7f6aa4-7fdb-9581-8613-5fad350bce15","sourcePort":"show add button","targetId":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","targetPort":"mounted"},{"sourceId":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","sourcePort":"icon","targetId":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","targetPort":"icon_name"},{"sourceId":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","sourcePort":"background colour","targetId":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","targetPort":"background colour"},{"sourceId":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","sourcePort":"icon colour","targetId":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","targetPort":"icon colour"},{"sourceId":"4c066f96-9674-7768-589e-038a46e23c8c","sourcePort":"items","targetId":"e9f01ca5-d106-f8d5-66d5-de963a56e933","targetPort":"videos"},{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"id","targetId":"e9f01ca5-d106-f8d5-66d5-de963a56e933","targetPort":"currentVideoId"},{"sourceId":"e9f01ca5-d106-f8d5-66d5-de963a56e933","sourcePort":"isTrueEv","targetId":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","targetPort":"to-added"},{"sourceId":"e9f01ca5-d106-f8d5-66d5-de963a56e933","sourcePort":"isFalseEv","targetId":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","targetPort":"to-not added"},{"sourceId":"ab6ece55-e7cf-977f-4b1b-7d28bc6d4a55","sourcePort":"at-not added","targetId":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","targetPort":"enabled"},{"sourceId":"c2e8fc97-3c8c-a16e-ee6b-d827c74130cb","sourcePort":"id","targetId":"88fa9ab7-35e0-5788-a00f-914f5fad4837","targetPort":"modifyId"},{"sourceId":"25d5422b-fd1d-bb6a-2de1-d7a6ad096de8","sourcePort":"Clicked","targetId":"88fa9ab7-35e0-5788-a00f-914f5fad4837","targetPort":"add"},{"sourceId":"88fa9ab7-35e0-5788-a00f-914f5fad4837","sourcePort":"modified","targetId":"4278c645-d199-1bcc-d980-553e425e9d84","targetPort":"run"},{"sourceId":"4278c645-d199-1bcc-d980-553e425e9d84","sourcePort":"out-Success","targetId":"a8967c28-0923-b28e-4f14-0174a9f2b8af","targetPort":"Do"},{"sourceId":"4278c645-d199-1bcc-d980-553e425e9d84","sourcePort":"out-data","targetId":"a8967c28-0923-b28e-4f14-0174a9f2b8af","targetPort":"data"},{"sourceId":"4c066f96-9674-7768-589e-038a46e23c8c","sourcePort":"count","targetId":"cc347bec-486d-c80d-7299-344f49b25ece","targetPort":"value"},{"sourceId":"cc347bec-486d-c80d-7299-344f49b25ece","sourcePort":"valueChanged","targetId":"e9f01ca5-d106-f8d5-66d5-de963a56e933","targetPort":"run"},{"sourceId":"d8403740-575c-530c-2210-12a4d92016d9","sourcePort":"out-PathParameter","targetId":"a8967c28-0923-b28e-4f14-0174a9f2b8af","targetPort":"Item ID"}],"ports":[{"name":"show menu item","type":"boolean","default":true,"group":"General","plug":"input","index":1},{"name":"show add button","type":"boolean","default":true,"group":"General","plug":"input","index":2}],"roots":["b7fc0395-1dc6-cecd-6d20-e5ea55528af6"]},{"name":"/Global visual components/Context menu","nodes":[{"id":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","type":"Group","parameters":{"position":"absolute","width":{"value":100,"unit":"px"},"sizeMode":"contentSize","alignX":"right","marginTop":{"value":30,"unit":"px"},"backgroundColor":"White","boxShadowEnabled":false,"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowColor":"#00000019","borderRadius":{"value":10,"unit":"px"},"paddingTop":{"value":20,"unit":"px"},"paddingLeft":{"value":30,"unit":"px"},"paddingRight":{"value":30,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"rowGap":{"value":15,"unit":"px"},"zIndex":999,"styleCss":"/* background-color: red; */\n\nbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n","cssClassName":"animated"},"ports":[],"children":[{"id":"6069fa22-2d2d-6e6d-cf91-2de577a48001","type":"Component Children","parameters":{},"ports":[],"children":[]},{"id":"11e033e1-fec3-83c6-09a4-48a1be7b6b88","type":"For Each","parameters":{"template":"/Global visual components/Context menu/Context menu item"},"ports":[],"children":[]}]},{"id":"74d4a855-d20a-1dbf-790b-3690bc065d13","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"fe3f38a7-006a-ac3d-621d-90971b979d65","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"e4371250-b794-0d3f-8258-c7002e37a747","type":"JavaScriptFunction","parameters":{"functionScript":"document.addEventListener('click', function(event) {\n  const filtersPopunder = Inputs.This.getDOMElement();\n  if (filtersPopunder && !filtersPopunder.contains(event.target)) {\n    Outputs.ClickedOutside = true;\n\n    // Reset Outputs.ClickedOutside to false after 500 milliseconds\n    setTimeout(function() {\n      Outputs.ClickedOutside = false;\n    }, 500);\n  }\n});"},"ports":[{"name":"in-This","displayName":"This","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-ClickedOutside","displayName":"ClickedOutside","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"c40cfb0b-dbcd-c770-5fee-fddaa47ab90e","type":"States","parameters":{"states":"visible,notVisible","currentState":"notVisible","values":"mounted","useTransitions":false,"type-mounted":"boolean","value-visible-mounted":true},"ports":[],"children":[]},{"id":"aac29615-63e5-310f-d7b0-919631ad0ff6","type":"Collection2","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","sourcePort":"this","targetId":"e4371250-b794-0d3f-8258-c7002e37a747","targetPort":"in-This"},{"sourceId":"c40cfb0b-dbcd-c770-5fee-fddaa47ab90e","sourcePort":"mounted","targetId":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","targetPort":"mounted"},{"sourceId":"74d4a855-d20a-1dbf-790b-3690bc065d13","sourcePort":"clicked","targetId":"c40cfb0b-dbcd-c770-5fee-fddaa47ab90e","targetPort":"to-visible"},{"sourceId":"e4371250-b794-0d3f-8258-c7002e37a747","sourcePort":"out-ClickedOutside","targetId":"c40cfb0b-dbcd-c770-5fee-fddaa47ab90e","targetPort":"to-notVisible"},{"sourceId":"74d4a855-d20a-1dbf-790b-3690bc065d13","sourcePort":"offset top","targetId":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","targetPort":"marginTop"},{"sourceId":"74d4a855-d20a-1dbf-790b-3690bc065d13","sourcePort":"offset bottom","targetId":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","targetPort":"marginBottom"},{"sourceId":"74d4a855-d20a-1dbf-790b-3690bc065d13","sourcePort":"offset left","targetId":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","targetPort":"marginLeft"},{"sourceId":"74d4a855-d20a-1dbf-790b-3690bc065d13","sourcePort":"offset right","targetId":"c2e9d817-d9d8-0673-0a3b-c39c13a5d985","targetPort":"marginRight"},{"sourceId":"11e033e1-fec3-83c6-09a4-48a1be7b6b88","sourcePort":"itemOutputSignal-clicked","targetId":"c40cfb0b-dbcd-c770-5fee-fddaa47ab90e","targetPort":"to-notVisible"},{"sourceId":"11e033e1-fec3-83c6-09a4-48a1be7b6b88","sourcePort":"itemOutput-itemClicked","targetId":"fe3f38a7-006a-ac3d-621d-90971b979d65","targetPort":"itemId"},{"sourceId":"11e033e1-fec3-83c6-09a4-48a1be7b6b88","sourcePort":"itemOutputSignal-clicked","targetId":"fe3f38a7-006a-ac3d-621d-90971b979d65","targetPort":"itemClicked"},{"sourceId":"74d4a855-d20a-1dbf-790b-3690bc065d13","sourcePort":"menuItems","targetId":"aac29615-63e5-310f-d7b0-919631ad0ff6","targetPort":"items"},{"sourceId":"aac29615-63e5-310f-d7b0-919631ad0ff6","sourcePort":"items","targetId":"11e033e1-fec3-83c6-09a4-48a1be7b6b88","targetPort":"items"}],"ports":[{"name":"itemClicked","type":"signal","plug":"output","index":1},{"name":"menuItems","type":"array","group":"General","plug":"input","index":1},{"name":"itemId","type":"*","plug":"output","index":2},{"name":"clicked","type":{"name":"signal","allowConnectionsOnly":true},"group":"Go to state","plug":"input","index":2},{"name":"offset top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"default":{"value":30,"unit":"px"},"group":"Margin and padding","plug":"input","index":3},{"name":"offset bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margin and padding","plug":"input","index":4},{"name":"offset left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margin and padding","plug":"input","index":5},{"name":"offset right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margin and padding","plug":"input","index":6}],"roots":["c2e9d817-d9d8-0673-0a3b-c39c13a5d985"]},{"name":"/Global visual components/Context menu/Context menu item","nodes":[{"id":"11c11cc9-9de6-c690-4bce-9d28de9a4438","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"},"styleCss":"/* background-color: red; */\ncursor: pointer;"},"ports":[],"children":[{"id":"c5a7c08f-5a06-bd42-c5f7-02fc55799a45","type":"net.noodl.visual.icon","parameters":{"mounted":false,"alignY":"center","iconSize":{"value":24,"unit":"px"},"iconColor":"Grey - 700"},"ports":[],"children":[]},{"id":"e45b0d2a-692f-e4de-98e7-5a12730698ee","type":"Text","parameters":{},"ports":[],"children":[]}]},{"id":"639fec7d-55d5-3093-f095-7261519f730a","type":"Model2","parameters":{"properties":"textColour,itemText,itemIcon,itemId","idSource":"foreach"},"ports":[],"children":[]},{"id":"e43e318f-5b90-7b4f-c779-5f7f27ee61be","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"7b621af9-ad48-5ae8-b943-972ed4799e63","type":"Expression","parameters":{"expression":"icon"},"ports":[],"children":[]},{"id":"6e9bf065-e8e6-7f55-856c-e791800e87bd","type":"/Global logical components/Generate Google icon object","parameters":{},"ports":[],"children":[]},{"id":"fc2ad55c-f27d-e312-fdc4-1138961e932f","type":"JavaScriptFunction","parameters":{"functionScript":"console.log(Inputs.itemClicked);\nif (!Inputs.itemClicked) return;\n\nconst itemClicked = Inputs.itemClicked;\n\nOutputs.itemClicked = itemClicked;\nOutputs.Success()"},"ports":[{"name":"in-itemClicked","displayName":"itemClicked","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-itemClicked","displayName":"itemClicked","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"639fec7d-55d5-3093-f095-7261519f730a","sourcePort":"prop-itemText","targetId":"e45b0d2a-692f-e4de-98e7-5a12730698ee","targetPort":"text"},{"sourceId":"639fec7d-55d5-3093-f095-7261519f730a","sourcePort":"prop-textColour","targetId":"e45b0d2a-692f-e4de-98e7-5a12730698ee","targetPort":"color"},{"sourceId":"7b621af9-ad48-5ae8-b943-972ed4799e63","sourcePort":"result","targetId":"c5a7c08f-5a06-bd42-c5f7-02fc55799a45","targetPort":"mounted"},{"sourceId":"639fec7d-55d5-3093-f095-7261519f730a","sourcePort":"prop-itemIcon","targetId":"7b621af9-ad48-5ae8-b943-972ed4799e63","targetPort":"icon"},{"sourceId":"639fec7d-55d5-3093-f095-7261519f730a","sourcePort":"prop-itemIcon","targetId":"6e9bf065-e8e6-7f55-856c-e791800e87bd","targetPort":"iconName"},{"sourceId":"6e9bf065-e8e6-7f55-856c-e791800e87bd","sourcePort":"iconObject","targetId":"c5a7c08f-5a06-bd42-c5f7-02fc55799a45","targetPort":"iconIconSource"},{"sourceId":"11c11cc9-9de6-c690-4bce-9d28de9a4438","sourcePort":"onClick","targetId":"fc2ad55c-f27d-e312-fdc4-1138961e932f","targetPort":"run"},{"sourceId":"fc2ad55c-f27d-e312-fdc4-1138961e932f","sourcePort":"out-Success","targetId":"e43e318f-5b90-7b4f-c779-5f7f27ee61be","targetPort":"clicked"},{"sourceId":"fc2ad55c-f27d-e312-fdc4-1138961e932f","sourcePort":"out-itemClicked","targetId":"e43e318f-5b90-7b4f-c779-5f7f27ee61be","targetPort":"itemClicked"},{"sourceId":"639fec7d-55d5-3093-f095-7261519f730a","sourcePort":"prop-itemId","targetId":"fc2ad55c-f27d-e312-fdc4-1138961e932f","targetPort":"in-itemClicked"}],"ports":[{"name":"clicked","type":"signal","plug":"output","index":1},{"name":"itemClicked","type":"*","plug":"output","index":3}],"roots":["11c11cc9-9de6-c690-4bce-9d28de9a4438"]},{"name":"/Global logical components/Extract video thumbnail","nodes":[{"id":"35c42d74-d01d-01e7-5992-8f01323c1dfd","type":"JavaScriptFunction","parameters":{"functionScript":"const videoFile = Inputs.VideoFile;  // Noodl input for a local video file\nconst videoUrl = Inputs.VideoUrl || '';  // Noodl input for a remote video URL\n\nif (!videoFile && !videoUrl) {\n    Outputs.Failure();  // Fail if neither a file nor a URL is provided\n    return;\n}\n\ntry {\n    const videoElement = document.createElement('video');\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n\n    if (videoFile) {\n        // Handle local file\n        videoElement.src = URL.createObjectURL(videoFile);\n    } else if (videoUrl) {\n        // Handle remote URL\n        videoElement.src = videoUrl;\n        videoElement.crossOrigin = 'anonymous'; // Allow cross-origin access if needed\n    }\n\n    videoElement.addEventListener('loadeddata', () => {\n        // Seek to the middle of the video\n        videoElement.currentTime = videoElement.duration / 2;\n    });\n\n    videoElement.addEventListener('seeked', () => {\n        // Set canvas size to video dimensions\n        canvas.width = videoElement.videoWidth;\n        canvas.height = videoElement.videoHeight;\n\n        // Draw the video frame onto the canvas\n        context.drawImage(videoElement, 0, 0, videoElement.videoWidth, videoElement.videoHeight);\n\n        // Convert canvas to an image (base64 format)\n        const thumbnailImage = canvas.toDataURL('image/png');\n\n        // Output the thumbnail image\n        Outputs.ThumbnailImage = thumbnailImage;\n        Outputs.Success();  // Trigger Success signal\n    });\n\n    videoElement.addEventListener('error', () => {\n        Outputs.Failure();  // Handle video loading errors\n    });\n\n} catch (error) {\n    console.error(\"Error generating thumbnail:\", error);\n    Outputs.Failure();  // Trigger Failure signal\n}\n"},"ports":[{"name":"in-VideoFile","displayName":"VideoFile","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-VideoUrl","displayName":"VideoUrl","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-ThumbnailImage","displayName":"ThumbnailImage","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"22e922c9-526e-a2ed-b78e-6470ff0b883d","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"cf2ba75e-eccd-92e6-de80-434fd4a87138","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"22e922c9-526e-a2ed-b78e-6470ff0b883d","sourcePort":"localVideo","targetId":"35c42d74-d01d-01e7-5992-8f01323c1dfd","targetPort":"in-VideoFile"},{"sourceId":"22e922c9-526e-a2ed-b78e-6470ff0b883d","sourcePort":"videoUrl","targetId":"35c42d74-d01d-01e7-5992-8f01323c1dfd","targetPort":"in-VideoUrl"},{"sourceId":"35c42d74-d01d-01e7-5992-8f01323c1dfd","sourcePort":"out-ThumbnailImage","targetId":"cf2ba75e-eccd-92e6-de80-434fd4a87138","targetPort":"imageBlob"}],"ports":[{"name":"localVideo","type":"*","group":"Inputs","plug":"input","index":0},{"name":"imageBlob","type":"*","plug":"output","index":1},{"name":"videoUrl","type":"*","group":"Inputs","plug":"input","index":1}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Data/Directus - Update Data","nodes":[{"id":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"94ceb7da-3ffe-06c6-43f8-3d29f2122300","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"cb32e908-350f-2521-15ab-095345734a45","type":"String","parameters":{},"ports":[],"children":[]},{"id":"c9215481-c74a-2b05-5c98-ec847cd23e0e","type":"JavaScriptFunction","parameters":{"functionScript":"const collection = Inputs.collection || null;\r\n\r\nif (typeof (collection) != \"string\" || collection.length <= 0) {\r\n    throw new Error(\"Invalid Collection value provided!\")\r\n} else {\r\n    Outputs.collection = collection;\r\n    Outputs.Done();\r\n}"},"ports":[{"name":"in-collection","displayName":"collection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-collection","displayName":"collection","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"c1659ec6-3209-42a7-0f3b-dd30b8a5c425","type":"States","parameters":{"states":"User SDK Client,Site SDK Client","useTransitions":false},"ports":[],"children":[]},{"id":"cfa1e4ae-ef83-29f7-dff3-0621b13f6767","type":"Timer","parameters":{"duration":100},"ports":[],"children":[]},{"id":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    client: \"string\",\r\n    collection: \"string\",\r\n    operation: \"string\",\r\n    itemID: \"string\",\r\n    itemIDArray: \"array\",\r\n    query: \"object\",\r\n    data: \"object\",\r\n    id_new: \"string\"\r\n}\r\n\r\nfunction map_id_field(data, id_new) {\r\n    if (id_new && id_new != \"\" && data) {\r\n        if (Array.isArray(data) && data.length > 0) {\r\n\r\n            let temp_res = data.map(i => {\r\n                let temp = {\r\n                    ...i\r\n                };\r\n                if (i.id) temp[id_new] = i.id;\r\n                return temp;\r\n            });\r\n            return temp_res;\r\n\r\n        } else if (typeof (data) == \"object\") {\r\n\r\n            let temp = {\r\n                ...data\r\n            };\r\n            if (data.id) temp[id_new] = data.id;\r\n            return temp;\r\n\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\n\r\n\r\nScript.Signals.UpdateData = async function () {\r\n\r\n    const client_selection = Script.Inputs.client || null;\r\n    const sdk_client = (client_selection == \"User SDK Client\") ? Noodl.Objects.DirectusSDK.Client : Noodl.Objects.DirectusSDK.SiteClient;\r\n\r\n    const collection = Script.Inputs.collection;\r\n    const operation = Script.Inputs.operation;\r\n    const id_new = Script.Inputs.id_new || null;\r\n\r\n    const itemID = Script.Inputs.itemID;\r\n    const itemIDArray = Script.Inputs.itemIDArray;\r\n\r\n    const data = Script.Inputs.data || {};\r\n\r\n    const query = Script.Inputs.query || {};\r\n\r\n    try {\r\n        if (sdk_client && collection && operation) {\r\n            let result;\r\n            switch (operation) {\r\n                case \"single\":\r\n                    result = await sdk_client.request(Directus.updateItem(collection, itemID, data));\r\n                    break;\r\n                case \"multiple\":\r\n                    let query_obj = {};\r\n\r\n                    if (query) query_obj = structuredClone(query);\r\n\r\n                    if (Object.keys(query_obj).length == 0 || query_obj == {}) {\r\n                        throw new Error(\"Provide a valid Query object\")\r\n                    }\r\n\r\n                    result = await sdk_client.request(Directus.updateItems(collection, query_obj, data));\r\n                    break;\r\n                case \"multipleByIDs\":\r\n                    result = await sdk_client.request(Directus.updateItems(collection, itemIDArray, data));\r\n                    break;\r\n                case \"singleton\":\r\n                    result = await sdk_client.request(Directus.updateSingleton(collection, data));\r\n                    break;\r\n                case \"all\":\r\n                    result = await sdk_client.request(Directus.updateItems(collection, [], data));\r\n                    break;\r\n            }\r\n\r\n            result = map_id_field(result, id_new); // Map the id field in the incoming data to a new field, if set\r\n            Script.Outputs.result = result;\r\n            if (result) {\r\n                Script.Outputs.Success();\r\n            } else {\r\n                Script.Outputs.Failure();\r\n            }\r\n        } else {\r\n            Script.Outputs.error = \"Invalid configuration!\";\r\n            Script.Outputs.Failure();\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err);\r\n\r\n        Script.Outputs.error = err?.errors.map(i => i.message).join(\"\\n\") ?? JSON.stringify(err);\r\n        Script.Outputs.Failure();\r\n    }\r\n}\r\n"},"ports":[{"name":"client","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"collection","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"operation","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"itemID","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"itemIDArray","plug":"input","type":{"name":"array"},"group":"Inputs","index":9},{"name":"query","plug":"input","type":{"name":"object"},"group":"Inputs","index":10},{"name":"data","plug":"input","type":{"name":"object"},"group":"Inputs","index":11},{"name":"id_new","plug":"input","type":{"name":"string"},"group":"Inputs","index":12},{"name":"UpdateData","plug":"input","type":{"name":"signal"},"group":"Inputs","index":13},{"name":"Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":16},{"name":"error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":17}],"children":[]},{"id":"a72b0a36-a0cf-6406-3bdd-eaee4b982da4","type":"States","parameters":{"states":"Update Single by ID,Update Multiple by Filter,Update Singleton,Update Multiple by IDs","useTransitions":false},"ports":[],"children":[]},{"id":"4bbc8ed1-bc87-7733-4a83-809200750f34","type":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Update)","parameters":{},"ports":[],"children":[]},{"id":"a846da38-257f-058b-d7b9-6ee5e34f58e0","type":"/#Directus/Directus Prefab/Components/Utils/SDK Client Check","parameters":{},"ports":[],"children":[]},{"id":"5ec87862-542b-1d75-bd9d-6aff873c19c9","type":"States","parameters":{"states":"No,Yes","useTransitions":false,"values":"new_id","type-new_id":"string","value-Yes-new_id":"directus_id"},"ports":[],"children":[]}],"connections":[{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"collection","targetId":"cb32e908-350f-2521-15ab-095345734a45","targetPort":"value"},{"sourceId":"cb32e908-350f-2521-15ab-095345734a45","sourcePort":"savedValue","targetId":"c9215481-c74a-2b05-5c98-ec847cd23e0e","targetPort":"in-collection"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"SDK Client to use","targetId":"c1659ec6-3209-42a7-0f3b-dd30b8a5c425","targetPort":"currentState"},{"sourceId":"c9215481-c74a-2b05-5c98-ec847cd23e0e","sourcePort":"out-Done","targetId":"cfa1e4ae-ef83-29f7-dff3-0621b13f6767","targetPort":"start"},{"sourceId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","sourcePort":"Success","targetId":"94ceb7da-3ffe-06c6-43f8-3d29f2122300","targetPort":"Success"},{"sourceId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","sourcePort":"Failure","targetId":"94ceb7da-3ffe-06c6-43f8-3d29f2122300","targetPort":"Failure"},{"sourceId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","sourcePort":"result","targetId":"94ceb7da-3ffe-06c6-43f8-3d29f2122300","targetPort":"result"},{"sourceId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","sourcePort":"error","targetId":"94ceb7da-3ffe-06c6-43f8-3d29f2122300","targetPort":"error"},{"sourceId":"c9215481-c74a-2b05-5c98-ec847cd23e0e","sourcePort":"out-collection","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"collection"},{"sourceId":"c1659ec6-3209-42a7-0f3b-dd30b8a5c425","sourcePort":"currentState","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"client"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"limit","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Limit"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"offset","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Offset"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"page","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Page"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"search","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Search"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"filter","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"filter"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"deep","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"deep"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"Do","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Set"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"Update Type","targetId":"a72b0a36-a0cf-6406-3bdd-eaee4b982da4","targetPort":"currentState"},{"sourceId":"a72b0a36-a0cf-6406-3bdd-eaee4b982da4","sourcePort":"currentState","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Update Type"},{"sourceId":"4bbc8ed1-bc87-7733-4a83-809200750f34","sourcePort":"query","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"query"},{"sourceId":"4bbc8ed1-bc87-7733-4a83-809200750f34","sourcePort":"operation","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"operation"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"Item ID","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Item ID"},{"sourceId":"4bbc8ed1-bc87-7733-4a83-809200750f34","sourcePort":"itemID","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"itemID"},{"sourceId":"cfa1e4ae-ef83-29f7-dff3-0621b13f6767","sourcePort":"timerFinished","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"UpdateData"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"Item ID Array","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Item IDs Array"},{"sourceId":"4bbc8ed1-bc87-7733-4a83-809200750f34","sourcePort":"itemIDArray","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"itemIDArray"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"data","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"data"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"sort","targetId":"4bbc8ed1-bc87-7733-4a83-809200750f34","targetPort":"Sort"},{"sourceId":"c1659ec6-3209-42a7-0f3b-dd30b8a5c425","sourcePort":"currentState","targetId":"a846da38-257f-058b-d7b9-6ee5e34f58e0","targetPort":"State"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"Do","targetId":"a846da38-257f-058b-d7b9-6ee5e34f58e0","targetPort":"Do"},{"sourceId":"a846da38-257f-058b-d7b9-6ee5e34f58e0","sourcePort":"Success","targetId":"c9215481-c74a-2b05-5c98-ec847cd23e0e","targetPort":"run"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"Map incoming ID field","targetId":"5ec87862-542b-1d75-bd9d-6aff873c19c9","targetPort":"currentState"},{"sourceId":"b0ac26c6-65ed-9fbb-6f11-75ab70d2676c","sourcePort":"ID new name","targetId":"5ec87862-542b-1d75-bd9d-6aff873c19c9","targetPort":"value-Yes-new_id"},{"sourceId":"5ec87862-542b-1d75-bd9d-6aff873c19c9","sourcePort":"new_id","targetId":"1bd5ece8-e9f0-8584-57ed-6f5c58753dcc","targetPort":"id_new"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"SDK Client to use","type":{"name":"enum","enums":["User SDK Client","Site SDK Client"]},"default":"User SDK Client","group":"Config","plug":"input","index":1},{"name":"result","type":"*","plug":"output","index":2},{"name":"collection","type":{"name":"string"},"default":"","group":"Config","plug":"input","index":2},{"name":"error","type":"*","plug":"output","index":3},{"name":"Update Type","type":{"name":"enum","enums":["Update Single by ID","Update Multiple by Filter","Update Singleton","Update Multiple by IDs"]},"default":"Update Single by ID","group":"What to Update","plug":"input","index":3},{"name":"Item ID","type":"*","group":"Update Item by ID","plug":"input","index":5},{"name":"Item ID Array","type":"*","group":"Update Item by ID","plug":"input","index":6},{"name":"limit","type":{"name":"number"},"default":0,"group":"Update Multiple Items","plug":"input","index":8},{"name":"sort","type":{"name":"string"},"default":"","group":"Update Multiple Items","plug":"input","index":9},{"name":"offset","type":{"name":"number"},"default":0,"group":"Update Multiple Items","plug":"input","index":10},{"name":"page","type":{"name":"number"},"default":0,"group":"Update Multiple Items","plug":"input","index":11},{"name":"search","type":{"name":"string"},"default":"","group":"Update Multiple Items","plug":"input","index":12},{"name":"filter","type":"*","group":"Update Multiple Items","plug":"input","index":13},{"name":"deep","type":"*","group":"Update Multiple Items","plug":"input","index":14},{"name":"data","type":{"name":"object"},"group":"Data","plug":"input","index":16},{"name":"Map incoming ID field","type":{"name":"enum","enums":["No","Yes"]},"default":"No","group":"Map ID field","plug":"input","index":17},{"name":"ID new name","type":"string","default":"directus_id","group":"Map ID field","plug":"input","index":18}],"roots":[]},{"name":"/#Directus/Directus Prefab/Components/Utils - Query Parameters/Directus - Query parameters (for Update)","nodes":[{"id":"e9f646de-bc3e-8cce-5909-f496c673419a","type":"String","parameters":{},"ports":[],"children":[]},{"id":"1747acad-e6a2-a099-74db-0bda9310b775","type":"JavaScriptFunction","parameters":{"functionScript":"const aggregate = Inputs.aggregate || null;\r\nconst groupBy = Inputs.groupBy || null;\r\nconst filter = Inputs.filter || null;\r\nconst deep = Inputs.deep || null;\r\nconst alias = Inputs.alias || null;\r\n\r\nif (aggregate) {\r\n    if (typeof (aggregate == \"object\")) {\r\n        Outputs.aggregate = aggregate;\r\n    } else {\r\n        throw new Error(\"Data provided for 'aggregate' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (groupBy) {\r\n    if (typeof (groupBy == \"object\") && Array.isArray(groupBy)) {\r\n        Outputs.groupBy = groupBy;\r\n    } else {\r\n        throw new Error(\"Data provided for 'groupBy' needs to be of 'Array' type!\")\r\n    }\r\n}\r\n\r\nif (filter) {\r\n    if (typeof (filter == \"object\")) {\r\n        Outputs.filter = filter;\r\n    } else {\r\n        throw new Error(\"Data provided for 'filter' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (deep) {\r\n    if (typeof (deep == \"object\")) {\r\n        Outputs.deep = deep;\r\n    } else {\r\n        throw new Error(\"Data provided for 'deep' needs to be of 'Object' type!\")\r\n    }\r\n}\r\n\r\nif (alias) {\r\n    if (typeof (alias == \"object\")) {\r\n        Outputs.alias = alias;\r\n    } else {\r\n        throw new Error(\"Data provided for 'alias' needs to be of 'Object' type!\")\r\n    }\r\n}"},"ports":[{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-aggregate","displayName":"aggregate","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-groupBy","displayName":"groupBy","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-filter","displayName":"filter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-deep","displayName":"deep","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-alias","displayName":"alias","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"98a51035-5dad-51b3-ee81-062038565da2","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"3319ff6a-ac1c-a03b-80cd-a34fbda38571","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"e454c0ad-7759-596b-bf86-2776356d3a8f","type":"String","parameters":{},"ports":[],"children":[]},{"id":"3fda88a7-1c3f-7935-b4f4-f08b000d6efb","type":"String","parameters":{},"ports":[],"children":[]},{"id":"4b47142d-9697-ddb2-f8bc-0bc30fd4746e","type":"Boolean","parameters":{"value":true},"ports":[],"children":[]},{"id":"5a5bda63-0b47-876d-11d3-fa83e6f44daa","type":"Number","parameters":{},"ports":[],"children":[]},{"id":"5ed65b01-9c4e-2384-089d-5d775347a116","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5022edf8-54a9-7375-57ef-c37f5fea71d7","type":"JavaScriptFunction","parameters":{"functionScript":"const limit = Inputs.limit;\r\nconst fields = Inputs.fields;\r\nconst filter = Inputs.filter ?? null;\r\nconst search = Inputs.search ?? null;\r\nconst sort = Inputs.sort ?? null;\r\nconst offset = Inputs.offset ?? null;\r\nconst page = Inputs.page ?? null;\r\nconst aggregate = Inputs.aggregate ?? null;\r\nconst groupBy = Inputs.groupBy ?? null;\r\nconst deep = Inputs.deep ?? null;\r\nconst alias = Inputs.alias ?? null;\r\n\r\nconst query = {};\r\n\r\nif (limit) query.limit = limit;\r\nif (filter) query.filter = filter;\r\nif (search) query.search = search;\r\nif (fields) query.fields = fields;\r\nif (sort) query.sort = sort;\r\nif (offset) query.offset = offset;\r\nif (page) query.page = page;\r\nif (aggregate) query.aggregate = aggregate;\r\nif (groupBy) query.groupBy = groupBy;\r\nif (deep) query.deep = deep;\r\nif (alias) query.alias = alias;\r\n\r\nOutputs.query = query;\r\nOutputs.Done();"},"ports":[{"name":"in-limit","displayName":"limit","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-filter","displayName":"filter","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-search","displayName":"search","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-sort","displayName":"sort","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-offset","displayName":"offset","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-page","displayName":"page","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-aggregate","displayName":"aggregate","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-groupBy","displayName":"groupBy","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-deep","displayName":"deep","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-alias","displayName":"alias","plug":"input","type":"*","group":"Inputs","index":14},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-query","displayName":"query","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"899c2eb8-77b8-f210-a044-eade0291d69d","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","type":"JavaScriptFunction","parameters":{"functionScript":"const update_type = Inputs.update_type ?? null;\r\nconst item_id = Inputs.item_id ?? null;\r\nconst item_ids = Inputs.item_id_array ?? null;\r\nconst limit_raw = Inputs.limit_raw ?? null;\r\n\r\nlet operation = null;\r\nlet limit = null;\r\nlet itemID = null;\r\nlet itemIDArray = null;\r\n\r\n///////////////////////////////////\r\n\r\nif (update_type) {\r\n    if (update_type == \"Update Single by ID\") {\r\n        if (item_id) {\r\n            operation = \"single\";\r\n            itemID = item_id;\r\n        } else {\r\n            throw new Error(\"Provide valid Item ID\");\r\n        }\r\n    } else if (update_type == \"Update Multiple by IDs\") {\r\n        if(!item_ids || !Array.isArray(item_ids) || (item_ids || []).length <= 0 ) throw new Error(\"Provide valid array of Item IDs!\");\r\n        operation = \"multipleByIDs\";\r\n        itemIDArray = [].concat(item_ids);\r\n    } else if (update_type == \"Update Multiple by Filter\") {\r\n        if(limit_raw){\r\n            if(limit_raw <= 0){\r\n                limit = 1\r\n            } else {\r\n                limit = limit_raw;\r\n            }\r\n        }\r\n        operation = \"multiple\";\r\n\r\n    } else if (update_type == \"Update All\") {\r\n\r\n        limit = -1;\r\n        operation = \"all\";\r\n\r\n    } else if (update_type == \"Update Singleton\") {\r\n        operation = \"singleton\";\r\n    } else {\r\n        operation = null;\r\n    }\r\n    \r\n    Outputs.operation = operation;\r\n    Outputs.limit = limit;\r\n    if(itemID) Outputs.itemID = itemID;\r\n    if(itemIDArray) Outputs.itemIDArray = itemIDArray;\r\n}\r\n"},"ports":[{"name":"in-update_type","displayName":"update_type","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-item_id","displayName":"item_id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-item_id_array","displayName":"item_id_array","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-limit_raw","displayName":"limit_raw","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-operation","displayName":"operation","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-limit","displayName":"limit","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-itemID","displayName":"itemID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-itemIDArray","displayName":"itemIDArray","plug":"output","type":"*","group":"Outputs","index":11}],"children":[]},{"id":"aa8b30c3-c0dd-031a-ece9-0db9663f0b3a","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.result = (Inputs.get_all_fields ?? true) ? '*' : (Inputs.fields || '*');"},"ports":[{"name":"in-get_all_fields","displayName":"get_all_fields","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-fields","displayName":"fields","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Search","targetId":"e9f646de-bc3e-8cce-5909-f496c673419a","targetPort":"value"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"filter","targetId":"1747acad-e6a2-a099-74db-0bda9310b775","targetPort":"in-filter"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"aggregate","targetId":"1747acad-e6a2-a099-74db-0bda9310b775","targetPort":"in-aggregate"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"alias","targetId":"1747acad-e6a2-a099-74db-0bda9310b775","targetPort":"in-alias"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"deep","targetId":"1747acad-e6a2-a099-74db-0bda9310b775","targetPort":"in-deep"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"groupBy","targetId":"1747acad-e6a2-a099-74db-0bda9310b775","targetPort":"in-groupBy"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Page","targetId":"98a51035-5dad-51b3-ee81-062038565da2","targetPort":"value"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Offset","targetId":"3319ff6a-ac1c-a03b-80cd-a34fbda38571","targetPort":"value"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Sort","targetId":"e454c0ad-7759-596b-bf86-2776356d3a8f","targetPort":"value"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Fields","targetId":"3fda88a7-1c3f-7935-b4f4-f08b000d6efb","targetPort":"value"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Get all fields","targetId":"4b47142d-9697-ddb2-f8bc-0bc30fd4746e","targetPort":"value"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Limit","targetId":"5a5bda63-0b47-876d-11d3-fa83e6f44daa","targetPort":"value"},{"sourceId":"1747acad-e6a2-a099-74db-0bda9310b775","sourcePort":"out-filter","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-filter"},{"sourceId":"1747acad-e6a2-a099-74db-0bda9310b775","sourcePort":"out-aggregate","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-aggregate"},{"sourceId":"1747acad-e6a2-a099-74db-0bda9310b775","sourcePort":"out-groupBy","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-groupBy"},{"sourceId":"1747acad-e6a2-a099-74db-0bda9310b775","sourcePort":"out-deep","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-deep"},{"sourceId":"1747acad-e6a2-a099-74db-0bda9310b775","sourcePort":"out-alias","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-alias"},{"sourceId":"e454c0ad-7759-596b-bf86-2776356d3a8f","sourcePort":"savedValue","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-sort"},{"sourceId":"3319ff6a-ac1c-a03b-80cd-a34fbda38571","sourcePort":"savedValue","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-offset"},{"sourceId":"98a51035-5dad-51b3-ee81-062038565da2","sourcePort":"savedValue","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-page"},{"sourceId":"e9f646de-bc3e-8cce-5909-f496c673419a","sourcePort":"savedValue","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-search"},{"sourceId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","sourcePort":"out-query","targetId":"899c2eb8-77b8-f210-a044-eade0291d69d","targetPort":"query"},{"sourceId":"5a5bda63-0b47-876d-11d3-fa83e6f44daa","sourcePort":"savedValue","targetId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","targetPort":"in-limit_raw"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Set","targetId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","targetPort":"run"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Update Type","targetId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","targetPort":"in-update_type"},{"sourceId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","sourcePort":"out-limit","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-limit"},{"sourceId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","sourcePort":"out-operation","targetId":"899c2eb8-77b8-f210-a044-eade0291d69d","targetPort":"operation"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Item ID","targetId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","targetPort":"in-item_id"},{"sourceId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","sourcePort":"out-itemID","targetId":"899c2eb8-77b8-f210-a044-eade0291d69d","targetPort":"itemID"},{"sourceId":"4b47142d-9697-ddb2-f8bc-0bc30fd4746e","sourcePort":"savedValue","targetId":"aa8b30c3-c0dd-031a-ece9-0db9663f0b3a","targetPort":"in-get_all_fields"},{"sourceId":"3fda88a7-1c3f-7935-b4f4-f08b000d6efb","sourcePort":"savedValue","targetId":"aa8b30c3-c0dd-031a-ece9-0db9663f0b3a","targetPort":"in-fields"},{"sourceId":"aa8b30c3-c0dd-031a-ece9-0db9663f0b3a","sourcePort":"out-result","targetId":"5022edf8-54a9-7375-57ef-c37f5fea71d7","targetPort":"in-fields"},{"sourceId":"5ed65b01-9c4e-2384-089d-5d775347a116","sourcePort":"Item IDs Array","targetId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","targetPort":"in-item_id_array"},{"sourceId":"2e97e68b-a1f0-1a75-ae55-8cbf55f91d61","sourcePort":"out-itemIDArray","targetId":"899c2eb8-77b8-f210-a044-eade0291d69d","targetPort":"itemIDArray"}],"ports":[{"name":"Set","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"query","type":"*","plug":"output","index":1},{"name":"Update Type","type":"*","group":"Inputs","plug":"input","index":1},{"name":"operation","type":"*","plug":"output","index":2},{"name":"Item ID","type":"*","group":"Inputs","plug":"input","index":2},{"name":"itemID","type":"*","plug":"output","index":3},{"name":"Item IDs Array","type":"*","group":"Inputs","plug":"input","index":3},{"name":"itemIDArray","type":"*","plug":"output","index":4},{"name":"Limit","type":{"name":"number"},"default":0,"plug":"input","index":4},{"name":"Get all fields","type":{"name":"boolean"},"default":true,"plug":"input","index":5},{"name":"Fields","type":{"name":"string"},"default":"","plug":"input","index":6},{"name":"Sort","type":{"name":"string"},"default":"","plug":"input","index":7},{"name":"Offset","type":{"name":"number"},"default":0,"plug":"input","index":8},{"name":"Page","type":{"name":"number"},"default":0,"plug":"input","index":9},{"name":"Search","type":{"name":"string"},"default":"","plug":"input","index":10},{"name":"aggregate","type":"*","group":"Inputs","plug":"input","index":11},{"name":"groupBy","type":"*","group":"Inputs","plug":"input","index":12},{"name":"filter","type":"*","group":"Inputs","plug":"input","index":13},{"name":"deep","type":"*","group":"Inputs","plug":"input","index":14},{"name":"alias","type":"*","group":"Inputs","plug":"input","index":15}],"roots":[]}]